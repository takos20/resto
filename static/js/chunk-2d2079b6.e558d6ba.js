(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2079b6"],{a0f7:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title mb-5 black--text lighten-5 text-center",staticStyle:{height:"30px","margin-top":"30px","background-color":"#e9eef4"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.stock_movement.list.title"))+" ")]),a("v-card",[a("div",{staticClass:"mt-5 mx-5"},[a("v-btn",{staticClass:"mr-2 my-2",attrs:{loading:t.loading.refresh,depressed:"",color:"#f1f5fc"},on:{click:function(e){return t.refreshItems()}}},[a("v-icon",{attrs:{left:"",color:"primary"}},[t._v("mdi-refresh")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.refresh"))+" ")],1),a("v-spacer")],1),a("div",[a("v-card-title",[a("div",{staticClass:"title"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.stock_movement.filter"))+" ")])]),a("v-card-text",[a("v-row",{attrs:{wrap:""}},[a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}}),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-select",{staticClass:"font-weight-bold",attrs:{color:"primary",items:t.optionMovement.type_Movement,label:t.$vuetify.lang.t("$vuetify.expenses_nature.cols.type.title"),clearable:"",dense:"","prepend-inner-icon":"mdi-format-list-bulleted-type mdi-dark mdi-18px",outlined:""},on:{change:t.performFilter},scopedSlots:t._u([{key:"label",fn:function(){return[a("span",{staticClass:"red--text"},[a("strong",[t._v("* ")])]),t._v(t._s(t.$vuetify.lang.t("$vuetify.expenses_nature.cols.type.title"))+" ")]},proxy:!0}]),model:{value:t.filter.type,callback:function(e){t.$set(t.filter,"type",e)},expression:"filter.type"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-menu",{attrs:{color:"primary","close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.item_movements.cols.period_of.title"),"prepend-inner-icon":"mdi-calendar",outlined:"",dense:"",clearable:"",readonly:""},model:{value:t.filter.start_date,callback:function(e){t.$set(t.filter,"start_date",e)},expression:"filter.start_date"}},"v-text-field",n,!1),s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{max:t.maxDate,color:"primary"},on:{change:t.performFilter,input:function(e){t.menu=!1}},model:{value:t.filter.start_date,callback:function(e){t.$set(t.filter,"start_date",e)},expression:"filter.start_date"}})],1)],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-menu",{attrs:{color:"primary","close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"font-weight-bold",attrs:{color:"primary",clearable:"",label:t.$vuetify.lang.t("$vuetify.item_movements.cols.period_of.title2"),"prepend-inner-icon":"mdi-calendar",outlined:"",dense:"",readonly:""},model:{value:t.filter.end_date,callback:function(e){t.$set(t.filter,"end_date",e)},expression:"filter.end_date"}},"v-text-field",n,!1),s))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{max:t.maxDate,min:t.getMinDate,color:"primary"},on:{change:t.performFilter,input:function(e){t.menu2=!1}},model:{value:t.filter.end_date,callback:function(e){t.$set(t.filter,"end_date",e)},expression:"filter.end_date"}})],1)],1)],1)],1)],1),a("v-data-table",{staticClass:"mt-5",attrs:{"footer-props":{"items-per-page-options":t.itemPerPageOptions},headers:t.headers,items:t.items,"items-per-page":t.itemPerPage,loading:t.loading.list,options:t.pagination,"server-items-length":t.meta.totalElements,"sort-by":t.sortBy,"item-key":"name"},on:{"update:options":function(e){t.pagination=e}},scopedSlots:t._u([{key:"header.ingredient",fn:function(e){var s=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.type",fn:function(e){var s=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.source",fn:function(e){var s=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.quantity",fn:function(e){var s=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.create_date",fn:function(e){var s=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.null",fn:function(e){var s=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"body",fn:function(e){var s=e.items;return[a("tbody",t._l(s,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.ingredient.name)+" ")]),a("td",{staticClass:"subtitle-2"},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u(["ENTRY"===e.type?{key:"activator",fn:function(s){var n=s.on;return[a("v-icon",t._g({staticClass:"pointer",staticStyle:{"font-size":"15px"},attrs:{color:"teal darken-1",dark:""}},n),[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.stock_movement.cols.type."+e.type))+" ")])]}}:{key:"activator",fn:function(s){var n=s.on;return[a("v-icon",t._g({staticClass:"pointer",staticStyle:{"font-size":"15px"},attrs:{color:"red accent-4",dark:""}},n),[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.stock_movement.cols.type."+e.type))+" ")])]}}],null,!0)})],1),a("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.quantity)+" ")]),a("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.stock_movement.cols.source."+e.source))+" ")]),a("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.$moment(e.createdAt).format("YYYY-MM-DD H:mm:ss"))+" ")])])})),0)]}}])})],1)],1)},n=[],i=(a("4de4"),a("d3b7"),a("24a2")),r=a("21a6"),l={mixins:[i["a"]],data:function(){return{urlItems:"movement_stocks",urlItemsAll:"cash_movements/all",sortBy:["-id"],items:[],cashs:[],isActive:null,current_cash:null,menu2:!1,menu:!1,cash:null,maxDate:(new Date).toISOString().substr(0,10),minDate:(new Date).toISOString().substr(0,10),dialogDelete:{show:!1},dialogDetail:{show:!1},dialogEnt:{show:!1},loading:{list:!1,refresh:!1,filter:!1},dialogFormMovement:{show:!1,shows:{showFilter:!1,showInfo:!1}},form:{id:null,type:null,email:null,code:null,password:null,role:null,is_active:null},filter:{type:null,start_date:null,end_date:null,role:null},messages:{title:"",submit:"",success:""},optionMovement:{type_Movement:[]},messagesDelete:{success:"$vuetify.stock_movement.delete.success"}}},computed:{getMinDate:function(){var t,e="";return e=null===(t=new Date(this.filter.start_date))||void 0===t?void 0:t.toISOString().substr(0,10),e}},created:function(){this.setHeaders,this.getOptionsMovement()},mounted:function(){},methods:{get_sum_entry:function(){var t=this._.filter(this.items,(function(t){return"ENTRY"===t.type})),e=this._.sumBy(t,(function(t){return t.amount_movement}));return e},get_sum_exit:function(){var t=this._.filter(this.items,(function(t){return"EXIT"===t.type})),e=this._.sumBy(t,(function(t){return t.amount_movement}));return e},getOptionsMovement:function(){var t=this;this._.each(this.$store.getters.type_Movement,(function(e){t.optionMovement.type_Movement.push({text:t.$vuetify.lang.t(e.text),value:e.value})}))},exportPDF:function(){var t=this,e={};null!==t.filter.type&&(e["type"]=t.filter.type),null!==t.filter.start_date&&void 0!==t.filter.start_date&&(e["start_date"]=t.filter.start_date),null!==t.filter.end_date&&(e["end_date"]=t.filter.end_date),this._.isEmpty(this._search)||(this._search=this._.merge(e,this._search)),t.$store.dispatch("request",{url:t.urlItemsAll+"?export=pdf",params:e,responseType:"blob"}).then((function(t){var e="Listes des mouvements",a=new Blob([t.data],{type:t.data.type});r.saveAs(a,e)})),this.$store.dispatch("showNotification",{statut:!1})},setHeaders:function(){this.headers=[{text:"$vuetify.ingredient.title",value:"type",align:"start",sortable:!1,width:"50",class:"grey--text text--darken-3"},{text:"$vuetify.stock_movement.cols.type.title",value:"type",align:"start",sortable:!1,width:"50",class:"grey--text text--darken-3"},{text:"$vuetify.recipe.cols.quantity.title",value:"quantity",align:"start",sortable:!1,width:"20",class:"grey--text text--darken-3"},{text:"$vuetify.stock_movement.cols.source.title",value:"source",align:"start",sortable:!1,width:"20",class:"grey--text text--darken-3"},{text:"$vuetify.cash_movement.cols.created.title",value:"create_date",align:"start",sortable:!0,width:"105",class:"grey--text text--darken-3"}]},showFilter:function(){this.dialogForm.shows.showFilter=!0},performFilter:function(){var t=this;t.loading.list=!0;var e={};null!==t.filter.type&&(e["type"]=t.filter.type),null!==t.filter.start_date&&void 0!==t.filter.start_date&&(e["start_date"]=t.filter.start_date),null!==t.filter.end_date&&(e["end_date"]=t.filter.end_date),t._search=e,t.getItems().then((function(){t.$refs.filterForm.closeDialog()})).finally((function(){t.$refs.filterForm.stopLoadingBtn()}))}},components:{}},o=l,c=a("2877"),u=a("6544"),d=a.n(u),f=a("8336"),m=a("b0af"),v=a("99d9"),p=a("62ad"),y=a("8fea"),_=a("2e4b"),h=a("132d"),g=a("e449"),b=a("0fd9"),x=a("b974"),k=a("2fa4"),$=a("8654"),w=a("3a2f"),C=Object(c["a"])(o,s,n,!1,null,"24030d1b",null);e["default"]=C.exports;d()(C,{VBtn:f["a"],VCard:m["a"],VCardText:v["b"],VCardTitle:v["c"],VCol:p["a"],VDataTable:y["a"],VDatePicker:_["a"],VIcon:h["a"],VMenu:g["a"],VRow:b["a"],VSelect:x["a"],VSpacer:k["a"],VTextField:$["a"],VTooltip:w["a"]})}}]);
//# sourceMappingURL=chunk-2d2079b6.e558d6ba.js.map