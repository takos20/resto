(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b959c"],{3328:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"title mb-5 black--text lighten-5 text-center",staticStyle:{height:"30px","margin-top":"30px","background-color":"#e9eef4"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.payslips.list.title"))+" ")]),s("discipline",{attrs:{color:"black"}})],1)},i=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-card",{staticClass:"pb-4"},[s("div",{staticClass:"mt-5 mx-5"},[t._.includes(this.$auth.user().permissions,"add_payslips")?[s("v-btn",{staticClass:"mr-2 my-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.create()}}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-blur-radial")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.add"))+" ")],1)]:t._e(),s("v-btn",{staticClass:"mr-2 my-2",attrs:{loading:t.loading.refresh,depressed:"",color:"#f1f5fc"},on:{click:function(e){return t.refreshItems()}}},[s("v-icon",{attrs:{left:"",color:"primary"}},[t._v("mdi-refresh")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.refresh"))+" ")],1),s("v-spacer")],2)]),s("br"),s("v-card",{staticClass:"pb-4"},[s("v-card-title",[s("div",{staticClass:"title"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.payslips.filter"))+" ")])]),s("v-card-text",[s("v-row",{attrs:{wrap:""}},[s("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"12"}},[s("v-autocomplete",{staticClass:"font-weight-bold",attrs:{dense:"",items:t.itemsEmployee,loading:t.isLoadingEmployee,"search-input":t.searchEmployee,label:t.$vuetify.lang.t("$vuetify.employee.title"),color:"primary","item-text":"name","hide-no-data":"","item-value":"id","prepend-inner-icon":"mdi-code-array",outlined:"",clearable:""},on:{"update:searchInput":function(e){t.searchEmployee=e},"update:search-input":function(e){t.searchEmployee=e}},scopedSlots:t._u([{key:"selection",fn:function(e){return[t._v(" "+t._s(e.item.lastName)+" - "+t._s(e.item.firstName)+" ")]}},{key:"item",fn:function(e){return[t._v(" "+t._s(e.item.lastName)+" - "+t._s(e.item.firstName)+" ")]}},{key:"label",fn:function(){return[s("span",{staticClass:"red--text"},[s("strong",[t._v("* ")])]),t._v(t._s(t.$vuetify.lang.t("$vuetify.employee.title"))+" ")]},proxy:!0}]),model:{value:t.form.employee,callback:function(e){t.$set(t.form,"employee",e)},expression:"form.employee"}})],1)],1)],1)],1),s("v-card",[s("v-data-table",{staticClass:"mt-5",attrs:{"footer-props":{"items-per-page-options":t.itemPerPageOptions},headers:t.headers,items:t.items,"items-per-page":t.itemPerPage,loading:t.loading.list,options:t.pagination,"server-items-length":t.meta.totalElements,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"item-key":"name"},on:{"update:options":function(e){t.pagination=e}},scopedSlots:t._u([{key:"header.code",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.employee",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.sanction",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.startdate",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.enddate",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.created",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.null",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"body",fn:function(e){var a=e.items;return[s("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.hover;return s("tbody",{},t._l(a,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.employee.lastName)+" "+t._s(e.employee.firstName)+" ")]),s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.startDate)+" ")]),s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.endDate)+" ")]),s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.$moment(e.createdAt).format("YYYY-MM-DD HH:mm:ss"))+" ")]),s("td",{staticClass:"subtitle-2"},[[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([t._.includes(t.$auth.user().permissions,"change_payslips")?{key:"activator",fn:function(a){var n=a.on;return[s("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.smAndDown||i,expression:"$vuetify.breakpoint.smAndDown || hover"}],attrs:{color:"secondary",icon:"",text:""},on:{click:function(s){return t.editpayslips(e)}}},n),[s("v-icon",[t._v("mdi-update")])],1)]}}:null],null,!0)},[s("span",[t._v(t._s(t.$vuetify.lang.t("$vuetify.btn.edit")))])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([t._.includes(t.$auth.user().permissions,"delete_payslips")?{key:"activator",fn:function(a){var n=a.on;return[s("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.smAndDown||i,expression:"$vuetify.breakpoint.smAndDown || hover"}],attrs:{color:"red",icon:"",text:"",dark:""},on:{click:function(s){return t.deleteItem(e)}}},n),[s("v-icon",[t._v("mdi-delete-outline")])],1)]}}:null],null,!0)},[s("span",[t._v(t._s(t.$vuetify.lang.t("$vuetify.btn.remove")))])])]],2)])})),0)}}],null,!0)})]}}])}),s("form-payslips",{ref:"payslipsForm",attrs:{dialog:t.dialogForm,form:t.form,messages:t.messages},on:{getItems:t.getItems}}),s("delete-item",{attrs:{dialog:t.dialogDelete,messages:t.messagesDelete,urlItems:t.urlDeleteItems},on:{getItems:t.getItems}})],1)],1)},l=[],r=(s("4de4"),s("d3b7"),s("24a2")),o=s("98b8"),u=s("cd41"),c={mixins:[r["a"]],data:function(){return{urlItems:"/payslips",urlEmployee:"employees",isLoadingEmployee:!1,searchEmployee:null,itemsEmployee:[],urlSanction:"sanctions",isLoadingSanction:!1,searchSanction:null,itemsSanction:[],sortBy:["id"],dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogDelete:{show:!1},dialogDetail:{show:!1},dialogEnt:{show:!1},form:{id:null,title:null},loading:{list:!1,refresh:!1,filter:!1},filter:{employee:null,sanction:null},messages:{title:"",submit:"",success:""},messagesDelete:{success:"$vuetify.payslips.delete.success"}}},watch:{searchEmployee:function(t){var e=this;if(null!==t){var s={name:t},a=this;this.isLoadingEmployee=!0,this.$store.dispatch("request",{url:a.urlEmployee,params:s}).then((function(t){a.itemsEmployee=t.data.content})).finally((function(){return e.isLoadingEmployee=!1}))}},searchSanction:function(t){var e=this;if(null!==t){var s={name:t},a=this;this.isLoadingSanction=!0,this.$store.dispatch("request",{url:a.urlSanction,params:s}).then((function(t){a.itemsSanction=t.data.content})).finally((function(){return e.isLoadingSanction=!1}))}}},methods:{setHeaders:function(){this.headers=[{text:"$vuetify.employee.title",value:"employee",align:"start",sortable:!0,width:"50",class:"grey--text text--darken-3"},{text:"$vuetify.payslips.cols.startDate.title",value:"startdate",align:"start",sortable:!0,width:"150",class:"grey--text text--darken-3"},{text:"$vuetify.payslips.cols.endDate.title",value:"enddate",align:"start",sortable:!0,width:"150",class:"grey--text text--darken-3"},{text:"$vuetify.payslips.cols.created.title",value:"created",align:"start",sortable:!0,width:"105",class:"grey--text text--darken-3"},{text:"$vuetify.shape.cols.actions.title",value:null,align:"start",sortable:!0,width:"80"}]},create:function(){this.dialogForm.show=!0,this.messages={title:"$vuetify.payslips.new.title",submit:"$vuetify.payslips.new.submit",success:"$vuetify.payslips.new.success"},this.form={id:null,title:null}},editpayslips:function(t){this.dialogForm.show=!0,this.messages={title:"$vuetify.payslips.update.title",submit:"$vuetify.payslips.update.submit",success:"$vuetify.payslips.update.success"},this.$refs.payslipsForm.setForm(t)},performFilter:function(){var t=this;t.loading.list=!0;var e={};null!==t.filter.emlyee&&(e["emplyee"]=t.filter.employee),null!==t.filter.sanction&&(e["sanction"]=t.filter.sanction),t._search=e,t.getItems().then((function(){t.$refs.filterForm.closeDialog()})).finally((function(){t.$refs.filterForm.stopLoadingBtn()}))}},components:{FormPayslips:o["a"],DeleteItem:u["a"]}},d=c,m=s("2877"),p=s("6544"),f=s.n(p),v=s("c6a6"),y=s("8336"),h=s("b0af"),g=s("99d9"),_=s("62ad"),b=s("8fea"),$=s("ce87"),w=s("132d"),x=s("0fd9"),k=s("2fa4"),D=s("3a2f"),C=Object(m["a"])(d,n,l,!1,null,"10d41412",null),E=C.exports;f()(C,{VAutocomplete:v["a"],VBtn:y["a"],VCard:h["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:_["a"],VDataTable:b["a"],VHover:$["a"],VIcon:w["a"],VRow:x["a"],VSpacer:k["a"],VTooltip:D["a"]});var S={metaInfo:function(){return{title:this.$vuetify.lang.t("$vuetify.payslips.title")}},data:function(){return{}},components:{Discipline:E}},I=S,F=Object(m["a"])(I,a,i,!1,null,null,null);e["default"]=F.exports}}]);
//# sourceMappingURL=chunk-2d0b959c.0d091fee.js.map