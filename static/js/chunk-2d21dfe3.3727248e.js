(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21dfe3"],{d452:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-card",{staticClass:"pb-4"},[s("v-row",[s("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[s("h3",{staticClass:"my-4",staticStyle:{"padding-left":"15px"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.consultation.title"))+" ")])]),s("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[s("v-btn",{staticClass:"mr-2 my-2",attrs:{loading:t.loading.refresh,depressed:"",color:"#f1f5fc"},on:{click:function(e){return t.refreshItems()}}},[s("v-icon",{attrs:{left:"",color:"primary"}},[t._v("mdi-refresh")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.refresh"))+" ")],1)],1),s("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[s("v-menu",{attrs:{color:"primary","close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[s("v-text-field",t._g(t._b({staticClass:"font-weight-bold my-2",attrs:{color:"primary",clearable:"","prepend-inner-icon":"mdi-clock-start mdi-dark mdi-18px",outlined:"",label:t.$vuetify.lang.t("$vuetify.meeting.cols.startDate.title"),dense:"",readonly:""},model:{value:t.form.start_date,callback:function(e){t.$set(t.form,"start_date",e)},expression:"form.start_date"}},"v-text-field",o,!1),a))]}}]),model:{value:t.menu4,callback:function(e){t.menu4=e},expression:"menu4"}},[s("v-date-picker",{attrs:{max:t.maxDate,color:"primary"},on:{change:t.getItems,input:function(e){t.menu4=!1}},model:{value:t.form.start_date,callback:function(e){t.$set(t.form,"start_date",e)},expression:"form.start_date"}})],1)],1),s("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[s("v-menu",{attrs:{color:"primary","close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[s("v-text-field",t._g(t._b({staticClass:"font-weight-bold my-2",attrs:{color:"primary",clearable:"","prepend-inner-icon":"mdi-clock-end mdi-dark mdi-18px",outlined:"",label:t.$vuetify.lang.t("$vuetify.appointment.cols.end_appointment_date.title"),dense:"",readonly:""},model:{value:t.form.end_date,callback:function(e){t.$set(t.form,"end_date",e)},expression:"form.end_date"}},"v-text-field",o,!1),a))]}}]),model:{value:t.menu5,callback:function(e){t.menu5=e},expression:"menu5"}},[s("v-date-picker",{attrs:{max:t.maxDate,min:t.getminDateBestSell,color:"primary"},on:{change:t.getItems,input:function(e){t.menu5=!1}},model:{value:t.form.end_date,callback:function(e){t.$set(t.form,"end_date",e)},expression:"form.end_date"}})],1)],1)],1),s("v-data-table",{staticClass:"mt-5",attrs:{"footer-props":{"items-per-page-options":t.itemPerPageOptions},headers:t.headers,items:t.items,"items-per-page":t.itemPerPage,loading:t.loading.list,options:t.pagination,"server-items-length":t.meta.totalElements,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"item-key":"patient"},on:{"update:options":function(e){t.pagination=e}},scopedSlots:t._u([{key:"header.code",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.name_doctor",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.type_consultation",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.status",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.createdAt",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.null",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"body",fn:function(e){var a=e.items;return[s("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var o=e.hover;return s("tbody",{},t._l(a,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.code)+" ")]),s("td",{staticClass:"subtitle-2"},[t._v("DR. "+t._s(e.doctor.name))]),s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.type_consultation?e.type_consultation.title:"-")+" ")]),"WAITING"==e.status?s("td",{staticClass:"subtitle-2"},[s("v-btn",{staticClass:"mr-2 my-2 white--text",attrs:{color:"blue darken-6",small:""}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.consultation.cols.status."+e.status))+" ")])],1):"PENDING"==e.status?s("td",{staticClass:"subtitle-2"},[s("v-btn",{staticClass:"mr-2 my-2 white--text",attrs:{color:"orange darken-5",small:""}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.consultation.cols.status."+e.status))+" ")])],1):s("td",{staticClass:"subtitle-2"},[s("v-btn",{staticClass:"mr-2 my-2 white--text",attrs:{color:"green darken-5",small:""}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.consultation.cols.status."+e.status))+" ")])],1),s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.$moment(e.createdAt).format("YYYY-MM-DD HH:mm:ss"))+" ")]),s("td",{staticClass:"subtitle-2"},[[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[s("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.smAndDown||o,expression:"$vuetify.breakpoint.smAndDown || hover"}],attrs:{color:"details",icon:"",text:""},on:{click:function(s){return t.detailsConsultation(e)}}},n),[s("v-icon",[t._v("mdi-details")])],1)]}}],null,!0)},[s("span",[t._v(t._s(t.$vuetify.lang.t("$vuetify.consultation.infos")))])])]],2)])})),0)}}],null,!0)})]}}])}),s("form-consultation",{ref:"consultationForm",attrs:{dialog:t.dialogForm,form:t.form,messages:t.messages},on:{getItems:t.getItems}}),s("form-medical",{ref:"medicalForm",attrs:{dialog:t.dialogFormMedical,form:t.form,messages:t.messages},on:{getItems:t.getItems}}),s("form-prenatal",{ref:"prenatalForm",attrs:{dialog:t.dialogFormPrenatal,form:t.form,messages:t.messages},on:{getItems:t.getItems}}),s("form-ophtalmologic",{ref:"ophtalmologicForm",attrs:{dialog:t.dialogFormOphtalmologic,form:t.form,messages:t.messages},on:{getItems:t.getItems}}),s("delete-item",{attrs:{dialog:t.dialogDelete,messages:t.messagesDelete,urlItems:t.urlDeleteItems},on:{getItems:t.getItems}})],1)],1)},o=[],n=(s("4de4"),s("a9e3"),s("b64b"),s("d3b7"),s("24a2")),l=s("b795"),i=s("08b0"),r=s("65d2"),u=s("7938"),c=s("cd41"),m={mixins:[n["a"]],props:{id:Number},data:function(){return{urlItems:"/consultations",sortBy:["id"],dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},menu4:!1,menu5:!1,dialogFormMedical:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogFormPrenatal:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogFormOphtalmologic:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogDelete:{show:!1},dialogDetail:{show:!1},dialogEnt:{show:!1},maxDate:(new Date).toISOString().substr(0,10),maxDateStatMonth:(new Date).toISOString().substr(0,7),form:{id:null,code:null,medicalObservationPatient:null,background:null,diagnosticImpressions:null,newExamsRequested:null,additionalTests:null,toBehave:null,examenOrl:null,otherExam:null,descRectal:null,vaginalExamination:null,speculumExam:null,rectalTouch:null,descExamSpeculum:null,pelvicExam:null,neuroPsychologicalExam:null,descAbdominalExam:null,lymphNodeResearch:null,abdominalAuscultation:null,lumbarConvulsion:null,cardioPulmonaryExamination:null,gradeAlterations:null,conjunctivae:null,jaundice:null,autoMedicare:null,other:null,weight:null,poul:null,temperature:null,tension:null,ta:null,descriptionBm:null,condition:null,tbs:null,tbm:null,examResults:[],careSheet:[],categoryBackground:[],descriptionBs:null,descriptionFamily:null,descriptionAllergy:null,reason:null,patient:null,doctor:null,start_date:null,end_date:null},filter:{userpatient:null,role:null},messages:{title:"",submit:"",success:""},loading:{list:!1,refresh:!1,filter:!1},messagesDelete:{success:"$vuetify.prescription.delete.success"}}},computed:{getminDateBestSell:function(){var t,e="";return e=null===(t=new Date(this.form.start_date))||void 0===t?void 0:t.toISOString().substr(0,10),e}},methods:{setHeaders:function(){this.headers=[{text:"$vuetify.consultation.cols.code.title",value:"code",align:"start",sortable:!0,width:"50",class:"grey--text text--darken-3"},{text:"$vuetify.prescription.cols.doctor.title",value:"name_doctor",align:"start",sortable:!0,width:"50",class:"grey--text text--darken-3"},{text:"$vuetify.type_consultation.title",value:"type_consultation",align:"start",sortable:!0,width:"50",class:"grey--text text--darken-3"},{text:"$vuetify.consultation.cols.status.title",value:"status",align:"start",sortable:!0,width:"20",class:"grey--text text--darken-3"},{text:"$vuetify.consultation.cols.createdAt.title",value:"createdAt",align:"start",sortable:!0,width:"105",class:"grey--text text--darken-3"},{text:"$vuetify.consultation.cols.actions.title",value:null,align:"start",sortable:!0,width:"140"}]},create:function(){this.dialogForm.show=!0,this.messages={title:"$vuetify.consultation.new.title",submit:"$vuetify.consultation.new.submit",success:"$vuetify.consultation.new.success"}},detailsConsultation:function(t){t.consultation.length>0?("MEDICAL"===t.type_consultation.type?(this.dialogFormMedical.show=!0,this.$refs.medicalForm.setFormConsult(t.consultation[0])):"PRENATAL"===t.type_consultation.type?(this.dialogFormPrenatal.show=!0,this.$refs.prenatalForm.setFormConsult(t.consultation[0])):(this.dialogFormOphtalmologic.show=!0,this.$refs.ophtalmologicForm.setFormConsult(t.consultation[0])),this.messages={title:"$vuetify.consultation.update.title",submit:"$vuetify.consultation.update.submit",success:"$vuetify.consultation.update.success"}):("MEDICAL"===t.type_consultation.type?(this.dialogFormMedical.show=!0,this.$refs.medicalForm.setFormConsultation(t)):"PRENATAL"===t.type_consultation.type?(this.dialogFormPrenatal.show=!0,this.$refs.prenatalForm.setFormConsultation(t)):(this.dialogFormOphtalmologic.show=!0,this.$refs.ophtalmologicForm.setFormConsultation(t)),this.messages={title:"$vuetify.consultation.new.title",submit:"$vuetify.consultation.new.submit",success:"$vuetify.consultation.new.success"})},getItems:function(){var t=this,e=this,s={};return null!==e.form.start_date&&(s["start_date"]=e.form.start_date),null!==e.form.end_date&&(s["end_date"]=e.form.end_date),this._.isEmpty(this._search)||(this._search=this._.merge(s,this._search)),new Promise((function(a,o){t.loading.list=!0,e.$store.dispatch("request",{url:e.urlItems+"?patient="+t.id,method:"get",params:s}).then((function(t){var s=t.data;e.items=s.content,a(t)})).catch((function(s){var a=t.$vuetify.lang.t("$vuetify.error_occured");if(s.response)if(400===s.response.status){var n=s.response.data;e.setFormErrors(n);var l=Object.keys(n)[0];l&&Array.isArray(n[l])&&(a=n[l][0])}else 403===s.response.status?a=e.$vuetify.lang.t("$vuetify.error_denied"):500===s.response.status&&(a=e.$vuetify.lang.t("$vuetify.error_server"));e.$store.dispatch("showNotification",{status:!0,text:a}),o(s)})).then((function(){e.loading.list=!1,a()}))}))},editConsultation:function(t){this.dialogForm.show=!0,this.messages={title:"$vuetify.consultation.update.title",submit:"$vuetify.consultation.update.submit",success:"$vuetify.consultation.update.success"},this.$refs.consultationForm.setForm(t)},showFilter:function(){this.dialogForm.shows.showFilter=!0},performFilter:function(){var t=this;t.loading.list=!0;var e={};null!==t.filter.userpatient&&(e["userpatient"]=t.filter.userpatient),null!==t.filter.role&&(e["role"]=t.filter.role),t._search=e,t.getItems().then((function(){t.$refs.filterForm.closeDialog()})).finally((function(){t.$refs.filterForm.stopLoadingBtn()}))},assignEnterprise:function(t){this.dialogEnt.show=!0,this.$refs.assignForm.setForm(t)}},components:{FormConsultation:l["a"],FormMedical:i["a"],FormPrenatal:r["a"],FormOphtalmologic:u["a"],DeleteItem:c["a"]}},d=m,f=s("2877"),g=s("6544"),v=s.n(g),h=s("8336"),p=s("b0af"),y=s("62ad"),_=s("8fea"),b=s("2e4b"),w=s("ce87"),$=s("132d"),x=s("e449"),F=s("0fd9"),k=s("8654"),C=s("3a2f"),I=Object(f["a"])(d,a,o,!1,null,"a048586a",null);e["default"]=I.exports;v()(I,{VBtn:h["a"],VCard:p["a"],VCol:y["a"],VDataTable:_["a"],VDatePicker:b["a"],VHover:w["a"],VIcon:$["a"],VMenu:x["a"],VRow:F["a"],VTextField:k["a"],VTooltip:C["a"]})}}]);
//# sourceMappingURL=chunk-2d21dfe3.3727248e.js.map