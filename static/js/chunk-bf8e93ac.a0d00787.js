(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf8e93ac"],{2331:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{persistent:"","max-width":"780px"},model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[i("v-card",[i("v-card-title",[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.title))+" ")])]),i("v-divider",{staticClass:"mx-4"}),i("v-form",{on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[i("v-card",[i("v-card-text",[i("v-container",[i("v-row",{attrs:{wrap:""}},[i("v-col",{attrs:{cols:"12"}},[i("v-card",{staticClass:"pa-4",attrs:{outlined:""}},[i("div",{staticClass:"d-flex align-center justify-space-between mb-4"},[i("div",[i("div",{staticClass:"text-h6 font-weight-bold"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.dish.language"))+" ")]),i("div",{staticClass:"grey--text text--darken-1 text-caption"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.dish.language_description"))+" ")])]),i("v-btn",{attrs:{color:"primary",small:""},on:{click:t.addColumnLanguage}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.add"))+" ")],1)],1),i("v-divider",{staticClass:"mb-4"}),t._l(t.name_language,(function(e,a){return i("v-card",{key:a,staticClass:"mb-2 pa-2 rounded-lg",attrs:{outlined:""}},[i("v-row",{attrs:{dense:"",align:"center"}},[i("v-col",{attrs:{cols:"4"}},[i("v-select",{attrs:{items:t.optionLanguage.type_language,"item-text":"text","item-value":"value",outlined:"",dense:"","hide-details":"",label:t.$vuetify.lang.t("$vuetify.dish.cols.language.title")},model:{value:e.language,callback:function(i){t.$set(e,"language",i)},expression:"rule.language"}})],1),i("v-col",{attrs:{cols:"7"}},[i("v-text-field",{attrs:{outlined:"",dense:"","hide-details":"",label:t.$vuetify.lang.t("$vuetify.dish.cols.name.title")},model:{value:e.name,callback:function(i){t.$set(e,"name",i)},expression:"rule.name"}})],1),i("v-col",{staticClass:"d-flex justify-end",attrs:{cols:"1"}},[i("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(e){return t.removeColumnLanguage(a)}}},[i("v-icon",[t._v("mdi-delete-outline")])],1)],1)],1)],1)}))],2)],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.ingredient.cols.unit.title"),"error-messages":t.unitErrors,"prepend-inner-icon":"mdi-rename-box mdi-dark mdi-18px",outlined:"",dense:""},on:{blur:function(e){return t.$v.form.unit.$touch()},input:function(e){return t.$v.form.unit.$touch()}},scopedSlots:t._u([{key:"label",fn:function(){return[i("span",{staticClass:"red--text"},[i("strong",[t._v("* ")])]),t._v(t._s(t.$vuetify.lang.t("$vuetify.ingredient.cols.unit.title"))+" ")]},proxy:!0}]),model:{value:t.form.unit,callback:function(e){t.$set(t.form,"unit",e)},expression:"form.unit"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.ingredient.cols.price_per_unit.title"),"prepend-inner-icon":"mdi-rename-box mdi-dark mdi-18px",outlined:"",dense:""},scopedSlots:t._u([{key:"label",fn:function(){return[i("span",{staticClass:"red--text"},[i("strong")]),t._v(t._s(t.$vuetify.lang.t("$vuetify.ingredient.cols.price_per_unit.title"))+" ")]},proxy:!0}]),model:{value:t.form.price_per_unit,callback:function(e){t.$set(t.form,"price_per_unit",e)},expression:"form.price_per_unit"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{readonly:"",color:"primary",label:t.$vuetify.lang.t("$vuetify.ingredient.cols.last_paid_price.title"),"prepend-inner-icon":"mdi-rename-box mdi-dark mdi-18px",outlined:"",dense:""},scopedSlots:t._u([{key:"label",fn:function(){return[i("span",{staticClass:"red--text"},[i("strong")]),t._v(t._s(t.$vuetify.lang.t("$vuetify.ingredient.cols.last_paid_price.title"))+" ")]},proxy:!0}]),model:{value:t.form.last_paid_price,callback:function(e){t.$set(t.form,"last_paid_price",e)},expression:"form.last_paid_price"}})],1)],1)],1)],1),i("v-divider",{staticClass:"mx-4",staticStyle:{"margin-top":"-25px"}}),i("v-card-actions",[i("v-spacer"),i("v-btn",{on:{click:function(e){return t.forceRefresh()}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.close"))+" ")]),i("v-btn",{attrs:{color:"primary",loading:t.loading,dark:"",type:"submit"}},[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.submit))+" ")])],1)],1)],1)],1),i("form-translation",{ref:"translationForm",attrs:{dialog:t.dialogForm,form:t.form,messages:t.messages}})],1)},n=[],r=(i("a434"),i("b0c0"),i("b64b"),i("d3b7"),i("5530")),s=i("5ed4"),o=i("b5ae"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{persistent:"","max-width":"580px"},model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[i("v-card",[i("v-card-title"),i("v-divider",{staticClass:"mx-4"}),i("v-form",{on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[i("v-card",[i("v-card-text",[i("v-container",[i("v-row",{attrs:{wrap:""}},[i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[i("v-select",{staticClass:"text-h7 font-weight-bold",attrs:{color:"primary",items:t.optionLanguage.type_language,"error-messages":t.languageErrors,label:t.$vuetify.lang.t("$vuetify.dish.cols.language.title"),"prepend-inner-icon":"mdi-earth mdi-dark mdi-18px","item-text":"text","item-value":"value",outlined:"",dense:""},on:{blur:function(e){return t.$v.form.language.$touch()},input:function(e){return t.$v.form.language.$touch()}},model:{value:t.form.language,callback:function(e){t.$set(t.form,"language",e)},expression:"form.language"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.dish.cols.name.title"),"prepend-inner-icon":"mdi-code-array mdi-dark mdi-18px",outlined:"",dense:"","error-messages":t.nameErrors},on:{blur:function(e){return t.$v.form.name.$touch()},input:function(e){return t.$v.form.name.$touch()}},scopedSlots:t._u([{key:"label",fn:function(){return[i("span",{staticClass:"red--text"},[i("strong",[t._v("* ")])]),t._v(t._s(t.$vuetify.lang.t("$vuetify.dish.cols.name.title"))+" ")]},proxy:!0}]),model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"12"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",row:2,label:t.$vuetify.lang.t("$vuetify.dish.cols.description.title"),"prepend-inner-icon":"mdi-rename-box mdi-dark mdi-18px",outlined:"",dense:""},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1)],1)],1),i("v-divider",{staticClass:"mx-4",staticStyle:{"margin-top":"-25px"}}),i("v-card-actions",[i("v-spacer"),i("v-btn",{on:{click:function(e){t.dialog.show=!1}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.close"))+" ")]),i("v-btn",{attrs:{color:"primary",loading:t.loading,dark:"",type:"submit"}},[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.submit))+" ")])],1)],1)],1)],1)],1)},u=[],c=(i("a4d3"),i("e01a"),i("717c")),d={mixins:[s["a"]],props:{form:{type:Object,default:function(){return{id:null,description:null,language:null,name:null}}}},data:function(){return{formData:{id:null,name:null},is_active:!0,dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},optionLanguage:{type_language:[]},is_delivery:!0,urlItems:"ingredients/translations",isLoading:!1,search:null,itemsCategory:[],types:{role:[]},itemsRoles:[]}},watch:{search:function(t){var e=this;if(null!==t){var i={name:t},a=this;this.isLoading=!0,this.$store.dispatch("request",{url:a.urlCategory,params:i}).then((function(t){a.itemsCategory=t.data.content})).finally((function(){return e.isLoading=!1}))}}},created:function(){this.getOptionsLanguage()},validations:function(){var t={form:{name:{required:o["required"],unique:c["ab"]},language:{required:o["required"]}}};return t},methods:{getOptionsLanguage:function(){var t=this;this._.each(this.$store.getters.type_language,(function(e){t.optionLanguage.type_language.push({text:t.$vuetify.lang.t(e.text),value:e.value})}))},getDataForm:function(){var t={description:this.form.description,language:this.form.language,name:this.form.name};return t},setForm:function(t){this.form.id=t.id,this.form.description=t.description,this.form.language=t.language,this.form.name=t.name}},computed:{nameErrors:function(){var t=[];return this.$v.form.name.$dirty?(!this.$v.form.name.required&&t.push(this.$vuetify.lang.t("$vuetify.dish.cols.name.required")),!this.$v.form.name.unique&&t.push(this.$vuetify.lang.t("$vuetify.ingredient.cols.name.unique")),t):t},languageErrors:function(){var t=[];return this.$v.form.language.$dirty?(!this.$v.form.language.required&&t.push(this.$vuetify.lang.t("$vuetify.category.cols.language.required")),t):t},categoryErrors:function(){var t=[];return this.$v.form.category.$dirty?(!this.$v.form.category.required&&t.push(this.$vuetify.lang.t("$vuetify.dish.cols.category.required")),t):t},priceErrors:function(){var t=[];return this.$v.form.price.$dirty?(!this.$v.form.price.required&&t.push(this.$vuetify.lang.t("$vuetify.dish.cols.price.required")),t):t}},components:{}},f=d,g=i("2877"),m=i("6544"),v=i.n(m),p=i("8336"),h=i("b0af"),y=i("99d9"),$=i("62ad"),_=i("a523"),b=i("169a"),x=i("ce7e"),w=i("4bd4"),C=i("0fd9"),k=i("b974"),V=i("2fa4"),q=i("8654"),L=Object(g["a"])(f,l,u,!1,null,null,null),E=L.exports;v()(L,{VBtn:p["a"],VCard:h["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:$["a"],VContainer:_["a"],VDialog:b["a"],VDivider:x["a"],VForm:w["a"],VRow:C["a"],VSelect:k["a"],VSpacer:V["a"],VTextField:q["a"]});var F={mixins:[s["a"]],props:{form:{type:Object,default:function(){return{id:null,price_per_unit:null,stock_quantity:null,unit:null,name:null}}}},data:function(){return{formData:{id:null,name:null},is_active:!0,dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},urlItemsTranslate:"ingredients/translations",optionLanguage:{type_language:[]},name_language:[],optionsLanguages:{text:{language:"",name:"",saved:!1}},urlItems:"ingredients"}},watch:{},created:function(){this.getOptionsLanguage()},validations:function(){var t={form:{unit:{required:o["required"]}}};return t},methods:{addColumnLanguage:function(){this.name_language.push(Object(r["a"])({},this.optionsLanguages.text))},removeColumnLanguage:function(t){this.name_language.splice(t,1)},forceRefresh:function(){this.dialog.show=!1,this.name_language=[]},saveLanguage:function(t){var e=this;this.$store.dispatch("showNotification",{statut:!1});var i={ingredient:this.form.id,language:t.language,name:t.name},a=this;a.$v.$touch(),a.$v.$invalid||(this.loading=!0,this.$store.dispatch("request",{url:a.urlItemsTranslate,method:"POST",data:i}).then((function(){a.$store.dispatch("showNotification",{statut:!0,text:a.$vuetify.lang.t(a.messages.success)}),e.getMethod(),a.$emit("getItems")})).catch((function(t){var i="$vuetify.error_server";if(t.response&&400===t.response.status){var n=t.response.data;a.setFormErrors(n),e.$forceUpdate();var r=Object.keys(n)[0];r&&Array.isArray(n[r])&&(i=n[r][0])}a.$store.dispatch("showNotification",{statut:!0,text:i,color:"#B71C1C"})})).finally((function(){a.loading=!1})))},getOptionsLanguage:function(){var t=this;this._.each(this.$store.getters.type_language,(function(e){t.optionLanguage.type_language.push({text:t.$vuetify.lang.t(e.text),value:e.value})}))},getDataForm:function(){var t={price_per_unit:this.form.price_per_unit,unit:this.form.unit,name_language:this.name_language};return t},setForm:function(t){this.form.id=t.id,this.form.unit=t.unit,this.name_language=t.name_language,this.form.price_per_unit=t.price_per_unit}},computed:{nameErrors:function(){var t=[];return this.$v.form.name.$dirty?(!this.$v.form.name.required&&t.push(this.$vuetify.lang.t("$vuetify.ingredient.cols.name.required")),!this.$v.form.name.unique&&t.push(this.$vuetify.lang.t("$vuetify.ingredient.cols.name.unique")),t):t},price_per_unitErrors:function(){var t=[];return this.$v.form.price_per_unit.$dirty?(!this.$v.form.price_per_unit.required&&t.push(this.$vuetify.lang.t("$vuetify.ingredient.cols.price_per_unit.required")),t):t},unitErrors:function(){var t=[];return this.$v.form.unit.$dirty?(!this.$v.form.unit.required&&t.push(this.$vuetify.lang.t("$vuetify.ingredient.cols.unit.required")),t):t},billableErrors:function(){var t=[];return this.$v.form.billable.$dirty?(!this.$v.form.billable.required&&t.push(this.$vuetify.lang.t("$vuetify.category.cols.billable.required")),t):t}},components:{FormTranslation:E}},D=F,I=i("132d"),O=Object(g["a"])(D,a,n,!1,null,null,null);e["a"]=O.exports;v()(O,{VBtn:p["a"],VCard:h["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:$["a"],VContainer:_["a"],VDialog:b["a"],VDivider:x["a"],VForm:w["a"],VIcon:I["a"],VRow:C["a"],VSelect:k["a"],VSpacer:V["a"],VTextField:q["a"]})},cd41:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[i("v-card",[i("v-card-text",[i("v-divider",{staticClass:"mx-4"}),i("v-card-text",[i("div",{staticClass:"body-1 font-weight-bold"},[i("br"),i("h3",[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.delete.confirm"))+" ")])])])],1),i("v-divider",{staticClass:"mx-4",staticStyle:{"margin-top":"-30px"}}),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{disabled:t.loading},on:{click:function(e){t.dialog.show=!1}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.no"))+" ")]),i("v-btn",{attrs:{loading:t.loading,dark:"",color:"#0984e3"},on:{click:function(e){return t.deleteItem()}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.yes"))+" ")])],1)],1)],1)},n=[],r={props:{dialog:{type:Object,default:function(){return{show:!1}}},urlItems:{type:String,default:""},messages:{type:Object,default:function(){return{success:""}}}},data:function(){return{loading:!1}},methods:{deleteItem:function(){var t=this;this.loading=!0,this.$store.dispatch("request",{url:t.urlItems,method:"DELETE",data:t.urlDeleteItems}).then((function(){t.$store.dispatch("showNotification",{statut:!0,text:t.$vuetify.lang.t(t.messages.success)}),t.$emit("getItems"),t.dialog.show=!1})).catch((function(e){console.log("erreur delete",e),t.$store.dispatch("showNotification",{statut:!0,text:t.$vuetify.lang.t("$vuetify.deletedErrors")})})).then((function(){t.loading=!1}))}}},s=r,o=i("2877"),l=i("6544"),u=i.n(l),c=i("8336"),d=i("b0af"),f=i("99d9"),g=i("169a"),m=i("ce7e"),v=i("2fa4"),p=Object(o["a"])(s,a,n,!1,null,null,null);e["a"]=p.exports;u()(p,{VBtn:c["a"],VCard:d["a"],VCardActions:f["a"],VCardText:f["b"],VDialog:g["a"],VDivider:m["a"],VSpacer:v["a"]})}}]);
//# sourceMappingURL=chunk-bf8e93ac.a0d00787.js.map