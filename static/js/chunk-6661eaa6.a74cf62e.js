(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6661eaa6"],{"6ca3":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"title mb-5 black--text lighten-5 text-center",staticStyle:{height:"30px","margin-top":"30px","background-color":"#e9eef4"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.supplies.list.title"))+" ")]),i("user",{attrs:{color:"black"}})],1)},a=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-card",{staticClass:"pb-4"},[i("div",{staticClass:"mt-5 mx-5"},[t._.includes(this.$auth.user().permissions,"add_supplies")?[i("v-btn",{staticClass:"mr-2 my-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.create()}}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-briefcase-plus")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.add"))+" ")],1)]:t._e(),i("v-btn",{staticClass:"mr-2 my-2",attrs:{loading:t.loading.refresh,depressed:"",color:"#f1f5fc"},on:{click:function(e){return t.refreshItems()}}},[i("v-icon",{attrs:{left:"",color:"primary"}},[t._v("mdi-refresh")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.refresh"))+" ")],1),i("v-spacer")],2)]),i("br"),i("v-card",{staticClass:"pb-4"},[i("v-card-title",[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.supplies.filter"))+" ")])]),i("v-card-text",[i("v-row",{attrs:{wrap:""}},[i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[i("v-text-field",{attrs:{label:t.$vuetify.lang.t("$vuetify.category.cols.code.title"),"prepend-inner-icon":"mdi-code-array",clearable:"",dense:"",outlined:""},on:{input:t.performFilter},model:{value:t.filter.code,callback:function(e){t.$set(t.filter,"code",e)},expression:"filter.code"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[i("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsSuppliers,loading:t.isLoadingSuppliers,"search-input":t.searchSuppliers,color:"primary","item-text":"name","item-value":"id",label:t.$vuetify.lang.t("$vuetify.supplies.cols.supplier.title"),"prepend-inner-icon":"mdi-account mdi-dark mdi-18px",outlined:"",autofocus:"",dense:"",clearable:""},on:{"update:searchInput":function(e){t.searchSuppliers=e},"update:search-input":function(e){t.searchSuppliers=e},change:t.performFilter},model:{value:t.filter.suppliers,callback:function(e){t.$set(t.filter,"suppliers",e)},expression:"filter.suppliers"}})],1)],1)],1)],1),i("v-card",[!1===this.isInventory?i("v-data-table",{staticClass:"mt-5",attrs:{"footer-props":{"items-per-page-options":t.itemPerPageOptions},headers:t.headers,items:t.items,"items-per-page":t.itemPerPage,loading:t.loading.list,options:t.pagination,"server-items-length":t.meta.totalElements,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"item-key":"name"},on:{"update:options":function(e){t.pagination=e}},scopedSlots:t._u([{key:"header.code",fn:function(e){var s=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.arrival_date",fn:function(e){var s=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.suppliers",fn:function(e){var s=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.supply_amount",fn:function(e){var s=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.additional_info",fn:function(e){var s=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.null",fn:function(e){var s=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"body",fn:function(e){var s=e.items;return[i("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.hover;return i("tbody",{},t._l(s,(function(e){return i("tr",{key:e.id},[i("td",{staticClass:"subtitle-2"},[t._v(t._s(e.code))]),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.$moment(e.createdAt).format("YYYY-MM-DD"))+" "+t._s(e.timeAt)+" ")]),e.suppliers?i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.suppliers?e.suppliers.name:"-")+" ")]):t._e(),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.supply_amount)+" ")]),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.additional_info)+" ")]),i("td",{staticClass:"subtitle-2"},[[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([t._.includes(t.$auth.user().permissions,"change_supplies")?{key:"activator",fn:function(s){var r=s.on;return[i("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.smAndDown||a,expression:"$vuetify.breakpoint.smAndDown || hover"}],attrs:{color:"secondary",icon:"",text:""},on:{click:function(i){return t.editSupplies(e)}}},r),[i("v-icon",[t._v("mdi-update")])],1)]}}:null],null,!0)},[i("span",[t._v(t._s(t.$vuetify.lang.t("$vuetify.btn.edit")))])])]],2)])})),0)}}],null,!0)})]}}],null,!1,2083392451)}):t._e(),i("form-supplies",{ref:"suppliesForm",attrs:{dialog:t.dialogForm,form:t.form,messages:t.messages},on:{getItems:t.getItems}}),i("form-enable",{ref:"accountedSupplies",attrs:{dialog:t.dialogForm,messages:t.messages},on:{getItems:t.getItems}}),i("delete-item",{attrs:{dialog:t.dialogDelete,messages:t.messagesDelete,urlItems:t.urlDeleteItems},on:{getItems:t.getItems}}),i("form-inv",{ref:"invForm",attrs:{dialog:t.dialogFormInv}})],1)],1)},o=[],n=(i("4de4"),i("d3b7"),i("24a2")),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{persistent:"","max-width":"1300px",transition:"dialog-bottom-transition"},model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[i("v-card",[i("v-toolbar",{attrs:{dark:"",color:"#f5f5f5",dense:""}},[i("div",{staticClass:"title",staticStyle:{color:"black"}},[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.title))+" ")]),i("v-spacer"),i("v-btn",{attrs:{icon:"",light:""},on:{click:function(e){t.forceRefresh(),t.resetDataForm()}}},[i("v-icon",[t._v("mdi-close")])],1)],1),i("br"),i("v-form",[i("v-card-text",[i("v-row",{attrs:{wrap:""}},[i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.supplies.cols.code.title"),"prepend-inner-icon":"mdi-code-array mdi-dark mdi-18px",outlined:"",dense:"",filled:"",readonly:""},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.supplies.cols.supply_amount.title"),"prepend-inner-icon":"mdi-credit-card mdi-dark mdi-18px",outlined:"",dense:"",value:t.get_supply_amount,readonly:"",filled:""}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[i("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsSuppliers,loading:t.isLoadingSuppliers,"search-input":t.searchSuppliers,color:"primary","item-text":"name","item-value":"id",label:t.$vuetify.lang.t("$vuetify.supplies.cols.supplier.title"),"prepend-inner-icon":"mdi-account mdi-dark mdi-18px",outlined:"",autofocus:"",dense:"",clearable:"",readonly:t.supply},on:{"update:searchInput":function(e){t.searchSuppliers=e},"update:search-input":function(e){t.searchSuppliers=e}},scopedSlots:t._u([{key:"selection",fn:function(e){return[t._v(" "+t._s(e.item.name)+" ")]}},{key:"item",fn:function(e){return[t._v(" "+t._s(e.item.name)+" ")]}},{key:"label",fn:function(){return[i("span",{staticClass:"red--text"},[i("strong",[t._v("* ")])]),t._v(t._s(t.$vuetify.lang.t("$vuetify.supplies.cols.supplier.title"))+" ")]},proxy:!0}]),model:{value:t.form.suppliers,callback:function(e){t.$set(t.form,"suppliers",e)},expression:"form.suppliers"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"1"}},[t._.includes(this.$auth.user().permissions,"add_suppliers")?i("v-btn",{staticClass:"mx-2",attrs:{dark:"",dense:"",color:"primary","max-width":"2px"},on:{click:function(e){return t.createS()}}},[i("v-icon",{attrs:{dark:""}},[t._v(" mdi-plus ")])],1):t._e()],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[i("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsDepot,loading:t.isLoadingDepot,"search-input":t.searchDepot,"return-object":"",color:"primary","item-text":"name","item-value":"id",label:t.$vuetify.lang.t("$vuetify.supplies.cols.storage_depot.title"),"prepend-inner-icon":"mdi-archive mdi-dark mdi-18px",outlined:"",dense:"",clearable:""},on:{"update:searchInput":function(e){t.searchDepot=e},"update:search-input":function(e){t.searchDepot=e}},scopedSlots:t._u([{key:"label",fn:function(){return[i("span",{staticClass:"red--text"},[i("strong",[t._v("* ")])]),t._v(t._s(t.$vuetify.lang.t("$vuetify.supplies.cols.storage_depot.title")+" : "+t.warehouse)+" ")]},proxy:!0}]),model:{value:t.form.storage_depots,callback:function(e){t.$set(t.form,"storage_depots",e)},expression:"form.storage_depots"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"12"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.supplies.cols.additional_info.title"),"prepend-inner-icon":"mdi-script-text mdi-dark mdi-18px",outlined:"",dense:""},model:{value:t.form.additional_info,callback:function(e){t.$set(t.form,"additional_info",e)},expression:"form.additional_info"}})],1)],1)],1),i("v-divider",{staticClass:"mx-4",staticStyle:{"margin-top":"-10px"}})],1),i("v-form",{staticStyle:{"margin-top":"10px"},on:{submit:function(e){return e.preventDefault(),t.saveDetails.apply(null,arguments)}}},[i("v-card-text",[i("v-row",{attrs:{wrap:""}},[i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"5"}},[i("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsProduct,loading:t.isLoading,"search-input":t.search,color:"primary","item-text":"name","item-value":"id","return-object":"",label:t.$vuetify.lang.t("$vuetify.recipe.cols.ingredient.title"),outlined:"",dense:"",clearable:""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},scopedSlots:t._u([{key:"label",fn:function(){return[i("span",{staticClass:"red--text"},[i("strong",[t._v("* ")])]),t._v(t._s(t.$vuetify.lang.t("$vuetify.recipe.cols.ingredient.title"))+" ")]},proxy:!0}]),model:{value:t.formData.ingredient,callback:function(e){t.$set(t.formData,"ingredient",e)},expression:"formData.ingredient"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"1"}},[i("v-btn",{staticClass:"mx-2",attrs:{dense:"",light:"",color:"primary","max-width":"2px",disabled:!t._.includes(t.$auth.user().permissions,"add_ingredient")},on:{click:function(e){return t.createD()}}},[i("v-icon",{attrs:{dark:""}},[t._v(" mdi-plus ")])],1)],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.supplies.cols.quantity_gramme.title"),outlined:"",dense:"",type:"number",min:"0",disabled:null==t.formData.ingredient,readonly:null!==this.form.id,rules:[t.numberRule]},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveDetails()}},scopedSlots:t._u([{key:"label",fn:function(){return[i("span",{staticClass:"red--text"},[i("strong",[t._v("* ")])]),t._v(t._s(t.$vuetify.lang.t("$vuetify.supplies.cols.quantity_gramme.title"))+" ")]},proxy:!0}]),model:{value:t.formData.quantity,callback:function(e){t.$set(t.formData,"quantity",e)},expression:"formData.quantity"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"1"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.supplies.cols.quantity.title"),outlined:"",dense:"",type:"number",min:"0",disabled:null==t.formData.ingredient,readonly:null!==this.form.id,rules:[t.numberRule]},model:{value:t.formData.quantity_two,callback:function(e){t.$set(t.formData,"quantity_two",e)},expression:"formData.quantity_two"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.supplies.cols.total_amount.title"),outlined:"",dense:"",type:"number",min:"0",disabled:null==t.formData.ingredient,rules:[t.numberRuleArrivalPrice]},scopedSlots:t._u([{key:"label",fn:function(){return[i("span",{staticClass:"red--text"},[i("strong",[t._v("* ")])]),t._v(t._s(t.$vuetify.lang.t("$vuetify.supplies.cols.total_amount.title"))+" ")]},proxy:!0}]),model:{value:t.formData.total_amount,callback:function(e){t.$set(t.formData,"total_amount",e)},expression:"formData.total_amount"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"1"}},[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[[i("v-btn",t._g({staticStyle:{"margin-top":"3px"},attrs:{color:"primary",loading:t.loadingBtn,light:"",type:"submit",dense:"",small:"","max-width":"2px",disabled:null==t.form.suppliers||null==t.formData.total_amount}},s),[i("v-icon",{attrs:{dark:""}},[t._v(" mdi-content-save ")])],1)]]}}])},[i("span",{staticClass:"text-center font-weight-bold body-2 withe--text text--d ken-1"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.bills.new.add_product"))+" ")])])],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"mr-2",staticStyle:{"margin-top":"-30px"},attrs:{color:"primary",light:"",loading:t.loadingBtn,disabled:null===t.form.suppliers||0===t.get_supply_amount},on:{click:function(e){return t.save()}}},[i("v-icon",[t._v(" mdi-content-save ")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.supplies.new.submitSupplies"))+" ")],1)],1),i("v-divider",{staticClass:"mx-4"})],1),i("v-card-text",[i("v-data-table",{staticClass:"mt-5",attrs:{"footer-props":{"items-per-page-options":t.itemPerPageOptions},headers:t.headers,items:t.items,"items-per-page":t.itemPerPage,loading:t.loadingDetails.list,options:t.pagination,"server-items-length":t.meta.totalElements,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"item-key":"name","disable-pagination":"","hide-default-footer":""},on:{"update:options":function(e){t.pagination=e}},scopedSlots:t._u([{key:"header.product_name",fn:function(e){var s=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.quantity_two",fn:function(e){var s=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.quantity",fn:function(e){var s=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.cmup",fn:function(e){var s=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.total_amount",fn:function(e){var s=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.null",fn:function(e){var s=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"body",fn:function(e){var s=e.items;return[i("tbody",t._l(s,(function(e){return i("tr",{key:e.id},[i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.ingredient?e.ingredient.name:"-")+" ")]),i("td",{staticClass:"subtitle-2"},[t.editedRowId===e.id?i("div",[i("v-text-field",{attrs:{dense:"","hide-details":"",type:"number"},model:{value:t.editedRow.quantity,callback:function(e){t.$set(t.editedRow,"quantity",e)},expression:"editedRow.quantity"}})],1):i("div",[t._v(" "+t._s(e.quantity)+" ")])]),i("td",{staticClass:"subtitle-2"},[t.editedRowId===e.id?i("div",[i("v-text-field",{attrs:{dense:"","hide-details":"",type:"number"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.calculatedPuNet.apply(null,arguments)}},model:{value:t.editedRow.quantity_two,callback:function(e){t.$set(t.editedRow,"quantity_two",e)},expression:"editedRow.quantity_two"}})],1):i("div",[t._v(" "+t._s(e.quantity_two)+" ")])]),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.unit_price)+" ")]),i("td",{staticClass:"subtitle-2"},[t.editedRowId===e.id?i("div",[i("v-text-field",{attrs:{dense:"","hide-details":"",type:"number"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.calculatedUnitPrice.apply(null,arguments)}},model:{value:t.editedRow.total_amount,callback:function(e){t.$set(t.editedRow,"total_amount",e)},expression:"editedRow.total_amount"}})],1):i("div",[t._v(" "+t._s(e.total_amount)+" ")])]),i("td",{staticClass:"text-h6 compact-td"},[t.editedRowId===e.id?[i("v-btn",{attrs:{icon:"",color:"green"},on:{click:t.saveRowEdit}},[i("v-icon",[t._v("mdi-content-save")])],1),i("v-btn",{attrs:{icon:"",color:"grey"},on:{click:t.cancelRowEdit}},[i("v-icon",[t._v("mdi-cancel")])],1)]:null==t.form.id?[i("v-btn",{attrs:{icon:"",color:"secondary"},on:{click:function(i){return t.editDetails(e)}}},[i("v-icon",[t._v("mdi-update")])],1),i("v-btn",{attrs:{icon:"",color:"red"},on:{click:function(i){return t.deleteItem(e)}}},[i("v-icon",[t._v("mdi-delete-outline")])],1)]:t._e()],2)])})),0)]}}])}),i("delete-item",{attrs:{dialog:t.dialogDelete,messages:t.messagesDelete,urlItems:t.urlDeleteItems},on:{getItemsDetails:t.getItemsDetails}}),i("form-details",{ref:"detailsForm",attrs:{dialog:t.dialogFormDetails,form:t.form,messages:t.messages},on:{getItems:t.getItemsDetails}})],1)],1),i("form-product",{attrs:{dialog:t.dialogForm,messages:t.messages}}),i("form-inv",{ref:"invForm",attrs:{dialog:t.dialogFormInv}}),i("form-suppliers",{attrs:{dialog:t.dialogFormSupplies,messages:t.messages}})],1)},u=[],c=(i("c740"),i("4160"),i("a434"),i("b0c0"),i("b64b"),i("159b"),i("53ca")),d=i("5530"),p=(i("96cf"),i("1da1")),m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{persistent:"","max-width":"780px","max-height":"880px"},model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[i("v-card",[i("v-card-title"),i("v-divider",{staticClass:"mx-4"}),i("v-form",{staticStyle:{"margin-top":"-5px"},on:{submit:function(e){return e.preventDefault(),t.saveDetails.apply(null,arguments)}}},[i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[i("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsProduct,loading:t.isLoading,"search-input":t.search,color:"primary","item-text":"name","item-value":"id","return-object":"",label:t.$vuetify.lang.t("$vuetify.supplies.cols.product_name.title"),"prepend-inner-icon":"mdi-rename-box",outlined:"",dense:"",clearable:""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.form.product,callback:function(e){t.$set(t.form,"product",e)},expression:"form.product"}})],1),i("v-card-text",[i("v-container",[i("v-row",{attrs:{wrap:""}},[i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.supplies.cols.product_code.title"),"prepend-inner-icon":"mdi-code-array",outlined:"",dense:""},model:{value:t.form.product_code,callback:function(e){t.$set(t.form,"product_code",e)},expression:"form.product_code"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}}),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}}),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.supplies.cols.product_name.title"),"prepend-inner-icon":"mdi-rename-box",outlined:"",dense:""},model:{value:t.form.product_name,callback:function(e){t.$set(t.form,"product_name",e)},expression:"form.product_name"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.supplies.cols.quantity.title"),"prepend-inner-icon":"mdi-numeric-0-box",outlined:"",dense:""},model:{value:t.form.quantity,callback:function(e){t.$set(t.form,"quantity",e)},expression:"form.quantity"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.supplies.cols.arrival_price.title"),"prepend-inner-icon":"mdi-credit-card",outlined:"",dense:""},model:{value:t.form.arrival_price,callback:function(e){t.$set(t.form,"arrival_price",e)},expression:"form.arrival_price"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.supplies.cols.total_amount.title"),"prepend-inner-icon":"mdi-credit-card-plus",outlined:"",value:t.get_total_amounts,dense:""}})],1)],1),i("v-divider",{staticClass:"mx-4",staticStyle:{"margin-top":"-15px"}}),i("v-card-actions",{staticStyle:{"margin-bottom":"-25px"}},[i("v-spacer"),i("v-btn",{on:{click:function(e){t.dialog.show=!1}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.close"))+" ")]),i("v-btn",{attrs:{color:"primary",loading:t.loading,dark:"",type:"submit"}},[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.submit))+" ")])],1)],1)],1)],1)],1)],1)},f=[],v=i("5ed4"),h={mixins:[v["a"]],props:{form:{type:Object,default:function(){return{id:null,product:null,total_amount:null,quantity:null,product_name:null,product_code:null,arrival_price:null}}}},data:function(){return{search:null,isLoadingDepot:!1,isLoading:!1,itemsProduct:[],urlProduct:"product",dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},urlItems:"supplies"}},created:function(){},methods:{getDataForm:function(){var t={product_name:this.form.product_name,total_amount:this.get_total_amounts,arrival_date:this.form.arrival_date,quantity:this.form.quantity,product_code:this.form.product_code,arrival_price:this.form.arrival_price,supply_amount:this.form.supply_amount};return t},setForm:function(t){this.form.quantity=t.quantity,this.form.product_name=t.product_name,this.form.product_code=t.product_code,this.form.id=t.id,this.form.arrival_price=t.arrival_price,this.form.total_amount=this.get_total_amounts,this.form.product=t.product["id"],this.itemsProduct.push(t.product),console.log(this.form.product)}},watch:{search:function(t){var e=this;if(null!==t){var i={name:t},s=this;this.isLoading=!0,this.$store.dispatch("request",{url:s.urlProduct,params:i}).then((function(t){s.itemsProduct=t.data.content})).finally((function(){return e.isLoading=!1}))}}},computed:{get_total_amounts:function(){return this.form.quantity?this.form.quantity*this.form.arrival_price:null!=this.form.total_amount?this.form.total_amount:0},nameErrors:function(){var t=[];return this.$v.form.name.$dirty?(!this.$v.form.name.required&&t.push(this.$vuetify.lang.t("$vuetify.supplies.cols.name.required")),t):t},product_codeErrors:function(){var t=[];return this.$v.form.product_code.$dirty?(!this.$v.form.product_code.product_code&&t.push(this.$vuetify.lang.t("$vuetify.supplies.cols.product_code.invalid")),!this.$v.form.product_code.unique&&t.push(this.$vuetify.lang.t("$vuetify.supplies.cols.product_code.unique")),t):t},reference_noErrors:function(){var t=[];return this.$v.form.reference_no.$dirty?(!this.$v.form.reference_no.required&&t.push(this.$vuetify.lang.t("$vuetify.supplies.cols.reference_no.required")),t):t},arrival_dateErrors:function(){var t=[];return this.$v.form.arrival_date.$dirty?(!this.$v.form.arrival_date.required&&t.push(this.$vuetify.lang.t("$vuetify.supplies.cols.birthday.required")),t):t},total_amountErrors:function(){var t=[];return this.$v.form.total_amount.$dirty?(!this.$v.form.total_amount.required&&t.push(this.$vuetify.lang.t("$vuetify.supplies.cols.total_amount.required")),t):t}},components:{}},y=h,g=i("2877"),_=i("6544"),b=i.n(_),$=i("c6a6"),x=i("8336"),w=i("b0af"),D=i("99d9"),C=i("62ad"),k=i("a523"),I=i("169a"),q=i("ce7e"),S=i("4bd4"),F=i("0fd9"),R=i("2fa4"),V=i("8654"),E=Object(g["a"])(y,m,f,!1,null,null,null),P=E.exports;b()(E,{VAutocomplete:$["a"],VBtn:x["a"],VCard:w["a"],VCardActions:D["a"],VCardText:D["b"],VCardTitle:D["c"],VCol:C["a"],VContainer:k["a"],VDialog:I["a"],VDivider:q["a"],VForm:S["a"],VRow:F["a"],VSpacer:R["a"],VTextField:V["a"]});var L=i("2331"),O=i("c6cdb"),A=i("6947"),j=i("9f8f"),N={mixins:[v["a"]],props:{form:{type:Object,default:function(){return{id:null,supplies:null,total_amount:null,quantity:null,product:null,arrival_price:null,arrival_date:null,expiry_date:"null",warehouse_default:null,suppliers:null,reference_no:null,additional_info:null,supply_amount:null,is_accounted:null,code:null,storage_depots:null}}}},data:function(){return{maxDate:(new Date).toISOString().substr(0,10),formData:{id:null,supplies:null,total_amount:null,quantity:null,ingredient:null,quantity_two:null,consumable:null,reagent:null,arrival_price:null,arrival_date:null,suppliers:null,reference_no:null,additional_info:null,expiry_date:null,supply_amount:null,is_accounted:null,code:null,storage_depots:null},isInventory:!1,supplies:null,dialogFormInv:{show:!1,shows:{showFilter:!1,showInfo:!1}},urlItemsNoneSupplies:"details_supplies/noneSupplies",headers:[],items:[],numberRule:function(t){return!(t<0)||"Entrer un nombre positif"},numberRuleArrivalPrice:function(t){return!(t<0)||"Entrer un nombre positif"},meta:{},sum:"",editedRowId:null,next_beneficiary:"",current_contribution:"",warehouse:null,itemPerPage:10,itemPerPageOptions:[5,10,30],urlDeleteItems:"",sortDesc:!0,loading:{list:!1,refresh:!1,filter:!1},pagination:{},selectedItem:!1,_search:{},_sorts:{},dialogDelete:{show:!1},sortBy:["id"],e1:1,menu2:!1,supply:!1,active:!1,menu3:!1,menu4:!1,menu:!1,dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogFormSupplies:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogFormDetails:{show:!1,shows:{showFilter:!1,showInfo:!1}},messagesDelete:{success:"$vuetify.supplies.delete.success"},loadingBtn:!1,loadingDetails:{list:!1,refresh:!1,filter:!1},itemsProduct:[],isLoading:!1,search:null,optionType:{quantity_two:[]},urlProduct:"ingredients/all",isLoadingDepot:!1,searchDepot:null,itemsDepot:[],urlDepot:"storage_depots/all",urlSuppliers:"suppliers/all",itemsSelectingWarehouse:[],itemsSuppliers:[],searchSuppliers:null,isLoadingSuppliers:!1,urlReagent:"reagents",itemsReagent:[],searchReagent:null,isLoadingReagent:!1,urlConsumable:"consumables",itemsConsumable:[],searchConsumable:null,isLoadingConsumable:!1,urlItems:"supplies",urlItemsDetails_supplies:"details_supplies"}},watch:{pagination:{handler:function(){},deep:!0},"dialog.show":{immediate:!1,handler:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!t){i.next=8;break}if(e.form.id){i.next=4;break}return i.next=4,e.createEmptySupply();case 4:return i.next=6,e.loadWarehouse();case 6:return i.next=8,e.getItemsDetails();case 8:if(t){i.next=11;break}return i.next=11,e.deleteEmptySupply();case 11:case"end":return i.stop()}}),i)})))()}},search:function(t){var e=this;if(null!==t){var i={name:t},s=this;this.isLoading=!0,this.$store.dispatch("request",{url:s.urlProduct,params:i}).then((function(t){s.itemsProduct=t.data.content})).finally((function(){return e.isLoading=!1}))}},searchReagent:function(t){var e=this;if(null!==t){var i={name:t},s=this;this.isLoadingReagent=!0,this.$store.dispatch("request",{url:s.urlReagent,params:i}).then((function(t){s.itemsReagent=t.data.content})).finally((function(){return e.isLoadingReagent=!1}))}},searchConsumable:function(t){var e=this;if(null!==t){var i={name:t},s=this;this.isLoadingConsumable=!0,this.$store.dispatch("request",{url:s.urlConsumable,params:i}).then((function(t){s.itemsConsumable=t.data.content})).finally((function(){return e.isLoadingConsumable=!1}))}},searchSuppliers:function(t){var e=this;if(null!==t){var i={name:t},s=this;this.isLoadingSuppliers=!0,this.$store.dispatch("request",{url:s.urlSuppliers,params:i}).then((function(t){s.itemsSuppliers=t.data.content})).finally((function(){return e.isLoadingSuppliers=!1}))}},searchDepot:function(t){var e=this;if(null!==t){var i={name:t},s=this;this.isLoadingDepot=!0,this.$store.dispatch("request",{url:s.urlDepot,params:i}).then((function(t){s.itemsDepot=t.data.content})).finally((function(){return e.isLoadingDepot=!1}))}}},created:function(){this.setHeaders()},validations:function(){var t={form:{}};return t},methods:{editDetails:function(t){this.editedRowId=t.id,this.editedRow=Object(d["a"])({},t)},saveRowEdit:function(){var t=this;this.editedRow.unit_price=this.calculatedUnitPrice,this.editedRow.ingredient&&(this.editedRow.ingredient=this.editedRow.ingredient["id"]),this.editedRow.supplies&&(this.editedRow.supplies=this.editedRow.supplies["id"]),this.editedRow.hospital&&(this.editedRow.hospital=this.editedRow.hospital["id"]),this.$store.dispatch("showNotification",{statut:!1});var e=this;e.$v.$touch(),e.$v.$invalid||(this.loading=!0,this.$store.dispatch("request",{url:e.getRouteDetails()+"/"+this.editedRow.id,method:"PATCH",data:this.editedRow}).then((function(){e.$store.dispatch("showNotification",{statut:!0,text:e.$vuetify.lang.t("$vuetify.supplies.new.successDetails")}),t.getItemsDetails(),e.resetDataFormProduct()})).catch((function(i){var s;if(i.response)if(400===i.response.status){s="$vuetify.error_occured";var a=i.response.data;e.setFormErrors(a),t.$forceUpdate()}else s="$vuetify.error_server";e.$store.dispatch("showNotification",{statut:!0,text:e.$vuetify.lang.t(s),color:"#B71C1C"})})).then((function(){e.loading=!1})));var i=this.items.findIndex((function(e){return e.id===t.editedRow.id}));-1!==i&&this.items.splice(i,1,Object(d["a"])({},this.editedRow)),this.editedRowId=null,this.editedRow={}},cancelRowEdit:function(){this.editedRowId=null,this.editedRow={}},loadWarehouse:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function i(){var s,a,r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a={name:t,is_default:!0},i.next=3,e.$store.dispatch("request",{url:e.urlDepot,params:a});case 3:return r=i.sent,o=null===(s=r.data.content)||void 0===s?void 0:s[0],o&&(e.form.warehouse_default=o,e.itemsSelectingWarehouse.push(o),e.warehouse=o.name),i.abrupt("return",o);case 7:case"end":return i.stop()}}),i)})))()},currentInventory:function(){this.dialogFormInv.show=!0},getNoneSupplies:function(){var t=this;return new Promise((function(e){t.$store.dispatch("request",{url:t.urlItemsNoneSupplies}).then((function(t){e(t)}))}))},forceRefresh:function(){this.dialog.show=!1,this.items=[],this.active=!1,this.deleteEmptySupply()},createEmptySupply:function(){var t=this;return new Promise((function(e){t.$store.dispatch("request",{url:"supplies/create-empty",method:"POST"}).then((function(i){t.supplies=i.data.id,e(i)}))}))},deleteEmptySupply:function(){var t=this,e=this;return new Promise((function(i){e.$store.dispatch("request",{url:"supplies/"+t.supplies+"/delete-empty",method:"DELETE"}).then((function(t){i(t)}))}))},deleteItem:function(t){this.urlDeleteItems=this.urlItemsDetails_supplies+"/"+t.id,this.dialogDelete.show=!0},setHeaders:function(){this.headers=[{text:"$vuetify.supplies.cols.product_name.title",value:"product_name",align:"start",sortable:!1,width:"140",class:"grey--text text--darken-3"},{text:"$vuetify.supplies.cols.quantity_gramme.title",value:"quantity",align:"start",sortable:!1,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.supplies.cols.quantity.title",value:"quantity_two",align:"start",sortable:!1,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.stock_movement.cols.unit_price.title",value:"cmup",align:"start",sortable:!1,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.supplies.cols.total_amount.title",value:"total_amount",align:"start",sortable:!1,width:"50",class:"grey--text text--darken-3"},{text:"$vuetify.supplies.cols.actions.title",value:null,align:"start",sortable:!1,width:"70"}]},createD:function(){this.dialogForm.show=!0,this.messages={title:"$vuetify.ingredient.new.title",submit:"$vuetify.ingredient.new.submit",success:"$vuetify.ingredient.new.success"}},createS:function(){this.dialogFormSupplies.show=!0,this.messages={title:"$vuetify.suppliers.new.title",submit:"$vuetify.suppliers.new.submit",success:"$vuetify.suppliers.new.success"}},getDataForm:function(){var t,e,i,s,a={supplies:this.supplies,reference_no:this.form.reference_no,suppliers:this.form.suppliers,additional_info:this.form.additional_info,storage_depots:null!==(t=null!==(e=null===(i=this.form.storage_depots)||void 0===i?void 0:i.id)&&void 0!==e?e:null===(s=this.form.warehouse_default)||void 0===s?void 0:s.id)&&void 0!==t?t:null,supply_amount:this.get_supply_amount};return a},resetDataFormProduct:function(){this.formData.ingredient=null,this.formData.quantity=null,this.formData.quantity_two=null,this.formData.arrival_price=null,this.formData.total_amount=null},resetDataForm:function(){if(this.form.product=null,this.form.id=null,this.items=[],!this.form.id){var t=this;this.$v.form.$reset(),this._.each(this.form,(function(e,i){"object"===Object(c["a"])(t.form[i])?t._.each(t.form[i],(function(e,s){"boolean"===typeof t.form[i][s]?t.form[i][s]=!1:t.form[i][s]=null})):"boolean"===typeof t.form[i]?t.form[i]=!1:t.form[i]=null})),this.resetItemsDetails()}},getDataFormdetails:function(){var t,e,i,s,a={quantity_two:this.formData.quantity_two,supplies:this.supplies,ingredient:this.formData.ingredient?this.formData.ingredient["id"]:this.formData.ingredient,supply_amount:this.get_supply_amount,quantity:this.formData.quantity,total_amount:this.formData.total_amount,reference_no:this.form.reference_no,suppliers:this.form.suppliers,additional_info:this.form.additional_info,storage_depots:null!==(t=null!==(e=null===(i=this.form.storage_depots)||void 0===i?void 0:i.id)&&void 0!==e?e:null===(s=this.form.warehouse_default)||void 0===s?void 0:s.id)&&void 0!==t?t:null};return a},setForm:function(t){this.form.id=t.id,this.supplies=t.id,this.form.arrival_date=t.createdAt+" "+t.timeAt,this.form.supply_amount=t.supply_amount,this.form.additional_info=t.additional_info,this.form.code=t.code,this.form.suppliers=t.suppliers&&t.suppliers["id"]?t.suppliers["id"]:t.suppliers,this.itemsSuppliers.push(t.suppliers),this.getItemsDetails()},getRouteDetails:function(){return this.form.id?this.urlItemsDetails_supplies+"/"+this.form.id:this.urlItemsDetails_supplies},getRoute:function(){return this.form.id?this.urlItems+"/"+this.form.id:this.urlItems},refreshItemsDetail:function(){var t=this;this.loadingDetails.refresh=!0,this.getItemsDetails().then((function(){})).catch((function(){})).then((function(){t.loadingDetails.refresh=!1}))},save:function(){var t=this;this.$store.dispatch("showNotification",{statut:!1});var e=this;e.$v.$touch(),e.$v.$invalid||(this.loading=!0,this.$store.dispatch("request",{url:e.getRoute(),method:e.getMethod(),data:e.getDataForm()}).then((function(){e.$store.dispatch("showNotification",{statut:!0,text:e.$vuetify.lang.t(e.messages.success)}),"PUT"===t.getMethod()?e.$emit("getItems"):(e.$emit("getItems"),e.resetDataForm(),t.createEmptySupply())})).catch((function(i){var s="$vuetify.error_server";if(i.response&&400===i.response.status){var a=i.response.data;e.setFormErrors(a),t.$forceUpdate();var r=Object.keys(a)[0];r&&Array.isArray(a[r])&&(s=a[r][0])}e.$store.dispatch("showNotification",{statut:!0,text:s,color:"#B71C1C"})})).finally((function(){e.loading=!1})))},getItemsDetails:function(){var t=this,e=this,i=this.pagination,s=i.page,a=i.itemsPerPage,r={page:s,size:a};return this._.isEmpty(this._search)||(this._search=this._.merge(r,this._search)),new Promise((function(i,s){t.loadingDetails.list=!0,e.$store.dispatch("request",{url:e.urlItemsDetails_supplies+"?supplies="+t.supplies,params:r}).then((function(t){var s=t.data;e.items=s.content,e.meta={totalElements:s.totalElements},i(t)})).catch((function(i){var a=t.$vuetify.lang.t("$vuetify.error_occured");if(i.response)if(400===i.response.status){var r=i.response.data;e.setFormErrors(r);var o=Object.keys(r)[0];o&&Array.isArray(r[o])&&(a=r[o][0])}else 403===i.response.status?a=e.$vuetify.lang.t("$vuetify.error_denied"):500===i.response.status&&(a=e.$vuetify.lang.t("$vuetify.error_server"));e.$store.dispatch("showNotification",{status:!0,text:a}),s(i)})).then((function(){e.loadingDetails.list=!1,i()}))}))},resetItemsDetails:function(){var t=this,e=this,i=this.pagination,s=i.page,a=i.itemsPerPage,r={page:s,size:a};return this._.isEmpty(this._search)||(this._search=this._.merge(r,this._search)),new Promise((function(i,s){t.loadingDetails.list=!0,e.$store.dispatch("request",{url:e.urlItemsDetails_supplies+"?supplies=reset",params:r}).then((function(t){var s=t.data;e.meta={totalElements:s.totalElements},i(t)})).catch((function(i){var a=t.$vuetify.lang.t("$vuetify.error_occured");if(i.response)if(400===i.response.status){var r=i.response.data;e.setFormErrors(r);var o=Object.keys(r)[0];o&&Array.isArray(r[o])&&(a=r[o][0])}else 403===i.response.status?a=e.$vuetify.lang.t("$vuetify.error_denied"):500===i.response.status&&(a=e.$vuetify.lang.t("$vuetify.error_server"));e.$store.dispatch("showNotification",{status:!0,text:a}),s(i)})).then((function(){e.loadingDetails.list=!1,i()}))}))},saveDetails:function(){var t=this;console.log(this.getDataFormdetails()),this.$store.dispatch("showNotification",{statut:!1});var e=this;e.$v.$touch(),e.$v.$invalid||(this.loading=!0,this.$store.dispatch("request",{url:e.getRouteDetails(),method:e.getMethod(),data:e.getDataFormdetails()}).then((function(){e.$store.dispatch("showNotification",{statut:!0,text:e.$vuetify.lang.t("$vuetify.supplies.new.successDetails")}),t.getItemsDetails(),e.resetDataFormProduct()})).catch((function(i){var s;if(i.response)if(400===i.response.status){s="$vuetify.error_occured";var a=i.response.data;e.setFormErrors(a),t.$forceUpdate()}else s="$vuetify.error_server";e.$store.dispatch("showNotification",{statut:!0,text:e.$vuetify.lang.t(s),color:"#B71C1C"})})).then((function(){e.loading=!1})))}},computed:{calculatedUnitPrice:function(){return(this.editedRow.total_amount||0)/(this.editedRow.quantity||0)},get_product_price:function(){var t="";return t=this.formData.product?this.formData.product.public_price:this.formData.reagent?this.formData.reagent.public_price:this.formData.consumable?this.formData.consumable.public_price:this.formData.consumable,t},get_supply_amount:function(){var t=0;return this.items.forEach((function(e){t+=e.total_amount})),t},get_total_amount:function(){return this.formData.arrival_price?this.formData.quantity*this.formData.arrival_price:this.formData.quantity*this.get_product_price},nameErrors:function(){var t=[];return this.$v.form.name.$dirty?(!this.$v.form.name.required&&t.push(this.$vuetify.lang.t("$vuetify.supplies.cols.name.required")),t):t},reference_noErrors:function(){var t=[];return this.$v.form.reference_no.$dirty?(!this.$v.form.reference_no.required&&t.push(this.$vuetify.lang.t("$vuetify.supplies.cols.reference_no.required")),t):t},total_amountErrors:function(){var t=[];return this.$v.form.total_amount.$dirty?(!this.$v.form.total_amount.required&&t.push(this.$vuetify.lang.t("$vuetify.supplies.cols.total_amount.required")),t):t}},mounted:function(){this.getNoneSupplies(),window.addEventListener("keydown",(function(t){(t.metaKey||t.ctrlKey)&&t.keyCode==="r".charCodeAt(0)&&(t.preventDefault(),this.resetFormBills())}))},components:{DeleteItem:A["a"],FormProduct:L["a"],FormInv:j["a"],FormSuppliers:O["a"],FormDetails:P}},T=N,B=i("8fea"),U=i("132d"),H=i("71d9"),M=i("3a2f"),z=Object(g["a"])(T,l,u,!1,null,null,null),K=z.exports;b()(z,{VAutocomplete:$["a"],VBtn:x["a"],VCard:w["a"],VCardActions:D["a"],VCardText:D["b"],VCol:C["a"],VDataTable:B["a"],VDialog:I["a"],VDivider:q["a"],VForm:S["a"],VIcon:U["a"],VRow:F["a"],VSpacer:R["a"],VTextField:V["a"],VToolbar:H["a"],VTooltip:M["a"]});var W=i("cd41"),Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{"max-width":"300"},model:{value:t.dialog.shows.showInfo,callback:function(e){t.$set(t.dialog.shows,"showInfo",e)},expression:"dialog.shows.showInfo"}},[i("v-card",[i("v-card-text",[i("div",{staticClass:"body-1 font-weight-bold"},[i("br"),i("h3",[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.supplies.cols.is_accounted.title1"))+" ")])])]),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{on:{click:function(e){t.dialog.shows.showInfo=!1}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.close"))+" ")]),i("v-btn",{attrs:{color:"#0984e3",loading:t.loading,dark:"",type:"submit"},on:{click:t.send}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.update"))+" ")])],1)],1)],1)},J=[],G={mixins:[v["a"]],name:"Infos",props:{dialog:{type:Object,default:function(){return{shows:{showInfo:!1}}}},form:{type:Object,default:function(){return{id:null,code:null}}}},data:function(){return{loading:!1,urlItems:"supplies"}},methods:{setForm:function(t){this.form.id=t.id,this.form.supplies=t.id,this.form.is_accounted=!t.is_accounted,this.form.reference_no=t.reference_no,this.form.arrival_date=t.arrival_date,this.form.supply_amount=t.supply_amount,this.form.additional_info=t.additional_info,this.form.code=t.code,this.form.storage_depots=t.storage_depots["id"],this.form.suppliers=t.suppliers["id"]},getRoute:function(){return this.form.id?this.urlItems+"/"+this.form.id:this.urlItems},send:function(){this.$store.dispatch("setNotification",{status:!1});var t=this;this.loading=!0,this.$store.dispatch("request",{url:t.getRoute(),method:"PATCH",data:t.getDataForm()}).then((function(){t.$store.dispatch("setNotification",{status:!0,message:t.$vuetify.lang.t(t.messages.success)}),t.$emit("getItems")})).catch((function(e){console.log("error",e);var i="$vuetify.error_occured";t.$store.dispatch("setNotification",{status:!0,message:t.$vuetify.lang.t(i)})})).then((function(){t.loading=!1}))}}},Q=G,X=Object(g["a"])(Q,Y,J,!1,null,null,null),Z=X.exports;b()(X,{VBtn:x["a"],VCard:w["a"],VCardActions:D["a"],VCardText:D["b"],VDialog:I["a"],VDivider:q["a"],VSpacer:R["a"]});var tt={mixins:[n["a"]],data:function(){return{urlItems:"supplies",sortBy:["createdAt"],dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogDelete:{show:!1},dialogDetail:{show:!1},dialogEnt:{show:!1},isInventory:!1,dialogFormInv:{show:!1,shows:{showFilter:!1,showInfo:!1}},isLoadingDepot:!1,searchDepot:null,itemsDepot:[],urlDepot:"storage_depots",urlSuppliers:"suppliers",itemsSuppliers:[],searchSuppliers:null,isLoadingSuppliers:!1,urlItemsCash:"cashs/isOpen",form:{id:null,pasysto:null,padiasto:null,temperature:null,bpm:null,size:null,electrophoresis:null,weight:null,blood_group:null,allergies:null,pathologies:null,name:null,religion:null,type_id:null,mother_name:null,emergency_name:null,emergency_contact:null,maritalStatus:null,number_id:null,email:null,date_id:null,child:null,dateNaiss:null,reference_no:null,other_phone:null,phone:null,insurance_name:null,insurance_number:null,code:null,age:null,gender:null,shape:null},filter:{code:null,storage_depots:null,suppliers:null},messages:{title:"",submit:"",success:""},messagesDelete:{success:"$vuetify.supplies.delete.success"}}},watch:{searchSuppliers:function(t){var e=this;if(null!==t){var i={name:t},s=this;this.isLoadingSuppliers=!0,this.$store.dispatch("request",{url:s.urlSuppliers,params:i}).then((function(t){s.itemsSuppliers=t.data.content})).finally((function(){return e.isLoadingSuppliers=!1}))}},searchDepot:function(t){var e=this;if(null!==t){var i={name:t},s=this;this.isLoadingDepot=!0,this.$store.dispatch("request",{url:s.urlDepot,params:i}).then((function(t){s.itemsDepot=t.data.content})).finally((function(){return e.isLoadingDepot=!1}))}}},methods:{currentInventory:function(){this.dialogFormInv.show=!0},getOpenCash:function(){var t=this,e=this;return new Promise((function(i){e.$store.dispatch("request",{url:e.urlItemsCash}).then((function(s){var a=s.data;e.isActive=a.content.is_active,e.isInventory=a.content.is_inventory,!0===e.isInventory&&t.currentInventory(),i(s)}))}))},enabled:function(t){this.dialogForm.shows.showInfo=!0,this.$refs.accountedSupplies.setForm(t)},setHeaders:function(){this.headers=[{text:"$vuetify.supplies.cols.code.title",value:"code",align:"start",sortable:!0,width:"15",class:"grey--text text--darken-3"},{text:"$vuetify.supplies.cols.arrival_date.title",value:"arrival_date",align:"start",sortable:!0,width:"50",class:"grey--text text--darken-3"},{text:"$vuetify.supplies.cols.supplier.title",value:"suppliers",align:"start",sortable:!0,width:"50",class:"grey--text text--darken-3"},{text:"$vuetify.supplies.cols.supply_amount.title",value:"supply_amount",align:"start",sortable:!0,width:"30",class:"grey--text text--darken-3"},{text:"$vuetify.supplies.cols.additional_info.title",value:"additional_info",align:"start",sortable:!0,width:"6",class:"grey--text text--darken-3"},{text:"$vuetify.supplies.cols.actions.title",value:null,align:"start",sortable:!0,width:"6"}]},create:function(){this.dialogForm.show=!0,this.messages={title:"$vuetify.supplies.new.title",submit:"$vuetify.supplies.new.submit",success:"$vuetify.supplies.new.success"},this.form={id:null,pasysto:null,padiasto:null,temperature:null,bpm:null,size:null,electrophoresis:null,weight:null,blood_group:null,allergies:null,pathologies:null,name:null,religion:null,type_id:null,mother_name:null,emergency_name:null,emergency_contact:null,maritalStatus:null,number_id:null,email:null,date_id:null,child:null,dateNaiss:null,reference_no:null,other_phone:null,phone:null,insurance_name:null,insurance_number:null,code:null,age:null,gender:null,shape:null}},editSupplies:function(t){this.dialogForm.show=!0,this.messages={title:"$vuetify.supplies.update.title",submit:"$vuetify.supplies.update.submit",success:"$vuetify.supplies.update.success"},this.$refs.suppliesForm.setForm(t)},performFilter:function(){var t=this;t.loading.list=!0;var e={};null!==t.filter.storage_depots&&(e["storage_depots"]=t.filter.storage_depots),null!==t.filter.suppliers&&(e["suppliers"]=t.filter.suppliers),null!==t.filter.code&&(e["code"]=t.filter.code),t._search=e,t.getItems().then((function(){t.$refs.filterForm.closeDialog()})).finally((function(){t.$refs.filterForm.stopLoadingBtn()}))}},mounted:function(){this.getOpenCash(),window.addEventListener("keydown",(function(t){(t.metaKey||t.ctrlKey)&&t.keyCode==="r".charCodeAt(0)&&(t.preventDefault(),this.resetFormBills())}))},components:{FormSupplies:K,DeleteItem:W["a"],FormInv:j["a"],FormEnable:Z}},et=tt,it=i("ce87"),st=Object(g["a"])(et,r,o,!1,null,"195ee87e",null),at=st.exports;b()(st,{VAutocomplete:$["a"],VBtn:x["a"],VCard:w["a"],VCardText:D["b"],VCardTitle:D["c"],VCol:C["a"],VDataTable:B["a"],VHover:it["a"],VIcon:U["a"],VRow:F["a"],VSpacer:R["a"],VTextField:V["a"],VTooltip:M["a"]});var rt={metaInfo:function(){return{title:this.$vuetify.lang.t("$vuetify.supplies.title")}},data:function(){return{}},components:{User:at}},ot=rt,nt=Object(g["a"])(ot,s,a,!1,null,null,null);e["default"]=nt.exports},c6cdb:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{persistent:"","max-width":"680px"},model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[i("v-card",[i("v-card-title",[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.title))+" ")])]),i("v-divider",{staticClass:"mx-4"}),i("v-form",{on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[i("v-card",[i("v-card-text",[i("v-container",[i("v-row",{attrs:{wrap:""}},[i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.suppliers.cols.code.title"),"prepend-inner-icon":"mdi-code-array mdi-dark mdi-18px",outlined:"",dense:"",readonly:"",filled:""},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}}),i("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"-20px"},attrs:{cols:"12",sm:"6"}},[i("v-switch",{attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.suppliers.cols.status.enabled"),outlined:"",dense:""},model:{value:t.is_active,callback:function(e){t.is_active=e},expression:"is_active"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.suppliers.cols.name.title"),"error-messages":t.nameErrors,"prepend-inner-icon":"mdi-rename-box mdi-dark mdi-18px",outlined:"",dense:""},on:{blur:function(e){return t.$v.form.name.$touch()},input:function(e){return t.$v.form.name.$touch()}},scopedSlots:t._u([{key:"label",fn:function(){return[i("span",{staticClass:"red--text"},[i("strong",[t._v("* ")])]),t._v(t._s(t.$vuetify.lang.t("$vuetify.suppliers.cols.name.title"))+" ")]},proxy:!0}]),model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.suppliers.cols.phone.title"),"error-messages":t.phoneErrors,"prepend-inner-icon":"mdi-phone mdi-dark mdi-18px",outlined:"",dense:""},on:{blur:function(e){return t.$v.form.phone.$touch()},input:function(e){return t.$v.form.phone.$touch()}},scopedSlots:t._u([{key:"label",fn:function(){return[i("span",{staticClass:"red--text"},[i("strong",[t._v("* ")])]),t._v(t._s(t.$vuetify.lang.t("$vuetify.suppliers.cols.phone.title"))+" ")]},proxy:!0}]),model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.suppliers.cols.name_representative.title"),"prepend-inner-icon":"mdi-rename-box mdi-dark mdi-18px",outlined:"",dense:""},model:{value:t.form.name_representative,callback:function(e){t.$set(t.form,"name_representative",e)},expression:"form.name_representative"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.suppliers.cols.phone_representative.title"),"prepend-inner-icon":"mdi-phone mdi-dark mdi-18px",outlined:"",dense:""},model:{value:t.form.phone_representative,callback:function(e){t.$set(t.form,"phone_representative",e)},expression:"form.phone_representative"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.suppliers.cols.mailbox.title"),"prepend-inner-icon":"mdi-rename-box mdi-dark mdi-18px",outlined:"",dense:""},model:{value:t.form.mailbox,callback:function(e){t.$set(t.form,"mailbox",e)},expression:"form.mailbox"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.suppliers.cols.city.title"),"prepend-inner-icon":"mdi-rename-box mdi-dark mdi-18px",outlined:"",dense:""},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.suppliers.cols.country.title"),"prepend-inner-icon":"mdi-rename-box mdi-dark mdi-18px",outlined:"",dense:""},model:{value:t.form.country,callback:function(e){t.$set(t.form,"country",e)},expression:"form.country"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.suppliers.cols.fax.title"),"prepend-inner-icon":"mdi-rename-box mdi-dark mdi-18px",outlined:"",dense:""},model:{value:t.form.fax,callback:function(e){t.$set(t.form,"fax",e)},expression:"form.fax"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.suppliers.cols.taxpayer_number.title"),"prepend-inner-icon":"mdi-rename-box mdi-dark mdi-18px",outlined:"",dense:""},model:{value:t.form.taxpayer_number,callback:function(e){t.$set(t.form,"taxpayer_number",e)},expression:"form.taxpayer_number"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.suppliers.cols.email.title"),"prepend-inner-icon":"mdi-email mdi-dark mdi-18px",outlined:"",dense:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1)],1)],1),i("v-divider",{staticClass:"mx-4",staticStyle:{"margin-top":"-25px"}}),i("v-card-actions",[i("v-spacer"),i("v-btn",{on:{click:function(e){t.dialog.show=!1}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.close"))+" ")]),i("v-btn",{attrs:{color:"primary",loading:t.loading,dark:"",type:"submit"}},[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.submit))+" ")])],1)],1)],1)],1)],1)},a=[],r=(i("b0c0"),i("5ed4")),o=i("b5ae"),n=i("717c"),l={mixins:[r["a"]],props:{form:{type:Object,default:function(){return{id:null,phone_representative:null,name_representative:null,code:null,phone:null,name:null,mailbox:null,city:null,country:null,fax:null,email:null,taxpayer_number:null}}}},data:function(){return{formData:{id:null,name:null},is_active:!0,dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},urlItems:"suppliers",isLoading:!1}},watch:{},created:function(){},validations:function(){var t={form:{name:{required:o["required"],unique:n["B"]},phone:{phoneR:n["cb"]}}};return t},methods:{getDataForm:function(){var t={name_representative:this.form.name_representative,phone_representative:this.form.phone_representative,phone:this.form.phone,name:this.form.name,is_active:this.is_active,email:this.form.email,taxpayer_number:this.form.taxpayer_number,fax:this.form.fax,country:this.form.country,mailbox:this.form.mailbox,city:this.city};return t},setForm:function(t){this.form.id=t.id,this.form.code=t.code,this.form.name=t.name,this.form.name_representative=t.name_representative,this.form.phone=t.phone,this.form.phone_representative=t.phone_representative,this.form["oldName"]=t.name,this.is_active=t.is_active,this.form.mailbox=t.mailbox,this.form.city=t.city,this.form.country=t.country,this.form.fax=t.fax,this.form.taxpayer_number=t.taxpayer_number,this.form.email=t.email}},computed:{nameErrors:function(){var t=[];return this.$v.form.name.$dirty?(!this.$v.form.name.required&&t.push(this.$vuetify.lang.t("$vuetify.suppliers.cols.name.required")),!this.$v.form.name.unique&&t.push(this.$vuetify.lang.t("$vuetify.suppliers.cols.name.unique")),t):t},codeErrors:function(){var t=[];return this.$v.form.code.$dirty?(!this.$v.form.code.required&&t.push(this.$vuetify.lang.t("$vuetify.suppliers.cols.code.required")),!this.$v.form.code.maxLength&&t.push(this.$vuetify.lang.t("$vuetify.suppliers.cols.code.maxLength",this.$v.form.code.$params.maxLength.max)),t):t},phoneErrors:function(){var t=[];return this.$v.form.phone.$dirty?(!this.$v.form.phone.phoneR&&t.push(this.$vuetify.lang.t("$vuetify.suppliers.cols.phone.invalid")),t):t}},components:{}},u=l,c=i("2877"),d=i("6544"),p=i.n(d),m=i("8336"),f=i("b0af"),v=i("99d9"),h=i("62ad"),y=i("a523"),g=i("169a"),_=i("ce7e"),b=i("4bd4"),$=i("0fd9"),x=i("2fa4"),w=i("b73d"),D=i("8654"),C=Object(c["a"])(u,s,a,!1,null,null,null);e["a"]=C.exports;p()(C,{VBtn:m["a"],VCard:f["a"],VCardActions:v["a"],VCardText:v["b"],VCardTitle:v["c"],VCol:h["a"],VContainer:y["a"],VDialog:g["a"],VDivider:_["a"],VForm:b["a"],VRow:$["a"],VSpacer:x["a"],VSwitch:w["a"],VTextField:D["a"]})}}]);
//# sourceMappingURL=chunk-6661eaa6.a74cf62e.js.map