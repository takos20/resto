(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a2ef2054"],{f402:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"pb-4",attrs:{height:"60"}},[a("div",{staticClass:"mt-5 mx-5"},[a("v-btn",{staticClass:"mr-2 my-2",attrs:{loading:t.loading.refresh,depressed:"",color:"#f1f5fc"},on:{click:function(e){return t.bills_analysis()}}},[a("v-icon",{attrs:{left:"",color:"primary"}},[t._v("mdi-refresh")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.refresh"))+" ")],1),a("v-spacer")],1)]),a("br"),a("v-card",{staticClass:"pb-4"},[a("div",{staticClass:"mt-5 mx-5"},[[a("v-form",[a("v-row",{attrs:{wrap:""}},[a("v-chip",{staticClass:"subtitle-1 font-weight-bold my-6",staticStyle:{"margin-left":"7px"},attrs:{"text-color":"teal darken-1",color:"#f1f5fc",medium:"",label:""}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.bills.title3"))+" : "+t._s(Intl.NumberFormat().format(this.sum_ca))+" ")]),a("v-chip",{staticClass:"subtitle-1 font-weight-bold my-6",staticStyle:{"margin-left":"7px"},attrs:{"text-color":"teal darken-1",color:"#f1f5fc",medium:"",label:""}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.insurance.title"))+" : "+t._s(Intl.NumberFormat().format(this.sum_insurance))+" ")]),a("v-chip",{staticClass:"subtitle-1 font-weight-bold my-6",staticStyle:{"margin-left":"7px"},attrs:{"text-color":"teal darken-1",color:"#f1f5fc",medium:"",label:""}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.insurance.title_patient"))+" : "+t._s(Intl.NumberFormat().format(this.sum_patient))+" ")])],1)],1)]],2)]),a("br"),a("v-card",[a("v-card-title",[a("div",{staticClass:"title"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.bills.filter"))+" ")])]),a("v-card-text",[a("v-row",{attrs:{wrap:""}},[a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-menu",{attrs:{color:"primary","close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.item_movements.cols.period_of.title"),"prepend-inner-icon":"mdi-calendar",outlined:"",dense:"",clearable:"",readonly:""},model:{value:t.filter.start_date,callback:function(e){t.$set(t.filter,"start_date",e)},expression:"filter.start_date"}},"v-text-field",s,!1),i))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{color:"primary"},on:{change:t.performFilter,input:function(e){t.menu=!1}},model:{value:t.filter.start_date,callback:function(e){t.$set(t.filter,"start_date",e)},expression:"filter.start_date"}})],1)],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[a("v-menu",{attrs:{color:"primary","close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"font-weight-bold",attrs:{color:"primary",clearable:"",label:t.$vuetify.lang.t("$vuetify.item_movements.cols.period_of.title2"),"prepend-inner-icon":"mdi-calendar",outlined:"",dense:"",readonly:""},model:{value:t.filter.end_date,callback:function(e){t.$set(t.filter,"end_date",e)},expression:"filter.end_date"}},"v-text-field",s,!1),i))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{min:t.minDate,max:t.maxDate,color:"primary"},on:{change:t.performFilter,input:function(e){t.menu2=!1}},model:{value:t.filter.end_date,callback:function(e){t.$set(t.filter,"end_date",e)},expression:"filter.end_date"}})],1)],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[a("v-autocomplete",{staticClass:"font-weight-bold",attrs:{dense:"",items:t.itemsPatient,loading:t.isLoadingPatient,"search-input":t.searchPatient,label:t.$vuetify.lang.t("$vuetify.prescription.cols.patient.title"),outlined:"",color:"primary","item-text":"name","item-value":"id","hide-no-data":"",clearable:"",autofocus:""},on:{"update:searchInput":function(e){t.searchPatient=e},"update:search-input":function(e){t.searchPatient=e},change:t.performFilter},model:{value:t.filter.patient,callback:function(e){t.$set(t.filter,"patient",e)},expression:"filter.patient"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[a("v-autocomplete",{staticClass:"font-weight-bold",attrs:{dense:"",items:t.itemsDoctor,loading:t.isLoadingDoctor,"search-input":t.searchDoctor,label:t.$vuetify.lang.t("$vuetify.prescription.cols.doctor.title"),outlined:"",color:"primary","item-text":"name","item-value":"id","hide-no-data":"",clearable:"",autofocus:""},on:{"update:searchInput":function(e){t.searchDoctor=e},"update:search-input":function(e){t.searchDoctor=e},change:t.performFilter},model:{value:t.filter.doctor,callback:function(e){t.$set(t.filter,"doctor",e)},expression:"filter.doctor"}})],1)],1)],1),a("br"),a("v-card-actions",{staticStyle:{"margin-top":"-45px"}},[a("v-spacer"),a("v-btn",{staticClass:"mr-2 my-2",attrs:{color:"primary",depressed:"",dark:"",loading:t.loadingBtn},on:{click:function(e){return t.print()}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.bills.new.print_bills"))+" ")],1)],1)],1),a("v-card",{staticClass:"pb-4"},[a("v-data-table",{staticClass:"mt-5",attrs:{"footer-props":{"items-per-page-options":t.itemPerPageOptions},headers:t.headers,items:t.items,"items-per-page":t.itemPerPage,loading:t.loading.list,options:t.pagination,"server-items-length":t.meta.totalElements,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"item-key":"name"},on:{"update:options":function(e){t.pagination=e}},scopedSlots:t._u([{key:"header.bill_N",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.arrival_date",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.date_bill",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.patient_name",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.net_payable",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.insurance",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.insurance_patient",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.amount_paid",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.balance",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.null",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"body",fn:function(e){var i=e.items;return[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.hover;return a("tbody",{},t._l(i,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"subtitle-2"},[t._v(t._s(e.code))]),a("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.$moment(e.createdAt).format("YYYY-MM-DD"))+" "+t._s(e.timeAt)+" ")]),a("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.patient_name?e.patient_name:"-")+" ")]),a("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.bills_amount)+" ")]),a("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.insurance)+" ")]),a("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.insurance_patient)+" ")]),a("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.amount_paid)+" ")]),a("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.balance)+" ")]),a("td",{staticClass:"subtitle-2"},[[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(i){var l=i.on;return[a("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.smAndDown||s,expression:"$vuetify.breakpoint.smAndDown || hover"}],attrs:{color:"secondary",icon:"",text:""},on:{click:function(a){return t.editBills(e)}}},l),[a("v-icon",[t._v("mdi-update")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t.$vuetify.lang.t("$vuetify.btn.detail")))])])]],2)])})),0)}}],null,!0)})]}}])}),a("form-enable",{ref:"accountedBills",attrs:{dialog:t.dialogForm,messages:t.messages},on:{getItems:t.getBills_analysis}}),a("form-bills",{ref:"billsForm",attrs:{dialog:t.dialogForm,form:t.form,messages:t.messages},on:{getItems:t.getBills_analysis}}),a("form-pdf",{ref:"pdfForm",attrs:{dialog:t.dialogFormPdf}})],1)],1)},s=[],l=(a("4de4"),a("4160"),a("caad"),a("b64b"),a("d3b7"),a("2532"),a("3ca3"),a("159b"),a("ddb0"),a("2b3d"),a("f96f")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","max-width":"1050px",transition:"dialog-bottom-transition"},model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[a("v-toolbar",{attrs:{dark:"",color:"white",dense:"","max-width":"1050px"}},[a("div",{staticClass:"title",staticStyle:{color:"black"}},[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.title))+" ")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",light:""},on:{click:function(e){return t.forceRefresh()}}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("div",{staticStyle:{"margin-top":"1px"}},[a("v-card",{staticClass:"pb-1"},[a("v-card-actions",[a("v-spacer"),a("v-spacer"),a("v-row",{attrs:{wrap:""}},[a("v-col",{attrs:{cols:"12",sm:"4"}},[[a("v-btn",{staticClass:"mr-2 my-2 white--text",attrs:{color:"primary",disabled:!t._.includes(this.$auth.user().permissions,"add_cash_movement"),dense:""},on:{click:function(e){return t.createD()}}},[a("v-icon",{attrs:{dark:""}},[t._v(" mdi-plus ")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.cash_movement.title"))+" ")],1)]],2),"HOSPITAL"===this.$auth.user().type_enterprise?a("v-col",{attrs:{cols:"12",sm:"4"}},[[a("v-btn",{staticClass:"mr-2 my-2 white--text",attrs:{color:"primary",disabled:!t._.includes(this.$auth.user().permissions,"add_patientsettlement"),dense:""},on:{click:function(e){return t.createP()}}},[a("v-icon",{attrs:{dark:""}},[t._v(" mdi-plus ")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.patients_settlements.title"))+" ")],1)]],2):t._e()],1),a("v-spacer")],1)],1),"HOSPITAL"===this.$auth.user().type_enterprise?a("v-card",{staticStyle:{"margin-top":"1px"}},[a("br"),a("v-form",[a("v-card-text",[a("v-row",{attrs:{wrap:""}},[a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.bill_N.title"),"prepend-inner-icon":"mdi-code-array mdi-dark mdi-18px",outlined:"",dense:"",filled:"",readonly:""},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[a("v-select",{staticClass:"font-weight-bold",attrs:{color:"primary",items:t.optionBills.type_bills,label:t.$vuetify.lang.t("$vuetify.bills.cols.bill_type.title"),placeholder:t.$vuetify.lang.t("$vuetify.bills.cols.bill_type.title"),"prepend-inner-icon":"mdi-gender-male-female mdi-dark mdi-18px",outlined:"",dense:""},on:{change:function(e){return t.resetAll()}},model:{value:t.form.bill_type,callback:function(e){t.$set(t.form,"bill_type",e)},expression:"form.bill_type"}})],1),"hospitalization"===this.form.bill_type?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[a("v-select",{staticClass:"font-weight-bold",attrs:{color:"primary",items:t.optionType.type_accommodation,label:t.$vuetify.lang.t("$vuetify.hospitalization.cols.type_accommodation.title"),placeholder:t.$vuetify.lang.t("$vuetify.hospitalization.cols.type_accommodation.title"),"prepend-inner-icon":"mdi-gender-male-female mdi-dark mdi-18px",outlined:"",dense:""},scopedSlots:t._u([{key:"label",fn:function(){return[a("span",{staticClass:"red--text"},[a("strong",[t._v("* ")])]),t._v(t._s(t.$vuetify.lang.t("$vuetify.hospitalization.cols.type_accommodation.title"))+" ")]},proxy:!0}],null,!1,1009631459),model:{value:t.form.type_accommodation,callback:function(e){t.$set(t.form,"type_accommodation",e)},expression:"form.type_accommodation"}})],1):t._e(),"hospitalization"===this.form.bill_type?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.cashier.title"),"prepend-inner-icon":"mdi-code-array mdi-dark mdi-18px",outlined:"",dense:"",filled:"",readonly:""},model:{value:t.$auth.user().username,callback:function(e){t.$set(t.$auth.user(),"username",e)},expression:"$auth.user().username"}})],1):a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.cashier.title"),"prepend-inner-icon":"mdi-code-array mdi-dark mdi-18px",outlined:"",dense:"",filled:"",readonly:""},model:{value:t.$auth.user().username,callback:function(e){t.$set(t.$auth.user(),"username",e)},expression:"$auth.user().username"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[a("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsPatient,loading:t.isLoadingPatient,"search-input":t.searchPatient,color:"primary","item-text":"name","item-value":"id","return-object":"",label:t.$vuetify.lang.t("$vuetify.bills.cols.patient_name.title"),"prepend-inner-icon":"mdi-account mdi-dark mdi-18px",outlined:"",dense:"",autofocus:"",clearable:""},on:{"update:searchInput":function(e){t.searchPatient=e},"update:search-input":function(e){t.searchPatient=e}},model:{value:t.form.patient,callback:function(e){t.$set(t.form,"patient",e)},expression:"form.patient"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"1"}},[a("v-btn",{staticClass:"mr-8 white--text",attrs:{disabled:!t._.includes(this.$auth.user().permissions,"add_patient"),dense:"",color:"primary"},on:{click:function(e){return t.createPatient()}}},[a("v-icon",{attrs:{dark:""}},[t._v(" mdi-plus ")])],1)],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.code_patient.title"),"prepend-inner-icon":"mdi-code-array mdi-dark mdi-18px",outlined:"",dense:"",readonly:"",filled:""},model:{value:t.get_patient_code,callback:function(e){t.get_patient_code=e},expression:"get_patient_code"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.patient_type.title"),"prepend-inner-icon":"mdi-shape-circle-plus mdi-dark mdi-18px",outlined:"",dense:"",readonly:"",filled:""},model:{value:t.get_patient_shape,callback:function(e){t.get_patient_shape=e},expression:"get_patient_shape"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.patient_balance.title"),"prepend-inner-icon":"mdi-credit-card mdi-dark mdi-18px",outlined:"",dense:"",readonly:"",suffix:"FCFA"},model:{value:t.get_patient_solde,callback:function(e){t.get_patient_solde=e},expression:"get_patient_solde"}})],1),"ordinance"!==this.form.bill_type?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[a("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsDoctor,loading:t.isLoadingDoctor,"search-input":t.searchDoctor,color:"primary","item-text":"name","item-value":"id","return-object":"",label:t.$vuetify.lang.t("$vuetify.bills.cols.dealing_with.title"),"prepend-inner-icon":"mdi-doctor mdi-dark mdi-18px",outlined:"",dense:"",clearable:"",readonly:t.supply},on:{"update:searchInput":function(e){t.searchDoctor=e},"update:search-input":function(e){t.searchDoctor=e}},model:{value:t.form.doctor,callback:function(e){t.$set(t.form,"doctor",e)},expression:"form.doctor"}})],1):t._e(),"hospitalization"===this.form.bill_type?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"8"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.supplies.cols.additional_info.title"),"prepend-inner-icon":"mdi-script-text mdi-dark mdi-18px",outlined:"",dense:"",readonly:t.supply},model:{value:t.form.additional_info,callback:function(e){t.$set(t.form,"additional_info",e)},expression:"form.additional_info"}})],1):a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"9"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.supplies.cols.additional_info.title"),"prepend-inner-icon":"mdi-script-text mdi-dark mdi-18px",outlined:"",dense:"",readonly:t.supply},model:{value:t.form.additional_info,callback:function(e){t.$set(t.form,"additional_info",e)},expression:"form.additional_info"}})],1),"pharmacy"===this.form.bill_type?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[a("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsDepot,loading:t.isLoadingDepot,"search-input":t.searchDepot,color:"primary","item-text":"name","item-value":"id",label:t.$vuetify.lang.t("$vuetify.supplies.cols.storage_depot.title"),"prepend-inner-icon":"mdi-archive mdi-dark mdi-18px",outlined:"",dense:"",clearable:""},on:{"update:searchInput":function(e){t.searchDepot=e},"update:search-input":function(e){t.searchDepot=e}},scopedSlots:t._u([{key:"label",fn:function(){return[a("span",{staticClass:"red--text"},[a("strong",[t._v("* ")])]),t._v(t._s(t.$vuetify.lang.t("$vuetify.supplies.cols.storage_depot.title"))+" ")]},proxy:!0}],null,!1,539973407),model:{value:t.form.storage_depots,callback:function(e){t.$set(t.form,"storage_depots",e)},expression:"form.storage_depots"}})],1):t._e()],1)],1),a("v-divider",{staticClass:"mx-4",staticStyle:{"margin-top":"-15px"}})],1)],1):t._e(),a("v-card",{staticStyle:{"margin-top":"1px"}},["ordinance"===this.form.bill_type?a("v-form",{attrs:{disabled:null===t.form.patient},on:{submit:function(e){return e.preventDefault(),t.saveDetailsOrdinance.apply(null,arguments)}}},[a("br"),a("v-card-text",[a("v-row",{attrs:{wrap:""}},[a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[a("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsOrdinance,loading:t.isLoadingOrdinance,"search-input":t.searchOrdinance,color:"primary","return-object":"","item-text":"code","item-value":"id",label:t.$vuetify.lang.t("$vuetify.ordinance.title"),outlined:"",clearable:"",dense:""},on:{"update:searchInput":function(e){t.searchOrdinance=e},"update:search-input":function(e){t.searchOrdinance=e}},model:{value:t.formData.ordinance,callback:function(e){t.$set(t.formData,"ordinance",e)},expression:"formData.ordinance"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[a("v-btn",{staticClass:"font-weight-bold ml-5 white--text",attrs:{color:"primary",loading:t.loadingBtn,type:"submit",disabled:null==this.formData.ordinance||null==this.form.patient}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.bills.new.add_ordinance_product"))+" ")])],1)],1)],1),a("v-divider",{staticClass:"mx-4",staticStyle:{"margin-top":"-15px"}})],1):t._e()],1),"HOSPITAL"===this.$auth.user().type_enterprise?a("v-card",{staticStyle:{"margin-top":"1px"}},[a("v-form",{attrs:{disabled:null===t.form.patient||null===t.form.doctor},on:{submit:function(e){return e.preventDefault(),t.saveDetails.apply(null,arguments)}}},[a("br"),a("v-card-text",[a("v-row",{attrs:{wrap:""}},["pharmacy"===this.form.bill_type||"ordinance"===this.form.bill_type?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[a("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsProduct,loading:t.isLoading,"search-input":t.search,color:"primary","item-text":"product_name","item-value":"id","return-object":"",label:t.$vuetify.lang.t("$vuetify.supplies.cols.product_name.title"),outlined:"",dense:"",clearable:""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.formData.details_stock,callback:function(e){t.$set(t.formData,"details_stock",e)},expression:"formData.details_stock"}})],1):t._e(),"RETAIL"===this.$auth.user().type_enterprise?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[a("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsProduct,loading:t.isLoading,"search-input":t.search,color:"primary","item-text":"product_name","item-value":"id","return-object":"",label:t.$vuetify.lang.t("$vuetify.supplies.cols.product_name.title"),outlined:"",dense:"",clearable:""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.formData.details_stock,callback:function(e){t.$set(t.formData,"details_stock",e)},expression:"formData.details_stock"}})],1):t._e(),"medical_act"===this.form.bill_type?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[a("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsMedical_act,loading:t.isLoadingMedical_act,"search-input":t.searchMedical_act,color:"primary","item-text":"name","item-value":"id","return-object":"",label:t.$vuetify.lang.t("$vuetify.bills.cols.medical_act.title"),outlined:"",dense:"",clearable:""},on:{"update:searchInput":function(e){t.searchMedical_act=e},"update:search-input":function(e){t.searchMedical_act=e}},model:{value:t.formData.medical_act,callback:function(e){t.$set(t.formData,"medical_act",e)},expression:"formData.medical_act"}})],1):t._e(),"consultation"===this.form.bill_type?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[a("v-autocomplete",{staticClass:"font-weight-bold",attrs:{dense:"",items:t.itemsType_consultation,loading:t.isLoadingType_consultation,"search-input":t.searchType_consultation,color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.new.select_service"),"item-text":"title","item-value":"id","return-object":"","hide-no-data":"",clearable:"",outlined:"",autofocus:""},on:{"update:searchInput":function(e){t.searchType_consultation=e},"update:search-input":function(e){t.searchType_consultation=e}},model:{value:t.formData.type_consultation,callback:function(e){t.$set(t.formData,"type_consultation",e)},expression:"formData.type_consultation"}})],1):t._e(),"hospitalization"===this.form.bill_type?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[a("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsRoom,loading:t.isLoadingRoom,"search-input":t.searchRoom,color:"primary","return-object":"","item-text":"name","item-value":"id",label:t.$vuetify.lang.t("$vuetify.room.title"),"prepend-inner-icon":"mdi-account mdi-dark mdi-18px",outlined:"",dense:"",clearable:""},on:{"update:searchInput":function(e){t.searchRoom=e},"update:search-input":function(e){t.searchRoom=e}},scopedSlots:t._u([{key:"label",fn:function(){return[a("span",{staticClass:"red--text"},[a("strong",[t._v("* ")])]),t._v(t._s(t.$vuetify.lang.t("$vuetify.room.title"))+" ")]},proxy:!0}],null,!1,1291490314),model:{value:t.formData.room,callback:function(e){t.$set(t.formData,"room",e)},expression:"formData.room"}})],1):t._e(),"hospitalization"===this.form.bill_type?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[a("v-select",{staticClass:"font-weight-bold",attrs:{color:"primary",items:t.optionNumberBed.number_bed,clearable:"",label:t.$vuetify.lang.t("$vuetify.hospitalization.cols.number_bed.title"),placeholder:t.$vuetify.lang.t("$vuetify.hospitalization.cols.number_bed.title"),"prepend-inner-icon":"mdi-gender-male-female mdi-dark mdi-18px",outlined:"",dense:""},on:{change:function(e){return t.get_price_patient()}},model:{value:t.formData.number_bed,callback:function(e){t.$set(t.formData,"number_bed",e)},expression:"formData.number_bed"}})],1):t._e(),"laboratory"===this.form.bill_type?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[a("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsLaboratory,loading:t.isLoadingLaboratory,"search-input":t.searchLaboratory,"item-text":"title","return-object":"",color:"primary","item-value":"id",label:t.$vuetify.lang.t("$vuetify.laboratory.title"),outlined:"",dense:"",clearable:""},on:{"update:searchInput":function(e){t.searchLaboratory=e},"update:search-input":function(e){t.searchLaboratory=e}},model:{value:t.formData.laboratory,callback:function(e){t.$set(t.formData,"laboratory",e)},expression:"formData.laboratory"}})],1):t._e(),"radiography"===this.form.bill_type?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[a("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsRadiography,loading:t.isLoadingRadiography,"search-input":t.searchRadiography,color:"primary","item-text":"title","return-object":"","item-value":"id",label:t.$vuetify.lang.t("$vuetify.radiography.title"),outlined:"",clearable:"",dense:""},on:{"update:searchInput":function(e){t.searchRadiography=e},"update:search-input":function(e){t.searchRadiography=e}},model:{value:t.formData.radiography,callback:function(e){t.$set(t.formData,"radiography",e)},expression:"formData.radiography"}})],1):t._e(),"exam_investigation"===this.form.bill_type?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[a("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsExam_investigation,loading:t.isLoadingExam_investigation,"search-input":t.searchExam_investigation,color:"primary","item-text":"title","return-object":"","item-value":"id",label:t.$vuetify.lang.t("$vuetify.exam_investigation.title"),outlined:"",clearable:"",dense:""},on:{"update:searchInput":function(e){t.searchExam_investigation=e},"update:search-input":function(e){t.searchExam_investigation=e}},model:{value:t.formData.exam_investigation,callback:function(e){t.$set(t.formData,"exam_investigation",e)},expression:"formData.exam_investigation"}})],1):t._e(),"diagnostic"===this.form.bill_type?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[a("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsDiagnostic,loading:t.isLoadingDiagnostic,"search-input":t.searchDiagnostic,color:"primary","item-text":"title","return-object":"","item-value":"id",label:t.$vuetify.lang.t("$vuetify.diagnostic.title"),outlined:"",clearable:"",dense:""},on:{"update:searchInput":function(e){t.searchDiagnostic=e},"update:search-input":function(e){t.searchDiagnostic=e}},model:{value:t.formData.diagnostic,callback:function(e){t.$set(t.formData,"diagnostic",e)},expression:"formData.diagnostic"}})],1):t._e(),"surgery"===this.form.bill_type?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[a("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsSurgery,loading:t.isLoadingSurgery,"search-input":t.searchSurgery,color:"primary","item-text":"title","return-object":"","item-value":"id",label:t.$vuetify.lang.t("$vuetify.surgery.title"),outlined:"",clearable:"",dense:""},on:{"update:searchInput":function(e){t.searchSurgery=e},"update:search-input":function(e){t.searchSurgery=e}},model:{value:t.formData.surgery,callback:function(e){t.$set(t.formData,"surgery",e)},expression:"formData.surgery"}})],1):t._e(),"checkup"===this.form.bill_type?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[a("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsCheckup,loading:t.isLoadingCheckup,"search-input":t.searchCheckup,color:"primary","return-object":"","item-text":"title","item-value":"id",label:t.$vuetify.lang.t("$vuetify.checkup.title"),outlined:"",clearable:"",dense:""},on:{"update:searchInput":function(e){t.searchCheckup=e},"update:search-input":function(e){t.searchCheckup=e}},model:{value:t.formData.checkup,callback:function(e){t.$set(t.formData,"checkup",e)},expression:"formData.checkup"}})],1):t._e(),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.supplies.cols.product_code.title"),outlined:"",dense:"",value:t.get_product_code,readonly:"",filled:""}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.quantity_served.title"),outlined:"",dense:"",type:"number",rules:[t.numberRuleQteServed],min:"0"},model:{value:t.formData.quantity_served,callback:function(e){t.$set(t.formData,"quantity_served",e)},expression:"formData.quantity_served"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.pub.title")+" : "+this.get_price_patient,outlined:"",dense:""},model:{value:t.formData.unit_price,callback:function(e){t.$set(t.formData,"unit_price",e)},expression:"formData.unit_price"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.amount_gross.title"),outlined:"",value:t.get_amount_gross,dense:"",readonly:"",filled:""}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.delivery.title"),outlined:"",type:"number",min:"0",rules:[t.numberRuleDelivery],dense:""},model:{value:t.formData.delivery,callback:function(e){t.$set(t.formData,"delivery",e)},expression:"formData.delivery"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.pun.title"),outlined:"",dense:"",readonly:"",filled:"",value:t.get_pu_net}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.amount_net.title"),outlined:"",value:t.get_amount_net,dense:"",readonly:"",filled:""}})],1),!0===t.get_assured?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.insurance.title"),outlined:"",value:t.get_insurance,readonly:"",filled:"",dense:""}})],1):t._e(),!0===t.get_assured?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.insurance.title_patient"),outlined:"",value:t.get_insurance_patient,readonly:"",filled:"",dense:""}})],1):t._e(),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"1"}},[a("v-btn",{staticClass:"font-weight-bold ml-5 white--text",attrs:{light:"",color:"primary",loading:t.loadingBtn,disabled:null===this.formData.quantity_served||0===this.get_price_patient,type:"submit"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.bills.new.add_product"))+" ")])],1)],1)],1),a("v-divider",{staticClass:"mx-4",staticStyle:{"margin-top":"-15px"}})],1)],1):t._e(),"RETAIL"===this.$auth.user().type_enterprise?a("v-card",{staticStyle:{"margin-top":"1px"}},[a("v-form",{on:{submit:function(e){return e.preventDefault(),t.saveDetails.apply(null,arguments)}}},[a("br"),a("v-card-text",[a("v-row",{attrs:{wrap:""}},[a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.bill_N.title"),"prepend-inner-icon":"mdi-code-array mdi-dark mdi-18px",outlined:"",dense:"",filled:"",readonly:""},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.cashier.title"),"prepend-inner-icon":"mdi-code-array mdi-dark mdi-18px",outlined:"",dense:"",filled:"",readonly:""},model:{value:t.$auth.user().username,callback:function(e){t.$set(t.$auth.user(),"username",e)},expression:"$auth.user().username"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.supplies.cols.additional_info.title"),"prepend-inner-icon":"mdi-script-text mdi-dark mdi-18px",outlined:"",dense:"",readonly:t.supply},model:{value:t.form.additional_info,callback:function(e){t.$set(t.form,"additional_info",e)},expression:"form.additional_info"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[a("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsDepot,loading:t.isLoadingDepot,"search-input":t.searchDepot,color:"primary","item-text":"name","item-value":"id",label:t.$vuetify.lang.t("$vuetify.supplies.cols.storage_depot.title"),"prepend-inner-icon":"mdi-archive mdi-dark mdi-18px",outlined:"",dense:"",clearable:""},on:{"update:searchInput":function(e){t.searchDepot=e},"update:search-input":function(e){t.searchDepot=e}},scopedSlots:t._u([{key:"label",fn:function(){return[a("span",{staticClass:"red--text"},[a("strong",[t._v("* ")])]),t._v(t._s(t.$vuetify.lang.t("$vuetify.supplies.cols.storage_depot.title"))+" ")]},proxy:!0}],null,!1,539973407),model:{value:t.form.storage_depots,callback:function(e){t.$set(t.form,"storage_depots",e)},expression:"form.storage_depots"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[a("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsProduct,loading:t.isLoading,"search-input":t.search,color:"primary","item-text":"product_name","item-value":"id","return-object":"",label:t.$vuetify.lang.t("$vuetify.supplies.cols.product_name.title"),outlined:"",dense:"",clearable:""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.formData.details_stock,callback:function(e){t.$set(t.formData,"details_stock",e)},expression:"formData.details_stock"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.supplies.cols.product_code.title"),outlined:"",dense:"",value:t.get_product_code,readonly:"",filled:""}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.quantity_served.title"),outlined:"",dense:"",type:"number",rules:[t.numberRuleQteServed],min:"0"},model:{value:t.formData.quantity_served,callback:function(e){t.$set(t.formData,"quantity_served",e)},expression:"formData.quantity_served"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.pub.title")+" : "+this.get_price_patient,outlined:"",dense:""},model:{value:t.formData.unit_price,callback:function(e){t.$set(t.formData,"unit_price",e)},expression:"formData.unit_price"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.amount_gross.title"),outlined:"",value:t.get_amount_gross,dense:"",readonly:"",filled:""}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.delivery.title"),outlined:"",type:"number",min:"0",rules:[t.numberRuleDelivery],dense:""},model:{value:t.formData.delivery,callback:function(e){t.$set(t.formData,"delivery",e)},expression:"formData.delivery"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.pun.title"),outlined:"",dense:"",readonly:"",filled:"",value:t.get_pu_net}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.amount_net.title"),outlined:"",value:t.get_amount_net,dense:"",readonly:"",filled:""}})],1),!0===t.get_assured?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.insurance.title"),outlined:"",value:t.get_insurance,readonly:"",filled:"",dense:""}})],1):t._e(),!0===t.get_assured?a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.insurance.title_patient"),outlined:"",value:t.get_insurance_patient,readonly:"",filled:"",dense:""}})],1):t._e(),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[a("v-btn",{staticClass:"font-weight-bold ml-5 white--text",attrs:{light:"",color:"primary",loading:t.loadingBtn,disabled:null===this.formData.quantity_served||0===this.get_price_patient,type:"submit"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.bills.new.add_product"))+" ")])],1)],1)],1),a("v-divider",{staticClass:"mx-4",staticStyle:{"margin-top":"-15px"}})],1)],1):t._e(),"RETAIL"===this.$auth.user().type_enterprise?a("v-card",{staticStyle:{"background-color":"#e9eef4","margin-top":"1px"},attrs:{color:"#E9EEF4"}},[a("v-form",{attrs:{disabled:0==this.get_bills_amount}},[a("v-card-text",[a("v-row",{attrs:{wrap:""}},[a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.net_payable.title"),outlined:"",value:t.get_bills_amount,readonly:"",filled:"",dense:""}})],1),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.tva.title"),outlined:"",value:t.get_bills_tva,readonly:"",filled:"",dense:""}})],1),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.ttc.title"),outlined:"",value:t.get_bills_ttc,readonly:"",filled:"",dense:""}})],1),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.net_payable.title2"),outlined:"",value:t.get_bills_amount_net,readonly:"",filled:"",dense:""}})],1),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.amount_received.title"),outlined:"",dense:"",type:"number",min:"0",rules:[t.numberRuleamount_received]},model:{value:t.form.amount_received,callback:function(e){t.$set(t.form,"amount_received",e)},expression:"form.amount_received"}})],1),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{value:t.get_bills_amount_paid,color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.amount_paid.title"),outlined:"",dense:"",type:"number",min:"0",rules:[t.numberRuleamount_paid]}})],1),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{value:t.get_balance,color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.balance.title"),outlined:"",dense:"",readonly:"",min:"0",filled:""},model:{value:t.get_balance,callback:function(e){t.get_balance=e},expression:"get_balance"}})],1),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{value:t.get_refund,color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.refund.title"),outlined:"",dense:"",disabled:"",min:"0",filled:""},model:{value:t.get_refund,callback:function(e){t.get_refund=e},expression:"get_refund"}})],1),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-select",{staticClass:"font-weight-bold",attrs:{color:"primary",items:t.optionPayment.type_Payment,label:t.$vuetify.lang.t("$vuetify.bills.cols.payment_method.title"),"prepend-inner-icon":"mdi-account-cash mdi-dark mdi-18px",outlined:"",dense:"",readonly:0===t.form.amount_received},model:{value:t.form.payment_method,callback:function(e){t.$set(t.form,"payment_method",e)},expression:"form.payment_method"}})],1),"OM"===this.form.payment_method||"MOMO"===this.form.payment_method?a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.phone_number.title"),outlined:"",dense:"",type:"number",min:"0",rules:[t.numberRulephone_number]},model:{value:t.form.phone_number,callback:function(e){t.$set(t.form,"phone_number",e)},expression:"form.phone_number"}})],1):t._e(),"BANK_CARD"===this.form.payment_method?a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.bank_card_number.title"),outlined:"",dense:"",type:"number",min:"0",rules:[t.numberRulebank_card_number]},model:{value:t.form.bank_card_number,callback:function(e){t.$set(t.form,"bank_card_number",e)},expression:"form.bank_card_number"}})],1):t._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{dark:"",color:"primary",loading:t.loadingBtn},on:{click:function(e){return t.resetFormBills()}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.reset"))+" ")]),"OM"===this.form.payment_method||"MOMO"===this.form.payment_method?a("v-btn",{staticClass:"white--text",attrs:{color:"primary",loading:t.loadingBtn,disabled:0==this.get_bills_amount||null==t.form.payment_method||null==t.form.amount_received||null==t.form.phone_number||"NO_PAY"==t.form.payment_method},on:{click:function(e){return t.save_print_bills()}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.bills.new.save_print_bills"))+" ")]):a("v-btn",{staticClass:"white--text",attrs:{color:"primary",loading:t.loadingBtn,disabled:null==t.form.payment_method||null==t.form.amount_received||"NO_PAY"==t.form.payment_method},on:{click:function(e){return t.save_print_bills()}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.bills.new.save_print_bills"))+" ")])],1),a("v-divider",{staticClass:"mx-4"})],1)],1):t._e(),"HOSPITAL"===this.$auth.user().type_enterprise?a("v-card",{staticStyle:{"background-color":"#e9eef4","margin-top":"1px"},attrs:{color:"#E9EEF4"}},[a("v-form",{attrs:{disabled:null===t.form.patient||null===t.form.bill_type}},[a("v-card-text",[a("v-row",{attrs:{wrap:""}},[a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.net_payable.title"),outlined:"",value:t.get_bills_amount,readonly:"",filled:"",dense:""}})],1),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.tva.title"),outlined:"",value:t.get_bills_tva,readonly:"",filled:"",dense:""}})],1),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.ttc.title"),outlined:"",value:t.get_bills_ttc,readonly:"",filled:"",dense:""}})],1),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.insurance.title"),outlined:"",value:t.get_insurance_total,readonly:"",filled:"",dense:""}})],1),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.insurance.title_patient"),outlined:"",value:t.get_insurance_patient_total,readonly:"",filled:"",dense:""}})],1),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.net_payable.title2"),outlined:"",value:t.get_bills_amount_net,readonly:"",filled:"",dense:""}})],1),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.amount_received.title"),outlined:"",dense:"",type:"number",min:"0",rules:[t.numberRuleamount_received]},model:{value:t.form.amount_received,callback:function(e){t.$set(t.form,"amount_received",e)},expression:"form.amount_received"}})],1),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{value:t.get_bills_amount_paid,color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.amount_paid.title"),outlined:"",dense:"",type:"number",min:"0",rules:[t.numberRuleamount_paid]}})],1),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{value:t.get_balance,color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.balance.title"),outlined:"",dense:"",readonly:"",min:"0",filled:""},model:{value:t.get_balance,callback:function(e){t.get_balance=e},expression:"get_balance"}})],1),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{value:t.get_refund,color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.refund.title"),outlined:"",dense:"",disabled:"",min:"0",filled:""},model:{value:t.get_refund,callback:function(e){t.get_refund=e},expression:"get_refund"}})],1),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-select",{staticClass:"font-weight-bold",attrs:{color:"primary",items:t.optionPayment.type_Payment,label:t.$vuetify.lang.t("$vuetify.bills.cols.payment_method.title"),"prepend-inner-icon":"mdi-account-cash mdi-dark mdi-18px",outlined:"",dense:"",readonly:0===t.form.amount_received},model:{value:t.form.payment_method,callback:function(e){t.$set(t.form,"payment_method",e)},expression:"form.payment_method"}})],1),"OM"===this.form.payment_method||"MOMO"===this.form.payment_method?a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.phone_number.title"),outlined:"",dense:"",type:"number",min:"0",rules:[t.numberRulephone_number]},model:{value:t.form.phone_number,callback:function(e){t.$set(t.form,"phone_number",e)},expression:"form.phone_number"}})],1):t._e(),"BANK_CARD"===this.form.payment_method?a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"2"}},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.bank_card_number.title"),outlined:"",dense:"",type:"number",min:"0",rules:[t.numberRulebank_card_number]},model:{value:t.form.bank_card_number,callback:function(e){t.$set(t.form,"bank_card_number",e)},expression:"form.bank_card_number"}})],1):t._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{dark:"",color:"primary",loading:t.loadingBtn},on:{click:function(e){return t.resetFormBills()}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.reset"))+" ")]),"OM"===this.form.payment_method||"MOMO"===this.form.payment_method?a("v-btn",{staticClass:"white--text",attrs:{color:"primary",loading:t.loadingBtn,disabled:0==this.get_bills_amount||null==t.form.payment_method||null==t.form.amount_received||null==t.form.phone_number||"NO_PAY"==t.form.payment_method},on:{click:function(e){return t.save_print_bills()}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.bills.new.save_print_bills"))+" ")]):a("v-btn",{staticClass:"white--text",attrs:{color:"primary",loading:t.loadingBtn,disabled:null==t.form.payment_method||null==t.form.amount_received||"NO_PAY"==t.form.payment_method},on:{click:function(e){return t.save_print_bills()}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.bills.new.save_print_bills"))+" ")])],1),a("v-divider",{staticClass:"mx-4"})],1)],1):t._e(),a("v-card",{staticStyle:{"margin-top":"1px"}},[a("v-card-text",[a("v-data-table",{staticClass:"mt-5",attrs:{"footer-props":{"items-per-page-options":t.itemPerPageOptions},headers:t.headers,items:t.items,"items-per-page":t.itemPerPage,loading:t.loadingDetails.list,options:t.pagination,"server-items-length":t.meta.totalElements,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"item-key":"name","hide-default-footer":""},on:{"update:options":function(e){t.pagination=e}},scopedSlots:t._u([{key:"header.product_name",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.product_code",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.quantity_served",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.pun",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.delivery",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.amount_net",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.insurance",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.insurance_patient",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.tva",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.null",fn:function(e){var i=e.header;return[a("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"body",fn:function(e){var i=e.items;return[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.hover;return a("tbody",{},t._l(i,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.details_stock?e.details_stock.product.name:e.medical_act?e.medical_act.title:e.laboratory?e.laboratory.title:e.checkup?e.checkup.title:e.surgery?e.surgery.title:e.radiography?e.radiography.title:e.functional_exploration?e.functional_exploration.title:e.type_consultation?e.type_consultation.title:e.diagnostic?e.diagnostic.title:e.exam_investigation?e.exam_investigation.title:e.room?e.room.name:"-")+" ")]),a("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.quantity_served)+" ")]),a("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.delivery)+" ")]),a("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.pun)+" ")]),a("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.amount_net)+" ")]),a("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.insurance)+" ")]),a("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.insurance_patient)+" ")]),a("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.tva)+" ")]),a("td",{staticClass:"subtitle-2",attrs:{width:"50px"}},[[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(i){var l=i.on;return[a("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.smAndDown||s,expression:"$vuetify.breakpoint.smAndDown || hover"}],attrs:{color:"secondary",icon:"",text:""},on:{click:function(a){return t.editDetails(e)}}},l),[a("v-icon",{attrs:{"mdi-18px":""}},[t._v("mdi-update")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t.$vuetify.lang.t("$vuetify.btn.edit")))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(i){var l=i.on;return[a("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.smAndDown||s,expression:"$vuetify.breakpoint.smAndDown || hover"}],attrs:{color:"red",icon:"",text:"",dark:""},on:{click:function(a){return t.deleteItem(e)}}},l),[a("v-icon",{attrs:{"mdi-18px":""}},[t._v("mdi-delete-outline")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t.$vuetify.lang.t("$vuetify.btn.remove")))])])]],2)])})),0)}}],null,!0)})]}}])}),a("delete-item",{attrs:{dialog:t.dialogDelete,messages:t.messagesDelete,urlItems:t.urlDeleteItems},on:{getItemsDetails:t.getItemsDetails}})],1)],1),a("form-pdf",{ref:"pdfForm",attrs:{dialog:t.dialogFormPdf}})],1)],1)},r=[],n=(a("7db0"),a("b0c0"),a("53ca")),u=a("5ed4"),c=a("6947"),d=a("8980"),m={mixins:[u["a"]],props:{form:{type:Object,default:function(){return{id:null,patient:null,doctor:null,medical_act:null,patient_name:null,patient_balance:null,net_payable:null,patient_type:null,bills_date:null,pub:null,pun:null,storage_depots:null,amount_gross:null,ordinance:null,payment_method:null,quantity_ordered:null,amount_net:null,total_amount:null,quantity_served:null,details_stock:null,type_accommodation:null,delivery:null,balance:null,bills:null,cash:null,tva:null,reference_no:null,phone_number:null,additional_info:"R.A.S",bills_amount:null,code:null,cashier:null,bill_type:"pharmacy",amount_received:null}}}},data:function(){return{formData:{id:null,patient:null,doctor:null,medical_act:null,type_consultation:null,refund:null,diagnostic:null,exam_investigation:null,patient_name:null,patient_balance:null,sales_packaging:null,net_payable:null,patient_type:null,laboratory:null,surgery:null,checkup:null,tva:null,ordinance:null,radiography:null,functional_exploration:null,room:null,bills_date:null,pub:null,unit_price:null,pun:null,amount_gross:null,payment_method:null,quantity_ordered:null,amount_net:null,total_amount:null,quantity_served:1,bank_card_number:null,details_stock:null,delivery:null,balance:null,bills:null,reference_no:null,additional_info:null,bills_amount:null,code:null,cashier:null,bill_type:null,number_bed:null,is_accounted:null,amount_paid:null,amount_received:null},isLoadingExam_investigation:!1,searchExam_investigation:null,itemsExam_investigation:[],urlExam_investigation:"exam_investigations/all",isLoadingDiagnostic:!1,searchDiagnostic:null,itemsDiagnostic:[],urlDiagnostic:"diagnostics/all",isLoadingRadiography:!1,searchRadiography:null,itemsRadiography:[],urlRadiography:"radiographs/all",isLoadingSurgery:!1,searchSurgery:null,itemsSurgery:[],urlSurgery:"surgeries/all",isLoadingCheckup:!1,searchCheckup:null,itemsCheckup:[],urlCheckup:"checkups/all",isLoadingOrdinance:!1,searchOrdinance:null,itemsOrdinance:[],urlOrdinance:"ordinances",isLoadingLaboratory:!1,searchLaboratory:null,itemsLaboratory:[],urlLaboratory:"laboratories/all",maxDate:(new Date).toISOString().substr(0,10),optionPayment:{type_Payment:[]},optionType:{type_accommodation:[]},pdfsrc:null,headers:[],headers_act:[],items:[],meta:{},sum:"",simple_tva:null,next_beneficiary:"",current_contribution:"",itemPerPage:30,itemPerPageOptions:[30,40,50],urlDeleteItems:"",sortDesc:!0,loading:{list:!1,refresh:!1,filter:!1},dialogFormPermit:{show:!1,shows:{showFilter:!1,showInfo:!1}},pagination:{},selectedItem:!1,_search:{},_sorts:{},dialogDelete:{show:!1},sortBy:["id"],e1:1,isLoadingDepot:!1,searchDepot:null,itemsDepot:[],urlDepot:"storage_depots",isLoading:!1,searchSales_packaging:null,itemsSales_packaging:[],urlSales_packaging:"sales_packaging",isLoadingSales_packaging:!1,search:null,urlRoom:"rooms",itemsRoom:[],isLoadingRoom:!1,searchRoom:null,numberRuleDelivery:function(t){return!(t<0)||"Entrer un nombre positif"},numberRuleQteOrdered:function(t){return!(t<0)||"Entrer un nombre positif"},numberRuleQteServed:function(t){return!(t<0)||"Entrer un nombre positif"},numberRuleamount_received:function(t){return!(t<0)||"Entrer un nombre positif"},numberRuleamount_paid:function(t){return!(t<0)||"Entrer un nombre positif"},numberRulephone_number:function(t){return!(t<0)||"Entrer un nombre positif"},numberRulebank_card_number:function(t){return!(t<0)||"Entrer un nombre positif"},searchDoctor:null,isActive:!1,pricePatient:null,isInventory:!1,menu2:!1,supply:!1,active:!1,menu3:!1,tva_collected:null,menu4:!1,menu:!1,dialogFormCMV:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogFormCash:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogFormInv:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogFormWarning:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogFormPdf:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogFormSet:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogFormDetails:{show:!1,shows:{showFilter:!1,showInfo:!1}},searchType_consultation:null,itemsType_consultation:[],isLoadingType_consultation:!1,urlType_consultation:"type_consultations/all",optionBills:{type_bills:[]},optionNumberBed:{number_bed:[]},optionShape:{type_shape:[]},optionPatient_shape:{type_Patient_shape:[]},messagesDelete:{success:"$vuetify.supplies.delete.success"},loadingBtn:!1,loadingDetails:{list:!1,refresh:!1,filter:!1},loadingPrice:{list:!1,refresh:!1,filter:!1},isLoadingMedical_act:!1,searchMedical_act:null,itemsMedical_act:[],urlMedical_act:"medical_act",itemsProduct:[],product_public_price:"",isLoadingPatient:!1,searchPatient:null,itemsPatient:[],urlPatient:"patients/allPatients",urlItemsPatientSolde:"patients/solde",urlDoctor:"doctors",itemsDoctor:[],isLoadingDoctor:!1,urlItemsCash:"cashs/isOpen",urlItemsHospital:"hospitals",urlProduct:"details_stocks/specify",urlItems:"bills",urlItemsDetails_bills:"details_bills"}},watch:{searchRoom:function(t){var e=this;if(null!==t){var a={name:t},i=this;this.isLoadingRoom=!0,this.$store.dispatch("request",{url:i.urlRoom,params:a}).then((function(t){i.itemsRoom=t.data.content})).finally((function(){return e.isLoadingRoom=!1}))}},pagination:{handler:function(){this.getItemsDetails()},deep:!0},searchDepot:function(t){var e=this;if(null!==t){var a={name:t},i=this;this.isLoadingDepot=!0,this.$store.dispatch("request",{url:i.urlDepot,params:a}).then((function(t){i.itemsDepot=t.data.content,e.itemsProduct=[],e.formData.details_stock=null})).finally((function(){return e.isLoadingDepot=!1}))}},searchDiagnostic:function(t){var e=this;if(null!==t){var a={title:t},i=this;this.isLoadingDiagnostic=!0,this.$store.dispatch("request",{url:i.urlDiagnostic,params:a}).then((function(t){i.itemsDiagnostic=t.data.content})).finally((function(){return e.isLoadingDiagnostic=!1}))}},searchRadiography:function(t){var e=this;if(null!==t){var a={title:t},i=this;this.isLoadingRadiography=!0,this.$store.dispatch("request",{url:i.urlRadiography,params:a}).then((function(t){i.itemsRadiography=t.data.content})).finally((function(){return e.isLoadingRadiography=!1}))}},searchExam_investigation:function(t){var e=this;if(null!==t){var a={title:t},i=this;this.isLoadingExam_investigation=!0,this.$store.dispatch("request",{url:i.urlExam_investigation,params:a}).then((function(t){i.itemsExam_investigation=t.data.content})).finally((function(){return e.isLoadingExam_investigation=!1}))}},searchSurgery:function(t){var e=this;if(null!==t){var a={title:t},i=this;this.isLoadingSurgery=!0,this.$store.dispatch("request",{url:i.urlSurgery,params:a}).then((function(t){i.itemsSurgery=t.data.content})).finally((function(){return e.isLoadingSurgery=!1}))}},searchType_consultation:function(t){var e=this;if(null!==t){var a={title:t},i=this;this.isLoadingType_consultation=!0,this.$store.dispatch("request",{url:i.urlType_consultation,params:a}).then((function(t){i.itemsType_consultation=t.data.content})).finally((function(){return e.isLoadingType_consultation=!1}))}},searchCheckup:function(t){var e=this;if(null!==t){var a={title:t},i=this;this.isLoadingCheckup=!0,this.$store.dispatch("request",{url:i.urlCheckup,params:a}).then((function(t){i.itemsCheckup=t.data.content})).finally((function(){return e.isLoadingCheckup=!1}))}},searchOrdinance:function(t){var e=this;if(null!==t){var a={code:t,patient:this.form.patient["id"]},i=this;this.isLoadingOrdinance=!0,this.$store.dispatch("request",{url:i.urlOrdinance,params:a}).then((function(t){i.itemsOrdinance=t.data.content})).finally((function(){return e.isLoadingOrdinance=!1}))}},searchLaboratory:function(t){var e=this;if(null!==t){var a={title:t},i=this;this.isLoadingLaboratory=!0,this.$store.dispatch("request",{url:i.urlLaboratory,params:a}).then((function(t){i.itemsLaboratory=t.data.content})).finally((function(){return e.isLoadingLaboratory=!1}))}},searchMedical_act:function(t){var e=this;if(null!==t){var a={name:t},i=this;this.isLoading=!0,this.$store.dispatch("request",{url:i.urlMedical_act,params:a}).then((function(t){i.itemsMedical_act=t.data.content})).finally((function(){return e.isLoading=!1}))}},search:function(t){var e,a=this;if(null!==t){var i={name:t},s=this;this.isLoading=!0,this.$store.dispatch("request",{url:this.form.storage_depots?s.urlProduct+"?storage_depots="+this.form.storage_depots:s.urlProduct+"?storage_depots="+(null===(e=this.$auth.user())||void 0===e?void 0:e.storage_depots.id),params:i}).then((function(t){s.itemsProduct=t.data.content,a.reset_product_detail_act()})).finally((function(){return a.isLoading=!1}))}},searchPatient:function(t){var e=this;if(null!==t){this.isLoadingPatient=!0;var a={name:t},i=this;this.$store.dispatch("request",{url:i.urlPatient,params:a}).then((function(t){i.itemsPatient=t.data.content})).finally((function(){return e.isLoadingPatient=!1}))}},searchDoctor:function(t){var e=this;if(null!==t){var a={name:t},i=this;this.isLoadingDoctor=!0,this.$store.dispatch("request",{url:i.urlDoctor,params:a}).then((function(t){i.itemsDoctor=t.data.content})).finally((function(){return e.isLoadingDoctor=!1}))}}},created:function(){this.setHeaders(),this.setHeadersAct(),this.getOptionsBill(),this.getOptionsNumberBed(),this.getOptionsShape(),this.getOptionsType(),this.getOptionsPatient_shape(),this.getOptionsPayment(),this.resetItemsDetails()},validations:function(){var t={form:{}};return t},methods:{permit_other_depots:function(t){this.dialogFormPermit.shows.showInfo=!0,this.messages={title:"$vuetify.cash.cols.status.enabled",submit:"$vuetify.cash.update.submit",success:"$vuetify.cash.update.success"},this.$refs.permitOthers.setForm(t)},reset_product_detail:function(){this.formData.details_stock=null,this.formData.sales_packaging=null,this.formData.quantity_served=null,this.formData.delivery=null},reset_medical_act:function(){this.formData.details_stock=null,this.formData.sales_packaging=null,this.formData.quantity_served=null,this.formData.delivery=null,this.formData.laboratory=null,this.formData.surgery=null,this.form.type_accommodation=null,this.formData.ordinance=null,this.formData.checkup=null,this.formData.radiography=null,this.formData.number_bed=null,this.formData.room=null,this.formData.diagnostic=null,this.formData.exam_investigation=null},reset_detail_stock:function(){this.formData.medical_act=null,this.formData.sales_packaging=null,this.formData.quantity_served=null,this.formData.delivery=null,this.formData.laboratory=null,this.formData.surgery=null,this.form.type_accommodation=null,this.formData.ordinance=null,this.formData.number_bed=null,this.formData.checkup=null,this.formData.radiography=null,this.formData.room=null,this.formData.type_consultation=null,this.formData.diagnostic=null,this.formData.exam_investigation=null},reset_laboratory:function(){this.formData.medical_act=null,this.formData.sales_packaging=null,this.formData.quantity_served=null,this.formData.delivery=null,this.formData.details_stock=null,this.formData.ordinance=null,this.form.type_accommodation=null,this.formData.surgery=null,this.formData.checkup=null,this.formData.room=null,this.formData.number_bed=null,this.formData.radiography=null,this.formData.type_consultation=null,this.formData.diagnostic=null,this.formData.exam_investigation=null},reset_surgery:function(){this.formData.medical_act=null,this.formData.sales_packaging=null,this.formData.quantity_served=null,this.formData.delivery=null,this.formData.details_stock=null,this.formData.laboratory=null,this.formData.ordinance=null,this.form.type_accommodation=null,this.formData.checkup=null,this.formData.radiography=null,this.formData.number_bed=null,this.formData.room=null,this.formData.type_consultation=null,this.formData.diagnostic=null,this.formData.exam_investigation=null},reset_checkup:function(){this.formData.medical_act=null,this.formData.sales_packaging=null,this.formData.quantity_served=null,this.formData.delivery=null,this.formData.details_stock=null,this.formData.laboratory=null,this.formData.ordinance=null,this.form.type_accommodation=null,this.formData.surgery=null,this.formData.radiography=null,this.formData.room=null,this.formData.number_bed=null,this.formData.type_consultation=null,this.formData.diagnostic=null,this.formData.exam_investigation=null},reset_radiography:function(){this.formData.medical_act=null,this.formData.sales_packaging=null,this.formData.quantity_served=null,this.formData.delivery=null,this.formData.details_stock=null,this.formData.laboratory=null,this.formData.ordinance=null,this.form.type_accommodation=null,this.formData.surgery=null,this.formData.checkup=null,this.formData.number_bed=null,this.formData.room=null,this.formData.type_consultation=null,this.formData.diagnostic=null,this.formData.exam_investigation=null},reset_type_consultation:function(){this.formData.medical_act=null,this.formData.sales_packaging=null,this.formData.quantity_served=null,this.formData.delivery=null,this.formData.details_stock=null,this.formData.ordinance=null,this.formData.laboratory=null,this.form.type_accommodation=null,this.formData.number_bed=null,this.formData.radiography=null,this.formData.room=null,this.formData.surgery=null,this.formData.checkup=null,this.formData.diagnostic=null,this.formData.exam_investigation=null},reset_ordinance:function(){this.formData.medical_act=null,this.formData.sales_packaging=null,this.formData.quantity_served=null,this.formData.delivery=null,this.formData.details_stock=null,this.formData.laboratory=null,this.formData.surgery=null,this.formData.radiography=null,this.form.type_accommodation=null,this.formData.number_bed=null,this.formData.room=null,this.formData.checkup=null,this.formData.diagnostic=null,this.formData.exam_investigation=null},reset_diagnostic:function(){this.formData.medical_act=null,this.formData.sales_packaging=null,this.formData.quantity_served=null,this.formData.delivery=null,this.formData.details_stock=null,this.formData.laboratory=null,this.formData.radiography=null,this.formData.room=null,this.formData.number_bed=null,this.form.type_accommodation=null,this.formData.surgery=null,this.formData.checkup=null,this.formData.ordinance=null,this.formData.exam_investigation=null},reset_exam_investigation:function(){this.formData.medical_act=null,this.formData.sales_packaging=null,this.formData.quantity_served=null,this.formData.delivery=null,this.formData.details_stock=null,this.formData.laboratory=null,this.formData.radiography=null,this.form.type_accommodation=null,this.formData.room=null,this.formData.number_bed=null,this.formData.bed=null,this.formData.surgery=null,this.formData.checkup=null,this.formData.ordinance=null,this.formData.diagnostic=null},reset_room:function(){this.formData.medical_act=null,this.formData.sales_packaging=null,this.formData.quantity_served=null,this.formData.delivery=null,this.formData.details_stock=null,this.formData.laboratory=null,this.formData.radiography=null,this.formData.surgery=null,this.formData.checkup=null,this.formData.ordinance=null,this.formData.diagnostic=null},reset_product_detail_act:function(){this.formData.medical_act=null,this.formData.quantity_served=null,this.formData.delivery=null},resetFormPro:function(){this.formData.details_stock=null,this.formData.quantity_served=null},get_qte_stock:function(){var t,e;0===(null===(t=this.formData.details_stock)||void 0===t?void 0:t.qte_stock)||this.formData.quantity_served>(null===(e=this.formData.details_stock)||void 0===e?void 0:e.qte_stock)?this.dialogFormWarning.show=!0:this.dialogFormWarning.show=!1},editPdf:function(t){this.dialogFormPdf.show=!0,this.$refs.pdfForm.setForm(t)},getOptionsPayment:function(){var t=this;this._.each(this.$store.getters.payment,(function(e){t.optionPayment.type_Payment.push({text:t.$vuetify.lang.t(e.text),value:e.value})}))},getOptionsPatient_shape:function(){var t=this;this._.each(this.$store.getters.type_Patient_shape,(function(e){t.optionPatient_shape.type_Patient_shape.push({text:t.$vuetify.lang.t(e.text),value:e.value})}))},getOptionsBill:function(){var t=this;this._.each(this.$store.getters.type_bills,(function(e){t.optionBills.type_bills.push({text:t.$vuetify.lang.t(e.text),value:e.value})}))},getOptionsNumberBed:function(){var t=this;this._.each(this.$store.getters.number_bed,(function(e){t.optionNumberBed.number_bed.push({text:t.$vuetify.lang.t(e.text),value:e.value})}))},getOptionsType:function(){var t=this;this._.each(this.$store.getters.type_accommodation,(function(e){t.optionType.type_accommodation.push({text:t.$vuetify.lang.t(e.text),value:e.value})}))},getOptionsShape:function(){var t=this;this._.each(this.$store.getters.type_shape,(function(e){t.optionShape.type_shape.push({text:t.$vuetify.lang.t(e.text),value:e.value})}))},forceRefresh:function(){this.dialog.show=!1,this.items=[],this.active=!1,this.resetItemsDetails()},deleteItem:function(t){this.urlDeleteItems=this.urlItemsDetails_bills+"/"+t.id,this.dialogDelete.show=!0},setHeaders:function(){this.headers=[{text:"$vuetify.bills.cols.product_name.title",value:"product_name",align:"start",sortable:!1,width:"120",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.quantity_served.title",value:"quantity_served",align:"start",sortable:!1,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.delivery.title",value:"delivery",align:"start",sortable:!1,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.pun.title",value:"pun",align:"start",sortable:!1,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.amount_net.title",value:"amount_net",align:"start",sortable:!1,width:"60",class:"grey--text text--darken-3"},{text:"$vuetify.insurance.title",value:"insurance",align:"start",sortable:!1,width:"60",class:"grey--text text--darken-3"},{text:"$vuetify.insurance.title_patient",value:"insurance_patient",align:"start",sortable:!1,width:"60",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.tva.title",value:"tva",align:"start",sortable:!1,width:"60",class:"grey--text text--darken-3"},{text:"$vuetify.supplies.cols.actions.title",value:null,align:"start",sortable:!1,width:"80"}]},setHeadersAct:function(){this.headers_act=[{text:"$vuetify.medical_act.cols.name.title",value:"name",align:"start",sortable:!1,width:"120",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.product_code.title",value:"product_code",align:"start",sortable:!1,width:"20",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.quantity_served.title",value:"quantity_served",align:"start",sortable:!1,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.pub.title",value:"pub",align:"start",sortable:!1,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.delivery.title",value:"delivery",align:"start",sortable:!1,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.pun.title",value:"pun",align:"start",sortable:!1,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.amount_gross.title",value:"amount_gross",align:"start",sortable:!1,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.amount_net.title",value:"amount_net",align:"start",sortable:!1,width:"60",class:"grey--text text--darken-3"},{text:"$vuetify.supplies.cols.actions.title",value:null,align:"start",sortable:!1,width:"80"}]},createPatient:function(){this.dialogForm.show=!0,this.messages={title:"$vuetify.patient.new.title",submit:"$vuetify.patient.new.submit",success:"$vuetify.patient.new.success"}},createCash:function(){this.dialogFormCash.show=!0},currentInventory:function(){this.dialogFormInv.show=!0},createD:function(){this.dialogFormCMV.show=!0,this.messagesCMV={title:"$vuetify.cash_movement.new.title",submit:"$vuetify.cash_movement.new.submit",success:"$vuetify.cash_movement.new.success"}},createP:function(){this.dialogFormSet.show=!0,this.messagesSet={title:"$vuetify.patients_settlements.new.title",submit:"$vuetify.patients_settlements.new.submit",success:"$vuetify.patients_settlements.new.success"}},getDataForm:function(){var t={doctor:this.form.doctor["id"],patient:this.form.patient["id"],cash:void 0===this.form.cash||null===this.form.cash?null:this.form.cash["id"],cashier:this.form.cash?this.form.cash["user"]["id"]:this.$auth.user().id,patient_type:this.form.patient_type,bills_date:this.form.createdAt,bill_type:this.form.bill_type,type_accommodation:this.form.type_accommodation,patient_balance:this.get_patient_solde,additional_info:this.form.additional_info,phone_number:this.form.phone_number,bank_card_number:this.form.bank_card_number,storage_depots:this.form.storage_depots,payment_method:0===this.form.amount_received?"NO_PAY":null===this.form.payment_method?"CASH":this.form.payment_method,bills_amount:this.get_bills_amount,amount_paid:this.get_bills_amount_paid,net_payable:this.get_bills_amount_net,tva:this.get_bills_tva,ttc:this.get_bills_ttc,insurance:this.get_insurance_total,insurance_patient:this.get_insurance_patient_total,amount_received:null===this.form.amount_received?0:this.form.amount_received,balance:this.get_balance,refund:this.get_refund};return t},resetDataForm:function(){if(this.form.id=null,this.formData.details_stock=null,this.form.patient=null,this.formData.medical_act=null,this.form.doctor=null,this.items=[],!this.form.id){var t=this;this.$v.form.$reset(),this._.each(this.form,(function(e,a){"object"===Object(n["a"])(t.form[a])?t._.each(t.form[a],(function(e,i){"boolean"===typeof t.form[a][i]?t.form[a][i]=!1:t.form[a][i]=null})):"boolean"===typeof t.form[a]?t.form[a]=!1:t.form[a]=null})),this.resetItemsDetails(),this.form.bill_type="pharmacy",this.form.additional_info="R.A.S",this.form.payment_method="NO_PAY"}},resetFormBills:function(){if(this.form.id=null,this.formData.details_stock=null,this.formData.quantity_served=null,this.formData.delivery=null,this.form.patient=null,this.formData.medical_act=null,this.form.doctor=null,this.items=[],!this.form.id){var t=this;this.$v.form.$reset(),this._.each(this.form,(function(e,a){"object"===Object(n["a"])(t.form[a])?t._.each(t.form[a],(function(e,i){"boolean"===typeof t.form[a][i]?t.form[a][i]=!1:t.form[a][i]=null})):"boolean"===typeof t.form[a]?t.form[a]=!1:t.form[a]=null})),this.form.bill_type="pharmacy",this.form.additional_info="R.A.S",this.form.payment_method="CASH",this.form.bills_date=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)}},resetItemsDetails:function(){var t=this,e=this,a=this.pagination,i=a.page,s=a.itemsPerPage,l={page:i,size:s};return this._.isEmpty(this._search)||(this._search=this._.merge(l,this._search)),new Promise((function(a,i){t.loadingDetails.list=!0,e.$store.dispatch("request",{url:e.urlItemsDetails_bills+"?bills=reset",params:l}).then((function(t){var i=t.data;e.meta={totalElements:i.totalElements},a(t)})).catch((function(a){var s=t.$vuetify.lang.t("$vuetify.error_occured");if(a.response)if(400===a.response.status){var l=a.response.data;e.setFormErrors(l);var o=Object.keys(l)[0];o&&Array.isArray(l[o])&&(s=l[o][0])}else 403===a.response.status?s=e.$vuetify.lang.t("$vuetify.error_denied"):500===a.response.status&&(s=e.$vuetify.lang.t("$vuetify.error_server"));e.$store.dispatch("showNotification",{status:!0,text:s}),i(a)})).then((function(){e.loadingDetails.list=!1,a()}))}))},getDataFormdetails:function(){var t,e=["ordinance","pharmacy"],a={quantity_served:"pharmacy"===this.form.bill_type?this.formData.quantity_served:1,bill_type:this.form.bill_type,bills:this.form.bills,cash:void 0===this.form.cash||null===this.form.cash?null:this.form.cash["id"],type_accommodation:this.form.type_accommodation,details_stock:void 0===this.formData.details_stock||null===this.formData.details_stock?"":this.formData.details_stock["id"],quantity_ordered:null===this.formData.quantity_ordered?0:this.formData.quantity_ordered,pub:this.formData.unit_price?this.formData.unit_price:this.get_price_patient,pun:this.get_pu_net,storage_depots:e.includes(this.form.bill_type)?this.form.storage_depots?this.form.storage_depots:null===(t=this.$auth.user())||void 0===t?void 0:t.storage_depots.id:null,delivery:null===this.formData.delivery||""===this.formData.delivery?0:this.formData.delivery,amount_gross:this.get_amount_gross,amount_net:this.get_amount_net,doctor:this.form.doctor["id"],share_doctor:this.get_share_doctor,tva:this.get_tva,createdAt:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),product:this.form.patient["id"],medical_act:void 0===this.formData.medical_act||null===this.formData.medical_act?"":this.formData.medical_act["id"],room:void 0===this.formData.room||null===this.formData.room?"":this.formData.room["id"],ordinance:void 0===this.formData.ordinance||null===this.formData.ordinance?"":this.formData.ordinance["id"],laboratory:void 0===this.formData.laboratory||null===this.formData.laboratory?"":this.formData.laboratory["id"],surgery:void 0===this.formData.surgery||null===this.formData.surgery?"":this.formData.surgery["id"],insurance:"pharmacy"===this.form.bill_type?0:this.get_insurance,insurance_patient:"pharmacy"===this.form.bill_type?0:this.get_insurance_patient,type_consultation:void 0===this.formData.type_consultation||null===this.formData.type_consultation?"":this.formData.type_consultation["title"],checkup:void 0===this.formData.checkup||null===this.formData.checkup?"":this.formData.checkup["id"],radiography:void 0===this.formData.radiography||null===this.formData.radiography?"":this.formData.radiography["id"],exam_investigation:void 0===this.formData.exam_investigation||null===this.formData.exam_investigation?"":this.formData.exam_investigation["id"],diagnostic:void 0===this.formData.diagnostic||null===this.formData.diagnostic?"":this.formData.diagnostic["id"]};return a},getDataFormdetailsOrdinance:function(){var t,e=["ordinance","pharmacy"],a={details_stock:void 0===this.formData.details_stock||null===this.formData.details_stock?"":this.formData.details_stock["id"],storage_depots:e.includes(this.form.bill_type)?this.form.storage_depots?this.form.storage_depots:null===(t=this.$auth.user())||void 0===t?void 0:t.storage_depots.id:null,ordinance:void 0===this.formData.ordinance||null===this.formData.ordinance?"":this.formData.ordinance["id"]};return a},setForm:function(t){this.form.id=t.id,this.form.bills=t.id,this.form.cash=t.cash,this.form.code=t.code,this.form.patient=t.patient,this.itemsPatient.push(t.patient),this.form.doctor=t.doctor,this.itemsDoctor.push(t.doctor),this.form.patient_name=t.patient["name"],this.form.patient_type=t.patient["shape"],this.form.is_accounted=t.is_accounted,this.form.details_stock=t.details_stock,this.form.bank_card_number=t.bank_card_number,this.form.amount_received=t.amount_received,this.form.amount_paid=t.amount_paid,this.form.storage_depots=null===t.storage_depots?"":t.storage_depots["id"],this.itemsDepot.push(t.storage_depots),this.form.phone_number=t.phone_number,this.form.bills_date=t.createdAt,this.form.payment_method=t.payment_method,this.form.bill_type=t.bill_type,this.form.type_accommodation=t.type_accommodation,this.form.additional_info=t.additional_info,this.form.refund=t.refund,this.form.tva=t.tva,this.getItemsDetails()},getRouteDetails:function(){return this.form.id,this.urlItemsDetails_bills},getMethodDetails:function(){return"POST"},getMethod:function(){return this.form.id?"PUT":"POST"},refreshItemsDetail:function(){var t=this;this.loadingDetails.refresh=!0,this.getItemsDetails().then((function(){})).catch((function(){})).then((function(){t.loadingDetails.refresh=!1}))},getHospital:function(){var t=this;return new Promise((function(e){t.$store.dispatch("request",{url:t.urlItemsHospital}).then((function(a){var i=a.data;t.tva_collected=i.content[0].VAT_collected,e(a)}))}))},getOpenCash:function(){var t=this,e=this;return new Promise((function(a){e.$store.dispatch("request",{url:e.urlItemsCash}).then((function(i){var s=i.data;e.isActive=s.content.is_active,e.isInventory=s.content.is_inventory,!1===e.isActive?!1===e.isInventory?t.createCash():t.currentInventory():(e.isActive=s.content.is_active,!0===e.isInventory&&t.currentInventory()),a(i)}))}))},save:function(){var t=this;this.$store.dispatch("showNotification",{statut:!1});var e=this;e.$v.$touch(),e.$v.$invalid||(this.loading=!0,this.$store.dispatch("request",{url:e.getRoute(),method:e.getMethod(),data:e.getDataForm()}).then((function(){e.$store.dispatch("showNotification",{statut:!0,text:e.$vuetify.lang.t(e.messages.success)}),"PUT"===t.getMethod()?e.$emit("getItems"):(e.$emit("getItems"),e.resetDataForm())})).catch((function(a){var i="$vuetify.error_server";if(a.response&&400===a.response.status){var s=a.response.data;e.setFormErrors(s),t.$forceUpdate();var l=Object.keys(s)[0];l&&Array.isArray(s[l])&&(i=s[l][0])}e.$store.dispatch("showNotification",{statut:!0,text:i,color:"#B71C1C"})})).finally((function(){e.loading=!1})))},save_print_bills:function(){var t=this;this.$store.dispatch("showNotification",{statut:!1});var e=this;e.$v.$touch(),e.$v.$invalid||(this.loading=!0,this.$store.dispatch("request",{url:e.getRoute()+"?print=1",method:e.getMethod(),data:e.getDataForm(),responseType:"blob"}).then((function(a){e.$store.dispatch("showNotification",{statut:!0,text:e.$vuetify.lang.t(e.messages.success)});var i=new Blob([a.data],{type:a.data.type}),s=URL.createObjectURL(i);t.editPdf(s),"PUT"===t.getMethod()?e.$emit("getItems"):(e.$emit("getItems"),e.resetDataForm())})).catch((function(a){var i="$vuetify.error_server";if(a.response&&400===a.response.status){var s=a.response.data;e.setFormErrors(s),t.$forceUpdate();var l=Object.keys(s)[0];l&&Array.isArray(s[l])&&(i=s[l][0])}e.$store.dispatch("showNotification",{statut:!0,text:i,color:"#B71C1C"})})).finally((function(){e.loading=!1})))},print_bills:function(){var t=this;this.$store.dispatch("showNotification",{statut:!1});var e=this;e.$v.$touch(),e.$v.$invalid||(this.loading=!0,this.$store.dispatch("request",{url:e.getRoute()+"?just_print=1",method:e.getMethod(),data:e.getDataForm(),responseType:"blob"}).then((function(a){var i=new Blob([a.data],{type:a.data.type}),s=URL.createObjectURL(i);t.editPdf(s),"PUT"===t.getMethod()?e.$emit("getItems"):(e.$emit("getItems"),e.resetDataForm())})).catch((function(a){var i="$vuetify.error_server";if(a.response&&400===a.response.status){var s=a.response.data;e.setFormErrors(s),t.$forceUpdate();var l=Object.keys(s)[0];l&&Array.isArray(s[l])&&(i=s[l][0])}e.$store.dispatch("showNotification",{statut:!0,text:i,color:"#B71C1C"})})).finally((function(){e.loading=!1})))},getItemsDetails:function(){var t=this,e=this,a=this.pagination,i=a.page,s=a.itemsPerPage,l={page:i,size:s};return this._.isEmpty(this._search)||(this._search=this._.merge(l,this._search)),new Promise((function(a,i){t.loadingDetails.list=!0,e.$store.dispatch("request",{url:e.urlItemsDetails_bills+"?bills="+t.form.bills,params:l}).then((function(t){var i=t.data;e.items=i.content,e.meta={totalElements:i.totalElements},a(t)})).catch((function(a){var s=t.$vuetify.lang.t("$vuetify.error_occured");if(a.response)if(400===a.response.status){var l=a.response.data;e.setFormErrors(l);var o=Object.keys(l)[0];o&&Array.isArray(l[o])&&(s=l[o][0])}else 403===a.response.status?s=e.$vuetify.lang.t("$vuetify.error_denied"):500===a.response.status&&(s=e.$vuetify.lang.t("$vuetify.error_server"));e.$store.dispatch("showNotification",{status:!0,text:s}),i(a)})).then((function(){e.loadingDetails.list=!1,a()}))}))},editDetails:function(t){t.details_stock?(this.reset_detail_stock(),console.log(t),this.formData.details_stock=t.details_stock,this.itemsProduct.push(t.details_stock),this.formData.quantity_served=t.quantity_served,this.formData.quantity_ordered=t.quantity_ordered,this.formData.delivery=t.delivery):t.medical_act?(this.reset_medical_act(),this.formData.medical_act=t.medical_act,this.formData.quantity_served=t.quantity_served,this.formData.quantity_ordered=t.quantity_ordered,this.formData.delivery=t.delivery):t.laboratory?(this.reset_laboratory(),this.formData.laboratory=t.laboratory,this.formData.quantity_served=t.quantity_served,this.formData.quantity_ordered=t.quantity_ordered,this.formData.delivery=t.delivery):t.radiography?(this.reset_radiography(),this.formData.radiography=t.radiography,this.formData.quantity_served=t.quantity_served,this.formData.quantity_ordered=t.quantity_ordered,this.formData.delivery=t.delivery):t.surgery?(this.reset_surgery(),this.formData.surgery=t.surgery,this.formData.quantity_served=t.quantity_served,this.formData.quantity_ordered=t.quantity_ordered,this.formData.delivery=t.delivery):t.checkup?(this.reset_checkup(),this.formData.checkup=t.checkup,this.formData.quantity_served=t.quantity_served,this.formData.quantity_ordered=t.quantity_ordered,this.formData.delivery=t.delivery):t.diagnostic?(this.reset_diagnostic(),this.formData.diagnostic=t.diagnostic,this.formData.quantity_served=t.quantity_served,this.formData.quantity_ordered=t.quantity_ordered,this.formData.delivery=t.delivery):t.room?(this.reset_room(),this.formData.room=t.room,this.formData.quantity_served=t.quantity_served,this.formData.quantity_ordered=t.quantity_ordered,this.formData.delivery=t.delivery):t.exam_investigation&&(this.reset_exam_investigation(),this.formData.exam_investigation=t.exam_investigation,this.formData.quantity_served=t.quantity_served,this.formData.quantity_ordered=t.quantity_ordered,this.formData.delivery=t.delivery)},resetAll:function(){"pharmacy"===this.form.bill_type?this.reset_detail_stock():"medical_act"===this.form.bill_type?this.reset_medical_act():"laboratory"===this.form.bill_type?this.reset_laboratory():"radiography"===this.form.bill_type?this.reset_radiography():"surgery"===this.form.bill_type?this.reset_surgery():"checkup"===this.form.bill_type?this.reset_checkup():"diagnostic"===this.form.bill_type?this.reset_diagnostic():"hospitalization"===this.form.bill_type?this.reset_room():"exam_investigation"===this.form.bill_type&&this.reset_exam_investigation()},resetDataFormProduct:function(){this.formData.quantity_served=0,this.formData.details_stock=null,this.formData.medical_act=null,this.formData.laboratory=null,this.formData.surgery=null,this.formData.checkup=null,this.formData.quantity_served=null,this.formData.quantity_ordered=null,this.formData.delivery=null,this.formData.radiography=null,this.formData.exam_investigation=null,this.formData.diagnostic=null,this.formData.unit_price=null},saveDetails:function(){var t=this;this.$store.dispatch("showNotification",{statut:!1});var e=this;e.$v.$touch(),e.$v.$invalid||(this.loading=!0,this.$store.dispatch("request",{url:e.getRouteDetails(),method:e.getMethodDetails(),data:e.getDataFormdetails()}).then((function(){e.$store.dispatch("showNotification",{statut:!0,text:e.$vuetify.lang.t("$vuetify.supplies.new.successDetails")}),t.getItemsDetails(),e.resetDataFormProduct()})).catch((function(a){var i;if(a.response)if(400===a.response.status){i="$vuetify.error_occured";var s=a.response.data;e.setFormErrors(s),t.$forceUpdate()}else i="$vuetify.error_server";e.$store.dispatch("showNotification",{statut:!0,text:e.$vuetify.lang.t(i),color:"#B71C1C"})})).then((function(){e.loading=!1})))},saveDetailsOrdinance:function(){var t=this;this.$store.dispatch("showNotification",{statut:!1});var e=this;e.$v.$touch(),e.$v.$invalid||(this.loading=!0,this.$store.dispatch("request",{url:e.getRouteDetails(),method:e.getMethod(),data:e.getDataFormdetailsOrdinance()}).then((function(){e.$store.dispatch("showNotification",{statut:!0,text:e.$vuetify.lang.t("$vuetify.supplies.new.successDetails")}),t.getItemsDetails(),e.resetDataFormProduct()})).catch((function(a){var i;if(a.response)if(400===a.response.status){i="$vuetify.error_occured";var s=a.response.data;e.setFormErrors(s),t.$forceUpdate()}else i="$vuetify.error_server";e.$store.dispatch("showNotification",{statut:!0,text:e.$vuetify.lang.t(i),color:"#B71C1C"})})).then((function(){e.loading=!1})))}},computed:{get_assured:function(){if(void 0===this.formData.type_consultation)return 0;var t,e="";return e=null===this.formData.type_consultation?"":null===(t=this.formData.type_consultation)||void 0===t?void 0:t.is_assured,e},get_patient_code:function(){var t,e="";return e=null===this.form.patient?"":null===(t=this.form.patient)||void 0===t?void 0:t.code,e},get_patient_shape:function(){var t,e="";return e=null===this.form.patient?"":null===(t=this.form.patient)||void 0===t?void 0:t.type_patient.title,e},get_price_patient:function(){var t=this,e=0;if(null!==this.formData.laboratory||null!==this.formData.details_stock||null!==this.formData.medical_act||null!==this.formData.radiography||null!==this.formData.room||null!==this.formData.type_consultation||null!==this.formData.surgery||null!==this.formData.diagnostic||null!==this.formData.exam_investigation||null!==this.formData.checkup)if("hospitalization"===this.form.bill_type){var a,i;console.log(null===(a=this.formData)||void 0===a?void 0:a.room["prices"]);var s=null!==this.formData.number_bed?null===(i=this.formData)||void 0===i?void 0:i.room["prices"].find((function(e){if(e.type_patient===t.get_patient_shape&&e.type_accommodation===t.form.type_accommodation&&e.other_code===t.get_product_code&&e.number_bed===t.formData.number_bed)return!0})):0;e=s?s["price"]:0}else if("pharmacy"===this.form.bill_type){var l;e=null===this.formData.details_stock?"":null===(l=this.formData.details_stock)||void 0===l?void 0:l.product.public_price}else if("consultation"===this.form.bill_type){var o=this.formData["type_consultation"]?this.formData["type_consultation"]["prices"].find((function(e){return e.type_patient===t.get_patient_shape}),(function(e){return e.other_code===t.get_product_code})):null;e=void 0==o?0:o["price"]}else{var r=this.formData[this.form.bill_type]?this.formData[this.form.bill_type]["prices"].find((function(e){return e.type_patient===t.get_patient_shape}),(function(e){return e.other_code===t.get_product_code})):null;e=void 0==r?0:r["price"]}return e},get_product_code:function(){var t="";if("pharmacy"===this.form.bill_type){var e,a,i="";i=null===this.formData.details_stock||void 0===this.formData.details_stock?"":null===(e=this.formData.details_stock)||void 0===e?void 0:e.product.code;var s="";console.log(this.formData.details_stock),s=null===this.formData.details_stock||void 0===this.formData.details_stock?"":null===(a=this.formData.details_stock)||void 0===a?void 0:a.qte_stock,t=i+"  /  "+s}else if("medical_act"===this.form.bill_type){var l;t=null===this.formData.medical_act?"":null===(l=this.formData.medical_act)||void 0===l?void 0:l.code}else if("laboratory"===this.form.bill_type){var o;t=null===this.formData.laboratory?"":null===(o=this.formData.laboratory)||void 0===o?void 0:o.code}else if("consultation"===this.form.bill_type){var r;t=null===this.formData.type_consultation?"":null===(r=this.formData.type_consultation)||void 0===r?void 0:r.code}else if("radiography"===this.form.bill_type){var n;t=null===this.formData.radiography?"":null===(n=this.formData.radiography)||void 0===n?void 0:n.code}else if("hospitalization"===this.form.bill_type){var u;t=null===this.formData.room?"":null===(u=this.formData.room)||void 0===u?void 0:u.code}else if("surgery"===this.form.bill_type){var c;t=null===this.formData.surgery?"":null===(c=this.formData.surgery)||void 0===c?void 0:c.code}else if("diagnostic"===this.form.bill_type){var d;t=null===this.formData.diagnostic?"":null===(d=this.formData.diagnostic)||void 0===d?void 0:d.code}else if("exam_investigation"===this.form.bill_type){var m;t=null===this.formData.exam_investigation?"":null===(m=this.formData.exam_investigation)||void 0===m?void 0:m.code}else{var f;null!==this.formData.checkup&&(null===(f=this.formData.checkup)||void 0===f||f.code)}return t},get_doctor:function(){var t,e="";return e=null===this.formData.ordinance||void 0===this.formData.ordinance?"":null===(t=this.formData.ordinance)||void 0===t?void 0:t.consultation.doctor,e},get_patient_solde:function(){var t,e="";return e=null===this.form.patient?"":null===(t=this.form.patient)||void 0===t?void 0:t.solde,e},get_patient_insurance:function(){var t,e,a="";return a=1==(null===(t=this.form.patient)||void 0===t?void 0:t.is_assured)?null===(e=this.form.patient)||void 0===e?void 0:e.insurance.percent:0,a},get_doctor_quote:function(){var t,e="";return e=null===this.form.doctor?"":null===(t=this.form.doctor)||void 0===t?void 0:t.coef,e},get_bills_amount:function(){var t=0;return this.items.forEach((function(e){t+=e.amount_net})),t},get_bills_amount_insurance:function(){var t=0;return this.items.forEach((function(e){t+=e.insurance_patient})),t},get_share_doctor:function(){var t=this.get_price_patient*this.get_doctor_quote/100;return t},get_bills_tva:function(){var t=0;return this.items.forEach((function(e){t+=e.tva})),t},get_bills_ttc:function(){var t=this.get_bills_tva+this.get_bills_amount;return t},get_pu_net:function(){if(void 0===this.formData.delivery||null===this.formData.delivery)return this.formData.unit_price?this.formData.unit_price:this.get_price_patient;var t="";t=this.formData.unit_price?this.formData.unit_price*this.formData.delivery:this.get_price_patient*this.formData.delivery;var e="";e=t/100;var a="";return a=this.formData.unit_price?this.formData.unit_price-e:this.get_price_patient-e,a},get_amount_gross:function(){if("pharmacy"===this.form.bill_type){var t,e="";e=null===this.formData.details_stock||void 0===this.formData.details_stock?"":null===(t=this.formData.details_stock)||void 0===t?void 0:t.qte_stock,this.formData.quantity_served>e&&this.get_qte_stock()}var a="";return a=this.formData.quantity_served*this.formData.unit_price?this.formData.unit_price:this.formData.quantity_served*this.get_price_patient,a},get_bills_amount_net:function(){var t=0,e=0;return e=0==this.get_patient_insurance?this.get_bills_amount:this.get_insurance_patient_total,t=parseInt(e)+parseInt(this.simple_tva?this.simple_tva:0),t},get_tva:function(){var t="";return t=this.formData.unit_price?parseInt(this.formData.unit_price*this.tva_collected)/100:parseInt(this.tva_collected*this.get_price_patient)/100,this.simple_tva=t,t},get_insurance:function(){var t="";return t=Math.round(this.get_patient_insurance*this.get_amount_net)/100,t},get_insurance_total:function(){var t="";this.items.forEach((function(e){0===e.insurance_patient&&(t+=e.amount_net)}));var e="";this.items.forEach((function(t){0!==t.insurance_patient&&(e+=t.insurance)}));var a=Math.round(this.get_patient_insurance*parseInt(t))/100,i="";return i=parseInt(a)+parseInt(e),i},get_insurance_patient:function(){var t="";return t=parseInt(this.get_amount_net)-parseInt(this.get_insurance),t},get_insurance_patient_total:function(){var t="";return t=this.get_bills_amount-this.get_insurance_total,t},get_amount_net:function(){if(void 0===this.formData.quantity_served)return this.get_amount_gross;var t="";return t=this.get_pu_net*this.formData.quantity_served,t},get_bills_amount_paid:function(){return this.form.amount_received>this.get_bills_amount_net?this.get_bills_amount_net:this.form.amount_received},get_balance:function(){if(void 0===this.form.amount_received)return this.get_bills_amount_net;var t="";return t=this.get_bills_amount_net-this.form.amount_received,t<0&&(t=0),t},get_refund:function(){if(void 0===this.form.amount_received)return this.get_bills_amount_net;var t="";return t=this.form.amount_received-this.get_bills_amount_net,t<0&&(t=0),t},nameErrors:function(){var t=[];return this.$v.form.name.$dirty?(!this.$v.form.name.required&&t.push(this.$vuetify.lang.t("$vuetify.supplies.cols.name.required")),t):t},reference_noErrors:function(){var t=[];return this.$v.form.reference_no.$dirty?(!this.$v.form.reference_no.required&&t.push(this.$vuetify.lang.t("$vuetify.supplies.cols.reference_no.required")),t):t},total_amountErrors:function(){var t=[];return this.$v.form.total_amount.$dirty?(!this.$v.form.total_amount.required&&t.push(this.$vuetify.lang.t("$vuetify.supplies.cols.total_amount.required")),t):t}},mounted:function(){this.getOpenCash(),this.getHospital()},components:{DeleteItem:c["a"],FormPdf:d["a"]}},f=m,h=a("2877"),p=a("6544"),_=a.n(p),v=a("c6a6"),y=a("8336"),g=a("b0af"),b=a("99d9"),D=a("62ad"),$=a("8fea"),x=a("169a"),k=a("ce7e"),w=a("4bd4"),C=a("ce87"),I=a("132d"),q=a("0fd9"),P=a("b974"),S=a("2fa4"),F=a("8654"),L=a("71d9"),O=a("3a2f"),E=Object(h["a"])(f,o,r,!1,null,null,null),R=E.exports;_()(E,{VAutocomplete:v["a"],VBtn:y["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["b"],VCol:D["a"],VDataTable:$["a"],VDialog:x["a"],VDivider:k["a"],VForm:w["a"],VHover:C["a"],VIcon:I["a"],VRow:q["a"],VSelect:P["a"],VSpacer:S["a"],VTextField:F["a"],VToolbar:L["a"],VTooltip:O["a"]});var A=a("21a6"),B={data:function(){return{menu4:!1,menu3:!1,maxDate:(new Date).toISOString().substr(0,10),minDate:(new Date).toISOString().substr(0,10),headers:[],events:[],items:[],meta:{},supply:!1,sum_ca:null,sum_insurance:null,sum_patient:null,sum_paid:null,dialogFormPdf:{show:!1,shows:{showFilter:!1,showInfo:!1}},sum_current_search:null,itemPerPage:10,itemPerPageOptions:[5,10,30],urlItemsGet:"",urlItemsDetails:"",urlDeleteItems:"",deleteItems:"/bills",sortDesc:!0,dialogFormExport:{show:!1,shows:{showFilter:!1,showInfo:!1}},isLoadingCashier:!1,searchCashier:null,itemsCashier:[],urlCashier:"users",isLoadingCash:!1,searchCash:null,itemsCash:[],urlCash:"cashs/allMyCashs",loading:{list:!1,refresh:!1,filter:!1},menu2:!1,isClick:!1,search:null,menu:!1,loadingBtn:!1,urlItems:"bills/bills_analysis",urlItemsCompta:"cashs/bills_compta",sortBy:["id"],pagination:{},dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogDelete:{show:!1},json_fields:{Code:"code",Type:"bill_type",Date:"createdAt",Patient:"patient.name",PatientType:"patient_type",Caissier:"cash.user.username",SessionCaisse:"cash.code",Montant:"bills_amount",Avance:"amount_paid",Solde:"balance"},dialogDetail:{show:!1},dialogEnt:{show:!1},filter:{start_date:null,end_date:null,patient:null,doctor:null},form:{start_date:null,end_date:null,product:null},messages:{title:"",submit:"",success:""},messagesDelete:{success:"$vuetify.bills.delete.success"}}},created:function(){this.setHeaders(),this.getBills_analysis()},watch:{pagination:{handler:function(){this.getBills_analysis()},deep:!0},searchCashier:function(t){var e=this;if(null!==t){var a={name:t,role:"CAISSIER"},i=this;this.isLoadingCashier=!0,this.$store.dispatch("request",{url:i.urlCashier,params:a}).then((function(t){i.itemsCashier=t.data.content})).finally((function(){return e.isLoadingCashier=!1}))}},searchCash:function(t){var e=this;if(null!==t){var a={code:t,user:this.filter.cashier["id"]},i=this;this.isLoadingCash=!0,this.$store.dispatch("request",{url:i.urlCash,params:a}).then((function(t){i.itemsCash=t.data.content})).finally((function(){return e.isLoadingCash=!1}))}}},methods:{bills:function(t){this.performFilter(t)},editPdf:function(t){this.dialogFormPdf.show=!0,this.$refs.pdfForm.setForm(t)},exportPrint:function(){var t=this,e=this,a={};null!==e.filter.cashier&&(a["cashier"]=e.filter.cashier),null!==e.filter.start_date&&void 0!==e.filter.start_date&&(a["start_date"]=e.filter.start_date),null!==e.filter.end_date&&(a["end_date"]=e.filter.end_date),null!==e.filter.cash&&(a["cash"]=e.filter.cash),this._.isEmpty(this._search)||(this._search=this._.merge(a,this._search)),e.$store.dispatch("request",{url:e.urlItems+"/print",params:a,responseType:"blob"}).then((function(e){var a=new Blob([e.data],{type:e.data.type}),i=URL.createObjectURL(a);t.editPdf(i)})),this.$store.dispatch("showNotification",{statut:!1})},exportPDF:function(){var t=this,e={};null!==t.filter.patient&&(e["patient"]=t.filter.patient),null!==t.filter.start_date&&void 0!==t.filter.start_date&&(e["start_date"]=t.filter.start_date),null!==t.filter.end_date&&(e["end_date"]=t.filter.end_date),null!==t.filter.doctor&&(e["doctor"]=t.filter.doctor),this._.isEmpty(this._search)||(this._search=this._.merge(e,this._search)),t.$store.dispatch("request",{url:t.urlItems+"/print",params:e,responseType:"blob"}).then((function(t){var e="Listes des factures",a=new Blob([t.data],{type:t.data.type});A.saveAs(a,e)})),this.$store.dispatch("showNotification",{statut:!1})},performExport:function(){var t=this,e=this,a={};null!==e.filter.cashier&&(a["cashier"]=e.filter.cashier),null!==e.filter.start_date&&void 0!==e.filter.start_date&&(a["start_date"]=e.filter.start_date),null!==e.filter.end_date&&(a["end_date"]=e.filter.end_date),null!==e.filter.cash&&(a["cash"]=e.filter.cash),this._.isEmpty(this._search)||(this._search=this._.merge(a,this._search)),e.$store.dispatch("request",{url:e.urlItems+"/export",params:a,responseType:"blob"}).then((function(e){var a="Liste des factures",i=new Blob([e.data],{type:e.data.type});A.saveAs(i,a),t.dialogFormExport.shows.showFilter=!1}))},getItemsExport:function(){var t=this,e=this,a={};this._.isEmpty(this._search)||(this._search=this._.merge(a,this._search)),e.$store.dispatch("request",{url:e.urlItems+"/export",params:a,responseType:"blob"}).then((function(e){var a="Liste des factures",i=new Blob([e.data],{type:e.data.type});A.saveAs(i,a),t.dialogFormExport.shows.showFilter=!1}))},deleteItem:function(t){this.urlDeleteItems=this.deleteItems+"/"+t.id,this.dialogDelete.show=!0},enabled:function(t){this.dialogForm.shows.showInfo=!0,this.$refs.accountedBills.setForm(t)},bills_analysis:function(){var t=this;this.getBills_analysis(),this.loading.refresh=!0,this.getBills_analysis().then((function(){})).catch((function(){})).then((function(){t.loading.refresh=!1}))},bills_compta_analysis:function(){var t=this;this.getBills_compta(),this.loading.refresh=!0,this.getBills_compta().then((function(){})).catch((function(){})).then((function(){t.loading.refresh=!1}))},getBills_analysis:function(){var t=this,e=this,a=this.pagination,i=a.page,s=a.itemsPerPage,l={page:i,size:s};return this._.isEmpty(this._search)||(this._search=this._.merge(l,this._search)),new Promise((function(a,i){t.loading.list=!0,e.$store.dispatch("request",{url:e.urlItems+"?insurance="+t.$route.params.id,params:l}).then((function(t){var i=t.data;e.items=i.content,e.sum_ca=i.sum_ca,e.sum_patient=i.sum_patient,e.sum_insurance=i.sum_insurance,e.sum_paid=i.sum_paid,e.sum_current_search=i.sum_current_search,e.meta={totalElements:i.totalElements},a(t)})).catch((function(a){var s=t.$vuetify.lang.t("$vuetify.error_occured");if(a.response)if(400===a.response.status){var l=a.response.data;e.setFormErrors(l);var o=Object.keys(l)[0];o&&Array.isArray(l[o])&&(s=l[o][0])}else 403===a.response.status?s=e.$vuetify.lang.t("$vuetify.error_denied"):500===a.response.status&&(s=e.$vuetify.lang.t("$vuetify.error_server"));e.$store.dispatch("showNotification",{status:!0,text:s}),i(a)})).then((function(){e.loading.list=!1,a()}))}))},getBills_compta:function(){var t=this,e=this,a=this.pagination,i=a.page,s=a.itemsPerPage,l={page:i,size:s};return this._.isEmpty(this._search)||(this._search=this._.merge(l,this._search)),new Promise((function(a,i){t.loading.list=!0,e.$store.dispatch("request",{url:e.urlItemsCompta+"?start_date="+t.form.start_date+"&end_date="+t.form.end_date,params:l}).then((function(t){var i=t.data;e.items=i.content,e.meta={totalElements:i.totalElements},a(t)})).catch((function(a){var s=t.$vuetify.lang.t("$vuetify.error_occured");if(a.response)if(400===a.response.status){var l=a.response.data;e.setFormErrors(l);var o=Object.keys(l)[0];o&&Array.isArray(l[o])&&(s=l[o][0])}else 403===a.response.status?s=e.$vuetify.lang.t("$vuetify.error_denied"):500===a.response.status&&(s=e.$vuetify.lang.t("$vuetify.error_server"));e.$store.dispatch("showNotification",{status:!0,text:s}),i(a)})).then((function(){e.loading.list=!1,a()}))}))},setHeaders:function(){this.headers=[{text:"$vuetify.bills.cols.bill_N.title",value:"bill_N",align:"start",sortable:!0,width:"15",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.date_bill.title",value:"date_bill",align:"start",sortable:!0,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.patient_name.title",value:"patient_name",align:"start",sortable:!0,width:"30",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.net_payable.title",value:"net_payable",align:"start",sortable:!0,width:"6",class:"grey--text text--darken-3"},{text:"$vuetify.insurance.title",value:"insurance",align:"start",sortable:!0,width:"6",class:"grey--text text--darken-3"},{text:"$vuetify.insurance.title_patient",value:"insurance_patient",align:"start",sortable:!0,width:"6",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.amount_paid.title",value:"amount_paid",align:"start",sortable:!0,width:"6",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.balance.title",value:"balance",align:"start",sortable:!0,width:"6",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.actions.title",value:null,align:"start",sortable:!0,width:"100"}]},create:function(){this.dialogForm.show=!0,this.messages={title:"$vuetify.bills.new.title",submit:"$vuetify.bills.new.submit",success:"$vuetify.bills.new.success"},this.form={id:null,patient:null,doctor:null,patient_name:null,patient_balance:null,net_payable:null,patient_type:null,pub:null,pun:null,amount_gross:null,quantity_ordered:null,amount_net:null,total_amount:null,quantity_served:null,product:null,delivery:null,bills:null,reference_no:null,additional_info:null,bills_amount:null,code:null,cashier:null,bill_type:null,amount_paid:null,bill_shape:null,storage_depots:null}},editBills:function(t){this.dialogForm.show=!0,this.messages={title:"$vuetify.bills.update.title",submit:"$vuetify.bills.update.submit",success:"$vuetify.bills.update.success"},this.$refs.billsForm.setForm(t)},performFilter:function(t){var e=a("c1df"),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)};this.minDate=this.filter.start_date,this.maxDate=e(i(new Date(this.filter.start_date))).format("YYYY-MM-DD");var s=this;s.loading.list=!0;var l={};"unpaid"===t?l["balance"]=0:"paid"===t&&"balance"in l&&delete l["balance"],null!==s.filter.start_date&&void 0!==s.filter.start_date&&(l["start_date"]=s.filter.start_date),null!==s.filter.end_date&&(l["end_date"]=s.filter.end_date),null!==s.filter.cash&&(l["cash_id"]=s.filter.cash),null!==s.filter.cashier&&(l["cashier_name"]=s.filter.cashier["username"]),s._search=l,s.getBills_analysis()}},computed:{get_permissions:function(){var t="";return t=this._.includes(this.$auth.user().permissions,"change_bills"),t},getMinStartDate:function(){var t,e="";return e=null===(t=new Date(this.form.start_date))||void 0===t?void 0:t.toISOString().substr(0,10),e},get_total_bills_amount:function(){var t=0;return this.items.forEach((function(e){t+=e.net_payable})),t}},components:{FormEnable:l["a"],FormBills:R,FormPdf:d["a"]}},T=B,M=a("cc20"),V=a("2e4b"),N=a("e449"),j=Object(h["a"])(T,i,s,!1,null,"6090aa5b",null);e["default"]=j.exports;_()(j,{VAutocomplete:v["a"],VBtn:y["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VChip:M["a"],VCol:D["a"],VDataTable:$["a"],VDatePicker:V["a"],VForm:w["a"],VHover:C["a"],VIcon:I["a"],VMenu:N["a"],VRow:q["a"],VSpacer:S["a"],VTextField:F["a"],VTooltip:O["a"]})},f96f:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"300"},model:{value:t.dialog.shows.showInfo,callback:function(e){t.$set(t.dialog.shows,"showInfo",e)},expression:"dialog.shows.showInfo"}},[a("v-card",[a("v-card-text",[a("div",{staticClass:"body-1 font-weight-bold"},[a("br"),a("h3",[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.bills.cols.is_accounted.title1"))+" ")])])]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:function(e){t.dialog.shows.showInfo=!1}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.close"))+" ")]),a("v-btn",{attrs:{color:"#0984e3",loading:t.loading,dark:"",type:"submit"},on:{click:t.saveAcounted}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.update"))+" ")])],1)],1)],1)},s=[],l=a("5ed4"),o={mixins:[l["a"]],name:"Infos",props:{dialog:{type:Object,default:function(){return{shows:{showInfo:!1}}}},form:{type:Object,default:function(){return{id:null,code:null}}}},data:function(){return{loading:!1,urlItems:"bills"}},methods:{setForm:function(t){this.form.id=t.id,this.form.bills=t.id,this.form.code=t.code,this.form.storage_depots=t.storage_depots["id"],this.form.patient=t.patient["id"],this.form.doctor=t.doctor["id"],this.form.patient_type=t.patient_type,this.form.is_accounted=!t.is_accounted,this.form.details_stock=t.details_stock,this.form.cashier=this.$auth.user().id,this.form.bills_date=t.bills_date,this.form.payment_method=t.payment_method,this.form.bill_type=t.bill_type,this.form.advances=t.advances,this.form.bill_shape=t.bill_shape,this.form.additional_info=t.additional_info}}},r=o,n=a("2877"),u=a("6544"),c=a.n(u),d=a("8336"),m=a("b0af"),f=a("99d9"),h=a("169a"),p=a("ce7e"),_=a("2fa4"),v=Object(n["a"])(r,i,s,!1,null,null,null);e["a"]=v.exports;c()(v,{VBtn:d["a"],VCard:m["a"],VCardActions:f["a"],VCardText:f["b"],VDialog:h["a"],VDivider:p["a"],VSpacer:_["a"]})}}]);
//# sourceMappingURL=chunk-a2ef2054.1799e231.js.map