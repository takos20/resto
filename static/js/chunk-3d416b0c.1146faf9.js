(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d416b0c"],{"48b6":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{"max-width":"300"},model:{value:t.dialog.shows.showInfo,callback:function(e){t.$set(t.dialog.shows,"showInfo",e)},expression:"dialog.shows.showInfo"}},[i("v-card",[i("v-card-text",[i("div",{staticClass:"body-1 font-weight-bold"},[i("br"),i("h3",[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.title))+" ")])])]),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{on:{click:function(e){t.dialog.shows.showInfo=!1}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.close"))+" ")]),i("v-btn",{attrs:{color:"#0984e3",loading:t.loading,dark:"",type:"submit"},on:{click:t.send}},[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.submit))+" ")])],1)],1)],1)},r=[],a=(i("b0c0"),i("5ed4")),n={mixins:[a["a"]],name:"Infos",props:{dialog:{type:Object,default:function(){return{shows:{showInfo:!1}}}},form:{type:Object,default:function(){return{id:null,code:null,medical_areas:null,name:null,billable:null,is_active:null}}}},data:function(){return{loading:!1,urlItems:"categories"}},methods:{setForm:function(t){this.form.id=t.id,this.form.code=t.code,this.form.billable=t.billable,this.form.name=t.name,this.form.is_active=!t.is_active,this.form.medical_areas=t.medical_areas["id"]},getRoute:function(){return this.form.id?this.urlItems+"/"+this.form.id:this.urlItems},send:function(){this.$store.dispatch("setNotification",{status:!1});var t=this;this.loading=!0,this.$store.dispatch("request",{url:t.getRoute(),method:"PATCH",data:t.getDataForm()}).then((function(){t.$store.dispatch("setNotification",{status:!0,message:t.$vuetify.lang.t(t.messages.success)}),t.$emit("getItems")})).catch((function(e){console.log("error",e);var i="$vuetify.error_occured";t.$store.dispatch("setNotification",{status:!0,message:t.$vuetify.lang.t(i)})})).then((function(){t.loading=!1}))}}},o=n,l=i("2877"),u=i("6544"),c=i.n(u),d=i("8336"),m=i("b0af"),h=i("99d9"),f=i("169a"),p=i("ce7e"),g=i("2fa4"),v=Object(l["a"])(o,s,r,!1,null,null,null);e["a"]=v.exports;c()(v,{VBtn:d["a"],VCard:m["a"],VCardActions:h["a"],VCardText:h["b"],VDialog:f["a"],VDivider:p["a"],VSpacer:g["a"]})},"6eda":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{persistent:"","max-width":"870px"},model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[i("v-card",[i("v-card-title",[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.title))+" ")])]),i("v-form",{on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[i("v-card",[i("v-card-text",[i("v-container",[i("v-row",{attrs:{wrap:""}},[i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"6"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.meeting.cols.title.title"),"prepend-inner-icon":"mdi-account-multiple mdi-dark mdi-18px",outlined:"",dense:"",readonly:""},scopedSlots:t._u([{key:"label",fn:function(){return[i("span",{staticClass:"red--text"},[i("strong",[t._v("* ")])]),t._v(t._s(t.$vuetify.lang.t("$vuetify.meeting.cols.title.title"))+" ")]},proxy:!0}]),model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"12"}},[i("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsMembers,loading:t.isLoadingMembers,"search-input":t.searchMembers,color:"primary","error-messages":t.membersErrors,label:t.$vuetify.lang.t("$vuetify.meeting.cols.members.title"),"prepend-inner-icon":"mdi-format-list-bulleted-type mdi-dark",outlined:"","show-select":"","item-text":"username","item-value":"id",clearable:"",multiple:""},on:{"update:searchInput":function(e){t.searchMembers=e},"update:search-input":function(e){t.searchMembers=e},blur:function(e){return t.$v.form.members.$touch()},input:function(e){return t.$v.form.members.$touch()}},scopedSlots:t._u([{key:"label",fn:function(){return[i("span",{staticClass:"red--text"},[i("strong",[t._v("* ")])]),t._v(t._s(t.$vuetify.lang.t("$vuetify.meeting.cols.members.title"))+" ")]},proxy:!0}]),model:{value:t.form.members,callback:function(e){t.$set(t.form,"members",e)},expression:"form.members"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"12"}},[i("v-sheet",{attrs:{outlined:"",color:"#BDBDBD",rounded:""}},[i("v-card",{attrs:{outlined:"",elevation:"0"}},[i("v-card-text",[i("span",{staticClass:"text-h6 text-center body-2 black--text text--darken-1"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.meeting.cols.external_guests.title"))+" ")]),i("div",{staticClass:"d-flex justify-space-between"},[i("span",{staticClass:"font-weight-medium text-subtitle-1"}),i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[i("v-icon",t._g({on:{click:function(e){return t.addColumnGuests()}}},s),[t._v(" mdi-plus-circle-outline ")])]}}])},[i("span",[t._v(t._s(t.$vuetify.lang.t("$vuetify.btn.add")))])])],1),i("div",{staticClass:"d-flex wrap align-center mt-8",staticStyle:{height:"40px"}},[i("v-container",[i("v-row",[i("v-text-field",{staticClass:"font-weight-bold ml-2 mr-1",staticStyle:{width:"100px"},attrs:{outlined:"",placeholder:t.$vuetify.lang.t("$vuetify.meeting.cols.external_guests.name"),dense:"",readonly:""}}),i("v-text-field",{staticClass:"font-weight-bold ml-2 mr-1",staticStyle:{width:"100px"},attrs:{readonly:"",outlined:"",dense:"",placeholder:t.$vuetify.lang.t("$vuetify.meeting.cols.external_guests.phone")}}),i("v-text-field",{staticClass:"font-weight-bold ml-2 mr-1",staticStyle:{width:"100px"},attrs:{readonly:"",outlined:"",dense:"",placeholder:t.$vuetify.lang.t("$vuetify.meeting.cols.external_guests.email")}}),i("v-text-field",{staticClass:"font-weight-bold ml-2 mr-1",staticStyle:{width:"100px"},attrs:{readonly:"",outlined:"",dense:"",placeholder:t.$vuetify.lang.t("$vuetify.meeting.cols.external_guests.function")}})],1)],1)],1),t._l(t.externalGuests,(function(e,s){return i("div",{key:s},[i("div",{staticClass:"d-flex wrap align-center mt-3",staticStyle:{height:"40px"}},[i("v-text-field",{staticClass:"font-weight-bold ml-2 mr-1",staticStyle:{width:"200px"},attrs:{outlined:"",dense:""},model:{value:e.name,callback:function(i){t.$set(e,"name",i)},expression:"guest.name"}}),i("v-text-field",{staticClass:"font-weight-bold ml-2 mr-1",staticStyle:{width:"200px"},attrs:{outlined:"",dense:"",type:"number",rules:[t.rules.phone.regex]},model:{value:e.phone,callback:function(i){t.$set(e,"phone",i)},expression:"guest.phone"}}),i("v-text-field",{staticClass:"font-weight-bold ml-2 mr-1",staticStyle:{width:"200px"},attrs:{outlined:"",dense:"",rules:[t.rules.email.regex]},model:{value:e.email,callback:function(i){t.$set(e,"email",i)},expression:"guest.email"}}),i("v-text-field",{staticClass:"ml-2 mr-1",staticStyle:{width:"200px"},attrs:{outlined:"",dense:""},model:{value:e.function,callback:function(i){t.$set(e,"function",i)},expression:"guest.function"}}),s>0?i("v-icon",{staticClass:"ml-1 mb-5",staticStyle:{width:"10px"},on:{click:function(e){return t.removeColumnGuests(s)}}},[t._v(" mdi-minus-circle-outline ")]):t._e()],1)])}))],2)],1)],1)],1),i("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"6"}},[i("v-menu",{ref:"menu",attrs:{color:"primary","close-on-content-click":!1,"nudge-right":40,"return-value":t.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.time=e},"update:return-value":function(e){t.time=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[i("v-text-field",t._g(t._b({attrs:{"prepend-inner-icon":"mdi-clock-time-four-outline",outlined:"",label:t.$vuetify.lang.t("$vuetify.meeting.cols.startTime.title"),"error-messages":t.startTimeErrors,dense:""},on:{blur:function(e){return t.$v.form.startTime.$touch()},input:function(e){return t.$v.form.startTime.$touch()}},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}},"v-text-field",r,!1),s))]}}]),model:{value:t.menuTimeStart,callback:function(e){t.menuTimeStart=e},expression:"menuTimeStart"}},[t.menuTimeStart?i("v-time-picker",{attrs:{"full-width":"",color:"primary"},on:{"click:minute":function(e){return t.$refs.menu.save(t.form.startTime)},input:function(e){t.menuTimeStart=!1}},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}}):t._e()],1)],1),i("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"6"}},[i("v-menu",{ref:"menu",attrs:{color:"primary","close-on-content-click":!1,"nudge-right":40,"return-value":t.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.time=e},"update:return-value":function(e){t.time=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[i("v-text-field",t._g(t._b({attrs:{"prepend-inner-icon":"mdi-clock-time-four-outline",outlined:"",label:t.$vuetify.lang.t("$vuetify.meeting.cols.endTime.title"),"error-messages":t.endTimeErrors,dense:""},on:{blur:function(e){return t.$v.form.endTime.$touch()},input:function(e){return t.$v.form.endTime.$touch()}},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}},"v-text-field",r,!1),s))]}}]),model:{value:t.menuTimeEnd,callback:function(e){t.menuTimeEnd=e},expression:"menuTimeEnd"}},[t.menuTimeEnd?i("v-time-picker",{attrs:{"full-width":"",color:"primary"},on:{"click:minute":function(e){return t.$refs.menu.save(t.form.endTime)},input:function(e){t.menuTimeEnd=!1}},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}}):t._e()],1)],1),i("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"6"}},[i("v-menu",{attrs:{color:"primary","close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[i("v-text-field",t._g(t._b({staticClass:"font-weight-bold",attrs:{color:"primary","prepend-inner-icon":"mdi-clock-start mdi-dark mdi-18px",outlined:"",label:t.$vuetify.lang.t("$vuetify.meeting.cols.startDate.title"),"error-messages":t.startDateErrors,dense:"",readonly:""},on:{blur:function(e){return t.$v.form.startDate.$touch()},input:function(e){return t.$v.form.startDate.$touch()}},model:{value:t.form.startDate,callback:function(e){t.$set(t.form,"startDate",e)},expression:"form.startDate"}},"v-text-field",r,!1),s))]}}]),model:{value:t.menuStart,callback:function(e){t.menuStart=e},expression:"menuStart"}},[i("v-date-picker",{attrs:{min:t.maxDateStart,color:"primary"},on:{input:function(e){t.menuStart=!1}},model:{value:t.form.startDate,callback:function(e){t.$set(t.form,"startDate",e)},expression:"form.startDate"}})],1)],1),i("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"6"}},[i("v-menu",{attrs:{color:"primary","close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[i("v-text-field",t._g(t._b({staticClass:"font-weight-bold",attrs:{color:"primary","prepend-inner-icon":"mdi-clock-end mdi-dark mdi-18px",outlined:"",label:t.$vuetify.lang.t("$vuetify.meeting.cols.endDate.title"),"error-messages":t.endDateErrors,dense:"",readonly:""},on:{blur:function(e){return t.$v.form.endDate.$touch()},input:function(e){return t.$v.form.endDate.$touch()}},model:{value:t.form.endDate,callback:function(e){t.$set(t.form,"endDate",e)},expression:"form.endDate"}},"v-text-field",r,!1),s))]}}]),model:{value:t.menuEnd,callback:function(e){t.menuEnd=e},expression:"menuEnd"}},[i("v-date-picker",{attrs:{color:"primary",min:t.maxDateStart},on:{input:function(e){t.menuEnd=!1}},model:{value:t.form.endDate,callback:function(e){t.$set(t.form,"endDate",e)},expression:"form.endDate"}})],1)],1)],1)],1)],1),i("v-divider",{staticClass:"mx-4",staticStyle:{"margin-top":"-25px"}}),i("v-card-actions",[i("v-spacer"),i("v-btn",{on:{click:function(e){return t.closeForm()}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.close"))+" ")]),i("v-btn",{attrs:{color:"primary",loading:t.loading,dark:"",type:"submit"}},[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.submit))+" ")])],1)],1)],1)],1)],1)},r=[],a=(i("4160"),i("fb6a"),i("a434"),i("b64b"),i("d3b7"),i("ac1f"),i("3ca3"),i("1276"),i("159b"),i("ddb0"),i("2b3d"),i("2909")),n=i("b85c"),o=i("5530"),l=i("53ca"),u=i("fb9c"),c=i.n(u),d=i("5ed4"),m=i("b5ae"),h=i("bc3a"),f=i.n(h),p=new c.a,g={mixins:[d["a"]],props:{form:{type:Object,default:function(){return{id:null,startDate:null,startTime:null,endTime:null,title:null,external_guests:null,endDate:null,phone:null,email:null,members:[]}}}},data:function(){return{is_active:!0,files:[],dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},externalGuests:[],optionsExternalGuests:{text:{id:"",name:"",phone:"",email:"",function:""}},rules:{email:{regex:function(t){return/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/.test(t)||"Email must be valid"}},phone:{regex:function(t){return/^((6([5-9][0-9]{7})))$/.test(t)||"Phone must be valid"}}},menuEnd:!1,menuStart:!1,menuTimeStart:!1,menuTimeEnd:!1,maxDateStart:(new Date).toISOString().substr(0,10),isLoadingGuests:!1,searchGuests:null,itemsGuests:[],urlGuests:"users",isLoadingMembers:!1,urlMembers:"users",searchMembers:null,itemsMembers:[],urlItems:"meetings"}},watch:{searchGuests:function(t){var e=this;if(null!==t){var i={name:t},s=this;this.isLoadingGuests=!0,this.$store.dispatch("request",{url:s.urlGuests,params:i}).then((function(t){s.itemsGuests=t.data.content})).finally((function(){return e.isLoadingGuests=!1}))}},searchMembers:function(t){var e=this;if(null!==t){var i=this;this.isLoadingMembers=!0,this.$store.dispatch("request",{url:i.urlMembers}).then((function(t){i.itemsMembers=t.data.content})).finally((function(){return e.isLoadingMembers=!1}))}}},created:function(){},validations:function(){var t={form:{startDate:{required:m["required"]},endDate:{required:m["required"]},startTime:{required:m["required"]},endTime:{required:m["required"]},members:{required:m["required"]}}};return t},methods:{resetDataForm:function(){if(this.form.id=null,this.form.guests=null,this.externalGuests=[],!this.form.id){var t=this;this.$v.form.$reset(),this._.each(this.form,(function(e,i){"object"===Object(l["a"])(t.form[i])?t._.each(t.form[i],(function(e,s){"boolean"===typeof t.form[i][s]?t.form[i][s]=!1:t.form[i][s]=null})):"boolean"===typeof t.form[i]?t.form[i]=!1:t.form[i]=null}))}},closeForm:function(){this.dialog.show=!1,this.resetDataForm()},addColumnGuests:function(){this.externalGuests.push(Object(o["a"])(Object(o["a"])({},this.optionsExternalGuests.text),{},{id:p.rnd()}))},removeColumnGuests:function(t){this.externalGuests.splice(t,1)},remove:function(t){this.files.splice(t,1)},downloadFile:function(){this.downloadWithAxios(this.form.file)},downloadWithAxios:function(t){var e,i=Object(n["a"])(t);try{var s=function(){var t=e.value,i="http://127.0.0.1:8017/media"+t.file,s=t.file.split("/").slice(-1)[0];console.log("urlFile",i),f()({method:"GET",url:i,responseType:"blob"}).then((function(t){var e=window.URL.createObjectURL(new Blob([t.data])),i=document.createElement("a");i.href=e,i.setAttribute("download",s),document.body.appendChild(i),i.click()})).catch((function(){return console.log("error occured")}))};for(i.s();!(e=i.n()).done;)s()}catch(r){i.e(r)}finally{i.f()}},fileAdded:function(){var t;this.previousFiles.length>0&&(t=this.files).push.apply(t,Object(a["a"])(this.previousFiles))},save:function(){var t=this;this.$store.dispatch("showNotification",{statut:!1});var e=this;e.$v.$touch(),e.$v.$invalid||(this.loading=!0,this.$store.dispatch("request",{url:e.getRoute(),method:e.getMethod(),data:e.getDataForm()}).then((function(){e.$store.dispatch("showNotification",{statut:!0,text:e.$vuetify.lang.t(e.messages.success)}),e.$emit("getItems")})).catch((function(i){var s="$vuetify.error_server";if(i.response&&400===i.response.status){var r=i.response.data;e.setFormErrors(r),t.$forceUpdate();var a=Object.keys(r)[0];a&&Array.isArray(r[a])&&(s=r[a][0])}e.$store.dispatch("showNotification",{statut:!0,text:s,color:"#B71C1C"})})).finally((function(){e.loading=!1})))},getDataForm:function(){var t={startDate:this.form.startDate,startTime:this.form.startTime,title:this.form.title,endDate:this.form.endDate,endTime:this.form.endTime,members:this.form.members};return t},setItemsMembers:function(t){var e=this;e.form.members=[],t.forEach((function(t){e.itemsMembers.push(t),e.form.members.push(t.id)}))},setItemsGuests:function(t){var e=this;e.form.guests=[],t.forEach((function(t){e.itemsGuests.push(t),e.form.guests.push(t.id)}))},setItemsFile:function(t){var e=this;e.files=[],t.forEach((function(t){e.files.push({name:t.file.split("/").slice(-1)[0]})}))},setForm:function(t){this.form.id=t.id,this.form.startDate=t.startDate,this.form.startTime=t.startTime,this.form.endTime=t.endTime,this.form.title=t.title,this.form.endDate=t.endDate,this.externalGuests=t.external_guests,this.form.members=t.members,this.setItemsMembers(t.members)}},computed:{emailErrors:function(){var t=[];return this.$v.form.email.$dirty?(!this.$v.form.email.email&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.email.invalid")),t):t},phoneErrors:function(){var t=[];return this.$v.form.phone.$dirty?(!this.$v.form.phone.phoneR&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.phone.invalid")),t):t},getminDate:function(){var t,e="";return e=null===(t=new Date(this.form.startDate))||void 0===t?void 0:t.toISOString().substr(0,10),e},startDateErrors:function(){var t=[];return this.$v.form.startDate.$dirty?(!this.$v.form.startDate.required&&t.push(this.$vuetify.lang.t("$vuetify.meeting.cols.startDate.required")),t):t},startTimeErrors:function(){var t=[];return this.$v.form.startTime.$dirty?(!this.$v.form.startTime.required&&t.push(this.$vuetify.lang.t("$vuetify.meeting.cols.startTime.required")),t):t},endDateErrors:function(){var t=[];return this.$v.form.endDate.$dirty?(!this.$v.form.endDate.required&&t.push(this.$vuetify.lang.t("$vuetify.meeting.cols.endDate.required")),t):t},endTimeErrors:function(){var t=[];return this.$v.form.endTime.$dirty?(!this.$v.form.endTime.required&&t.push(this.$vuetify.lang.t("$vuetify.meeting.cols.endTime.required")),t):t},membersErrors:function(){var t=[];return this.$v.form.members.$dirty?(!this.$v.form.members.required&&t.push(this.$vuetify.lang.t("$vuetify.meeting.cols.members.required")),t):t},sms_guestsErrors:function(){var t=[];return this.$v.form.sms_guests.$dirty?(!this.$v.form.sms_guests.required&&t.push(this.$vuetify.lang.t("$vuetify.meeting.cols.sms_guests.required")),t):t}},components:{}},v=g,_=i("2877"),b=i("6544"),y=i.n(b),$=i("c6a6"),x=i("8336"),w=i("b0af"),D=i("99d9"),k=i("62ad"),I=i("a523"),C=i("2e4b"),T=i("169a"),S=i("ce7e"),U=i("4bd4"),E=i("132d"),V=i("e449"),F=i("0fd9"),q=i("8dd9"),M=i("2fa4"),O=i("8654"),j=i("c964"),L=i("3a2f"),B=Object(_["a"])(v,s,r,!1,null,null,null);e["a"]=B.exports;y()(B,{VAutocomplete:$["a"],VBtn:x["a"],VCard:w["a"],VCardActions:D["a"],VCardText:D["b"],VCardTitle:D["c"],VCol:k["a"],VContainer:I["a"],VDatePicker:C["a"],VDialog:T["a"],VDivider:S["a"],VForm:U["a"],VIcon:E["a"],VMenu:V["a"],VRow:F["a"],VSheet:q["a"],VSpacer:M["a"],VTextField:O["a"],VTimePicker:j["a"],VTooltip:L["a"]})},d37e:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{persistent:"","max-width":"870px"},model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[i("v-toolbar",{attrs:{dark:"",color:"#f5f5f5",dense:""}},[i("div",{staticClass:"title",staticStyle:{color:"black"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.meeting.list.is_here"))+" ")]),i("v-spacer"),i("v-spacer"),i("v-btn",{attrs:{icon:"",light:""},on:{click:function(e){return t.forceRefresh()}}},[i("v-icon",[t._v("mdi-close")])],1)],1),i("v-card",[i("div",{staticClass:"mt-1 mx-5"},[i("v-btn",{staticClass:"mr-2 my-2",attrs:{loading:t.loading.refresh,depressed:"",color:"#f1f5fc"},on:{click:function(e){return t.refreshItems()}}},[i("v-icon",{attrs:{left:"",color:"primary"}},[t._v("mdi-refresh")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.refresh"))+" ")],1),i("v-spacer")],1)]),i("v-card",{staticStyle:{"margin-top":"-17px"}},[i("v-data-table",{staticClass:"mt-5",attrs:{"footer-props":{"items-per-page-options":t.itemPerPageOptions},headers:t.headers,items:t.items,"items-per-page":t.itemPerPage,loading:t.loading.list,options:t.pagination,"server-items-length":t.meta.totalElements,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"item-key":"name"},on:{"update:options":function(e){t.pagination=e}},scopedSlots:t._u([{key:"header.guests",fn:function(e){var s=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.phone",fn:function(e){var s=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.email",fn:function(e){var s=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.function",fn:function(e){var s=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.is_present",fn:function(e){var s=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"header.create_date",fn:function(e){var s=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(s.text))+" ")])]}},{key:"body",fn:function(e){var s=e.items;return[i("v-hover",[i("tbody",t._l(s,(function(e){return i("tr",{key:e.id},[i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.name)+" ")]),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.phone)+" ")]),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.email)+" ")]),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.function)+" ")]),i("td",[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(s){var r=s.on;return[e.is_present?[i("v-icon",t._g({staticClass:"pointer",attrs:{color:"#49c5b6",dark:""},on:{click:function(i){return t.enabled(e)}}},r),[t._v(" mdi-check-circle ")])]:[i("v-icon",t._g({staticClass:"pointer",attrs:{color:"red accent-4",dark:""},on:{click:function(i){return t.enabled(e)}}},r),[t._v(" mdi-close-circle ")])]]}}],null,!0)},[e.is_present?i("span",[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.meeting.cols.is_present.absent"))+" ")]):i("span",[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.meeting.cols.is_present.present"))+" ")])])],1),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.$moment(e.meeting.created).format("YYYY-MM-DD HH:mm:ss"))+" ")])])})),0)])]}}])}),i("form-component",{ref:"actionForm",attrs:{dialog:t.dialogForm,form:t.form,messages:t.messages},on:{getItems:t.getItems}}),i("delete-item",{attrs:{dialog:t.dialogDelete,messages:t.messagesDelete,urlItems:t.urlDeleteItems},on:{getItems:t.getItems}}),i("is-present",{ref:"isPresent",attrs:{dialog:t.dialogForm,messages:t.messages},on:{getItems:t.getItems}})],1)],1)},r=[],a=(i("4de4"),i("b64b"),i("d3b7"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{"max-width":"300"},model:{value:t.dialog.shows.showInfo,callback:function(e){t.$set(t.dialog.shows,"showInfo",e)},expression:"dialog.shows.showInfo"}},[i("v-card",[i("v-card-text",[i("div",{staticClass:"body-1 font-weight-bold"},[i("br"),i("h3",[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.title))+" ")])])]),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{on:{click:function(e){t.dialog.shows.showInfo=!1}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.close"))+" ")]),i("v-btn",{attrs:{color:"#0984e3",loading:t.loading,dark:"",type:"submit"},on:{click:t.send}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.yes"))+" ")])],1)],1)],1)}),n=[],o=i("5ed4"),l={mixins:[o["a"]],name:"Infos",props:{dialog:{type:Object,default:function(){return{shows:{showInfo:!1}}}},form:{type:Object,default:function(){return{id:null,is_present:!1}}}},data:function(){return{loading:!1,urlItems:"/meetings/present/is_present"}},methods:{setForm:function(t){this.form.id=t.id,this.form.is_present=!t.is_present},getRoute:function(){return this.form.id?this.urlItems+"/"+this.form.id:this.urlItems},send:function(){this.$store.dispatch("setNotification",{status:!1});var t=this;this.loading=!0,this.$store.dispatch("request",{url:t.urlItems,method:"PATCH",data:t.getDataForm()}).then((function(){t.$store.dispatch("setNotification",{status:!0,message:t.$vuetify.lang.t(t.messages.success)}),t.dialog.shows.showInfo=!1,t.$emit("getItems")})).catch((function(e){console.log("error",e);var i="$vuetify.error_occured";t.$store.dispatch("setNotification",{status:!0,message:t.$vuetify.lang.t(i)})})).then((function(){t.loading=!1}))}}},u=l,c=i("2877"),d=i("6544"),m=i.n(d),h=i("8336"),f=i("b0af"),p=i("99d9"),g=i("169a"),v=i("ce7e"),_=i("2fa4"),b=Object(c["a"])(u,a,n,!1,null,null,null),y=b.exports;m()(b,{VBtn:h["a"],VCard:f["a"],VCardActions:p["a"],VCardText:p["b"],VDialog:g["a"],VDivider:v["a"],VSpacer:_["a"]});var $=i("24a2"),x=i("6eda"),w=i("cd41"),D={mixins:[$["a"],o["a"]],data:function(){return{urlItems:"/guests_meetings",sortBy:["id"],dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogDelete:{show:!1},dialogDetail:{show:!1},dialogEnt:{show:!1},filter:{name:null,billable:null},loading:{list:!1,refresh:!1,filter:!1},messages:{title:"",submit:"",success:""},messagesDelete:{success:"$vuetify.meeting.delete.success"}}},created:function(){this.getItems()},methods:{forceRefresh:function(){this.dialog.show=!1},setForm:function(t){this.form.id=t.id,this.getItems()},getItems:function(){var t=this,e=this,i=this.pagination,s=i.page,r=i.itemsPerPage,a={page:s,size:r};return this._.isEmpty(this._search)||(this._search=this._.merge(a,this._search)),new Promise((function(i,s){t.loading.list=!0,e.$store.dispatch("request",{url:e.urlItems+"?meeting="+t.form.id,params:a}).then((function(t){var s=t.data;e.items=s.content,e.meta={totalElements:s.totalElements},i(t)})).catch((function(i){var r=t.$vuetify.lang.t("$vuetify.error_occured");if(i.response)if(400===i.response.status){var a=i.response.data;e.setFormErrors(a);var n=Object.keys(a)[0];n&&Array.isArray(a[n])&&(r=a[n][0])}else 403===i.response.status?r=e.$vuetify.lang.t("$vuetify.error_denied"):500===i.response.status&&(r=e.$vuetify.lang.t("$vuetify.error_server"));e.$store.dispatch("showNotification",{status:!0,text:r}),s(i)})).then((function(){e.loading.list=!1,i()}))}))},setHeaders:function(){this.headers=[{text:"$vuetify.meeting.cols.guests.title",value:"guests",align:"start",sortable:!1,width:"15",class:"grey--text text--darken-3"},{text:"$vuetify.meeting.cols.external_guests.phone",value:"phone",align:"start",sortable:!1,width:"15",class:"grey--text text--darken-3"},{text:"$vuetify.meeting.cols.external_guests.email",value:"email",align:"start",sortable:!1,width:"15",class:"grey--text text--darken-3"},{text:"$vuetify.meeting.cols.external_guests.function",value:"function",align:"start",sortable:!1,width:"15",class:"grey--text text--darken-3"},{text:"$vuetify.meeting.cols.is_present.title",value:"is_present",align:"start",sortable:!1,width:"15",class:"grey--text text--darken-3"},{text:"$vuetify.meeting.cols.created.title",value:"create_date",align:"start",sortable:!1,width:"105",class:"grey--text text--darken-3"}]},create:function(){this.dialogForm.show=!0,this.messages={title:"$vuetify.meeting.new.title",submit:"$vuetify.meeting.new.submit",success:"$vuetify.meeting.new.success"},this.form={id:null,code:null,name:null,billable:null,is_active:!1}},editmeeting:function(t){this.dialogForm.show=!0,this.messages={title:"$vuetify.meeting.update.title",submit:"$vuetify.meeting.update.submit",success:"$vuetify.meeting.update.success"},this.$refs.actionForm.setForm(t)},enabled:function(t){this.$refs.isPresent.setForm(t),this.dialogForm.shows.showInfo=!0,this.messages={title:"$vuetify.meeting.update.submit",submit:"$vuetify.meeting.update.submit",success:"$vuetify.meeting.update.success"}},performFilter:function(){var t=this;t.loading.list=!0;var e={};null!==t.filter.code&&(e["code"]=t.filter.code),t._search=e,t.getItems().then((function(){})).finally((function(){}))}},components:{FormComponent:x["a"],IsPresent:y,DeleteItem:w["a"]},computed:{}},k=D,I=i("8fea"),C=i("ce87"),T=i("132d"),S=i("71d9"),U=i("3a2f"),E=Object(c["a"])(k,s,r,!1,null,"51159cd8",null);e["a"]=E.exports;m()(E,{VBtn:h["a"],VCard:f["a"],VDataTable:I["a"],VDialog:g["a"],VHover:C["a"],VIcon:T["a"],VSpacer:_["a"],VToolbar:S["a"],VTooltip:U["a"]})},fb9c:function(t,e,i){"use strict";var s=(()=>{var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(e,i,s)=>i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s,o=(t,e)=>{for(var i in e||(e={}))r.call(e,i)&&n(t,i,e[i]);if(s)for(var i of s(e))a.call(e,i)&&n(t,i,e[i]);return t},l=(e,i)=>{for(var s in i)t(e,s,{get:i[s],enumerable:!0})},u=(s,a,n,o)=>{if(a&&"object"===typeof a||"function"===typeof a)for(let l of i(a))r.call(s,l)||l===n||t(s,l,{get:()=>a[l],enumerable:!(o=e(a,l))||o.enumerable});return s},c=e=>u(t({},"__esModule",{value:!0}),e),d=(t,e,i)=>(n(t,"symbol"!==typeof e?e+"":e,i),i),m={};l(m,{DEFAULT_OPTIONS:()=>p,DEFAULT_UUID_LENGTH:()=>f,default:()=>v});var h="5.2.0",f=6,p={dictionary:"alphanum",shuffle:!0,debug:!1,length:f,counter:0},g=class{constructor(t={}){d(this,"counter"),d(this,"debug"),d(this,"dict"),d(this,"version"),d(this,"dictIndex",0),d(this,"dictRange",[]),d(this,"lowerBound",0),d(this,"upperBound",0),d(this,"dictLength",0),d(this,"uuidLength"),d(this,"_digit_first_ascii",48),d(this,"_digit_last_ascii",58),d(this,"_alpha_lower_first_ascii",97),d(this,"_alpha_lower_last_ascii",123),d(this,"_hex_last_ascii",103),d(this,"_alpha_upper_first_ascii",65),d(this,"_alpha_upper_last_ascii",91),d(this,"_number_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii]}),d(this,"_alpha_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),d(this,"_alpha_lower_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),d(this,"_alpha_upper_dict_ranges",{upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),d(this,"_alphanum_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),d(this,"_alphanum_lower_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),d(this,"_alphanum_upper_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),d(this,"_hex_dict_ranges",{decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]}),d(this,"_dict_ranges",{_number_dict_ranges:this._number_dict_ranges,_alpha_dict_ranges:this._alpha_dict_ranges,_alpha_lower_dict_ranges:this._alpha_lower_dict_ranges,_alpha_upper_dict_ranges:this._alpha_upper_dict_ranges,_alphanum_dict_ranges:this._alphanum_dict_ranges,_alphanum_lower_dict_ranges:this._alphanum_lower_dict_ranges,_alphanum_upper_dict_ranges:this._alphanum_upper_dict_ranges,_hex_dict_ranges:this._hex_dict_ranges}),d(this,"log",(...t)=>{const e=[...t];if(e[0]="[short-unique-id] "+t[0],!0===this.debug&&"undefined"!==typeof console&&null!==console)return console.log(...e)}),d(this,"_normalizeDictionary",(t,e)=>{let i;if(t&&Array.isArray(t)&&t.length>1)i=t;else{let e;i=[],this.dictIndex=e=0;const s=`_${t}_dict_ranges`,r=this._dict_ranges[s];Object.keys(r).forEach(t=>{const s=t;for(this.dictRange=r[s],this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1],this.dictIndex=e=this.lowerBound;this.lowerBound<=this.upperBound?e<this.upperBound:e>this.upperBound;this.dictIndex=this.lowerBound<=this.upperBound?e+=1:e-=1)i.push(String.fromCharCode(this.dictIndex))})}if(e){const t=.5;i=i.sort(()=>Math.random()-t)}return i}),d(this,"setDictionary",(t,e)=>{this.dict=this._normalizeDictionary(t,e),this.dictLength=this.dict.length,this.setCounter(0)}),d(this,"seq",()=>this.sequentialUUID()),d(this,"sequentialUUID",()=>{let t,e,i="";t=this.counter;do{e=t%this.dictLength,t=Math.trunc(t/this.dictLength),i+=this.dict[e]}while(0!==t);return this.counter+=1,i}),d(this,"rnd",(t=this.uuidLength||f)=>this.randomUUID(t)),d(this,"randomUUID",(t=this.uuidLength||f)=>{let e,i,s;if(null===t||"undefined"===typeof t||t<1)throw new Error("Invalid UUID Length Provided");for(e="",s=0;s<t;s+=1)i=parseInt((Math.random()*this.dictLength).toFixed(0),10)%this.dictLength,e+=this.dict[i];return e}),d(this,"fmt",(t,e)=>this.formattedUUID(t,e)),d(this,"formattedUUID",(t,e)=>{const i={$r:this.randomUUID,$s:this.sequentialUUID,$t:this.stamp},s=t.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,t=>{const s=t.slice(0,2),r=parseInt(t.slice(2),10);return"$s"===s?i[s]().padStart(r,"0"):"$t"===s&&e?i[s](r,e):i[s](r)});return s}),d(this,"availableUUIDs",(t=this.uuidLength)=>parseFloat(Math.pow([...new Set(this.dict)].length,t).toFixed(0))),d(this,"approxMaxBeforeCollision",(t=this.availableUUIDs(this.uuidLength))=>parseFloat(Math.sqrt(Math.PI/2*t).toFixed(20))),d(this,"collisionProbability",(t=this.availableUUIDs(this.uuidLength),e=this.uuidLength)=>parseFloat((this.approxMaxBeforeCollision(t)/this.availableUUIDs(e)).toFixed(20))),d(this,"uniqueness",(t=this.availableUUIDs(this.uuidLength))=>{const e=parseFloat((1-this.approxMaxBeforeCollision(t)/t).toFixed(20));return e>1?1:e<0?0:e}),d(this,"getVersion",()=>this.version),d(this,"stamp",(t,e)=>{const i=Math.floor(+(e||new Date)/1e3).toString(16);if("number"===typeof t&&0===t)return i;if("number"!==typeof t||t<10)throw new Error(["Param finalLength must be a number greater than or equal to 10,","or 0 if you want the raw hexadecimal timestamp"].join("\n"));const s=t-9,r=Math.round(Math.random()*(s>15?15:s)),a=this.randomUUID(s);return`${a.substring(0,r)}${i}${a.substring(r)}${r.toString(16)}`}),d(this,"parseStamp",(t,e)=>{if(e&&!/t0|t[1-9]\d{1,}/.test(e))throw new Error("Cannot extract date from a formated UUID with no timestamp in the format");const i=e?e.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,t=>{const e={$r:t=>[...Array(t)].map(()=>"r").join(""),$s:t=>[...Array(t)].map(()=>"s").join(""),$t:t=>[...Array(t)].map(()=>"t").join("")},i=t.slice(0,2),s=parseInt(t.slice(2),10);return e[i](s)}).replace(/^(.*?)(t{8,})(.*)$/g,(e,i,s)=>t.substring(i.length,i.length+s.length)):t;if(8===i.length)return new Date(1e3*parseInt(i,16));if(i.length<10)throw new Error("Stamp length invalid");const s=parseInt(i.substring(i.length-1),16);return new Date(1e3*parseInt(i.substring(s,s+8),16))}),d(this,"setCounter",t=>{this.counter=t}),d(this,"validate",(t,e)=>{const i=e?this._normalizeDictionary(e):this.dict;return t.split("").every(t=>i.includes(t))});const e=o(o({},p),t);this.counter=0,this.debug=!1,this.dict=[],this.version=h;const{dictionary:i,shuffle:s,length:r,counter:a}=e;return this.uuidLength=r,this.setDictionary(i,s),this.setCounter(a),this.debug=e.debug,this.log(this.dict),this.log(`Generator instantiated with Dictionary Size ${this.dictLength} and counter set to ${this.counter}`),this.log=this.log.bind(this),this.setDictionary=this.setDictionary.bind(this),this.setCounter=this.setCounter.bind(this),this.seq=this.seq.bind(this),this.sequentialUUID=this.sequentialUUID.bind(this),this.rnd=this.rnd.bind(this),this.randomUUID=this.randomUUID.bind(this),this.fmt=this.fmt.bind(this),this.formattedUUID=this.formattedUUID.bind(this),this.availableUUIDs=this.availableUUIDs.bind(this),this.approxMaxBeforeCollision=this.approxMaxBeforeCollision.bind(this),this.collisionProbability=this.collisionProbability.bind(this),this.uniqueness=this.uniqueness.bind(this),this.getVersion=this.getVersion.bind(this),this.stamp=this.stamp.bind(this),this.parseStamp=this.parseStamp.bind(this),this}};d(g,"default",g);var v=g;return c(m)})();t.exports=s.default,"undefined"!=typeof window&&(s=s.default)}}]);
//# sourceMappingURL=chunk-3d416b0c.1146faf9.js.map