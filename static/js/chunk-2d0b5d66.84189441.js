(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b5d66"],{"1b32":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"title mb-5 black--text lighten-5 text-center",staticStyle:{height:"30px","margin-top":"30px","background-color":"#e9eef4"}},[t._v(" "+t._s(this.$route.params.name)+" ")]),i("v-card",{staticClass:"pb-4"},[i("div",{staticClass:"mt-5 mx-5"},[i("v-spacer"),i("v-row",{attrs:{wrap:""}},[i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"8"}}),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[i("v-menu",{attrs:{color:"primary","close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[i("v-text-field",t._g(t._b({staticClass:"font-weight-bold my-2",attrs:{color:"primary","prepend-inner-icon":"mdi-clock-start mdi-dark mdi-18px",outlined:"",label:t.$vuetify.lang.t("$vuetify.appointment.cols.start_appointment_date.title"),dense:"",readonly:"",clearable:""},model:{value:t.filter.start_date,callback:function(e){t.$set(t.filter,"start_date",e)},expression:"filter.start_date"}},"v-text-field",s,!1),a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[i("v-date-picker",{attrs:{max:t.maxDateStat,color:"primary"},on:{change:t.getItems,input:function(e){t.menu=!1}},model:{value:t.filter.start_date,callback:function(e){t.$set(t.filter,"start_date",e)},expression:"filter.start_date"}})],1)],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[i("v-menu",{attrs:{color:"primary","close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[i("v-text-field",t._g(t._b({staticClass:"font-weight-bold my-2",attrs:{color:"primary","prepend-inner-icon":"mdi-clock-end mdi-dark mdi-18px",outlined:"",label:t.$vuetify.lang.t("$vuetify.appointment.cols.end_appointment_date.title"),dense:"",readonly:"",clearable:""},model:{value:t.filter.end_date,callback:function(e){t.$set(t.filter,"end_date",e)},expression:"filter.end_date"}},"v-text-field",s,!1),a))]}}]),model:{value:t.menu6,callback:function(e){t.menu6=e},expression:"menu6"}},[i("v-date-picker",{attrs:{max:t.maxDateStat,min:t.getminDate,color:"primary"},on:{change:t.getItems,input:function(e){t.menu6=!1}},model:{value:t.filter.end_date,callback:function(e){t.$set(t.filter,"end_date",e)},expression:"filter.end_date"}})],1)],1)],1)],1)]),i("v-card",[!0===this.isActive&&!1===this.isInventory?i("v-data-table",{staticClass:"mt-5",attrs:{"footer-props":{"items-per-page-options":t.itemPerPageOptions},headers:t.headers,items:t.items,"items-per-page":t.itemPerPage,loading:t.loading.list,options:t.pagination,"server-items-length":t.meta.totalElements,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"item-key":"name"},on:{"update:options":function(e){t.pagination=e}},scopedSlots:t._u([{key:"header.bill_N",fn:function(e){var a=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.arrival_date",fn:function(e){var a=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.date_bill",fn:function(e){var a=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.patient_name",fn:function(e){var a=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.patient_type",fn:function(e){var a=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.cashier",fn:function(e){var a=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.net_payable",fn:function(e){var a=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.advance",fn:function(e){var a=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.balance",fn:function(e){var a=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.null",fn:function(e){var a=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"body",fn:function(e){var a=e.items;return[i("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.hover;return i("tbody",{},t._l(a,(function(e){return i("tr",{key:e.id},[i("td",{staticClass:"subtitle-2"},[t._v(t._s(e.code))]),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.$moment(e.createdAt).format("YYYY-MM-DD"))+" "+t._s(e.timeAt)+" ")]),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.patient.name)+" ")]),"NORMAL"===e.patient.shape||"COVERED"===e.patient.shape||"EMPLOYEE"===e.patient.shape||"INDIGENT"===e.patient.shape?i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.patient.cols.patient_shape."+e.patient.shape))+" ")]):i("td",{staticClass:"subtitle-2"},[t._v("/")]),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.cash.user.username)+" ")]),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.net_payable)+" ")]),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.advances)+" ")]),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.balance.toFixed(2))+" ")]),i("td",{staticClass:"subtitle-2"},[[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([t._.includes(t.$auth.user().permissions,"change_bills")?{key:"activator",fn:function(a){var l=a.on;return[i("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.smAndDown||s,expression:"$vuetify.breakpoint.smAndDown || hover"}],attrs:{color:"secondary",icon:"",text:""},on:{click:function(i){return t.editBills(e)}}},l),[i("v-icon",[t._v("mdi-update")])],1)]}}:null],null,!0)},[i("span",[t._v(t._s(t.$vuetify.lang.t("$vuetify.btn.edit")))])])]],2)])})),0)}}],null,!0)})]}}],null,!1,3845228897)}):t._e(),i("form-bills",{ref:"billsForm",attrs:{dialog:t.dialogForm,form:t.form,messages:t.messages},on:{getItems:t.getItems}})],1)],1)},s=[],l=(i("4de4"),i("b64b"),i("d3b7"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{persistent:"","max-width":"1000px"},model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[i("v-card",{staticClass:"pb-4"},[i("v-toolbar",{attrs:{dark:"",color:"#f5f5f5",dense:""}},[i("div",{staticClass:"title",staticStyle:{color:"black"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.bills.view"))+" ")]),i("v-spacer"),i("v-spacer"),i("v-btn",{attrs:{icon:"",light:""},on:{click:function(e){t.forceRefresh(),t.resetDataForm()}}},[i("v-icon",[t._v("mdi-close")])],1)],1),i("v-card-actions",[i("v-spacer"),i("v-spacer"),i("v-spacer")],1),i("v-form",{staticStyle:{"margin-top":"15px"},attrs:{readonly:""}},[i("v-card-text",[i("v-row",{attrs:{wrap:""}},[i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.bill_N.title"),"prepend-inner-icon":"mdi-code-array mdi-dark mdi-18px",outlined:"",dense:"",filled:"",readonly:""},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.date_bill.title"),"prepend-inner-icon":"mdi-clock-start mdi-dark mdi-18px",outlined:"",dense:"",light:"",readonly:""},model:{value:t.form.bills_date,callback:function(e){t.$set(t.form,"bills_date",e)},expression:"form.bills_date"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[i("v-select",{staticClass:"font-weight-bold",attrs:{color:"primary",items:t.optionBills.type_bills,label:t.$vuetify.lang.t("$vuetify.bills.cols.bill_type.title"),placeholder:t.$vuetify.lang.t("$vuetify.bills.cols.bill_type.title"),"prepend-inner-icon":"mdi-gender-male-female mdi-dark mdi-18px",outlined:"",dense:""},model:{value:t.form.bill_type,callback:function(e){t.$set(t.form,"bill_type",e)},expression:"form.bill_type"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.cashier.title"),"prepend-inner-icon":"mdi-code-array mdi-dark mdi-18px",outlined:"",dense:"",filled:"",readonly:""},model:{value:this.form.cashier,callback:function(e){t.$set(this.form,"cashier",e)},expression:"this.form.cashier"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"5"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.patient_name.title"),"prepend-inner-icon":"mdi-account-alert mdi-dark mdi-18px",outlined:"",dense:"",readonly:"",filled:""},model:{value:this.form.patient_name,callback:function(e){t.$set(this.form,"patient_name",e)},expression:"this.form.patient_name"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.code_patient.title"),"prepend-inner-icon":"mdi-code-array mdi-dark mdi-18px",outlined:"",dense:"",readonly:"",filled:""},model:{value:this.form.patient_code,callback:function(e){t.$set(this.form,"patient_code",e)},expression:"this.form.patient_code"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.patient_type.title"),"prepend-inner-icon":"mdi-shape-circle-plus mdi-dark mdi-18px",outlined:"",dense:"",readonly:"",filled:""},model:{value:t.form.patient_type,callback:function(e){t.$set(t.form,"patient_type",e)},expression:"form.patient_type"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.patient_balance.title"),"prepend-inner-icon":"mdi-credit-card mdi-dark mdi-18px",outlined:"",dense:"",readonly:"",suffix:"FCFA"},model:{value:t.form.patient_balance,callback:function(e){t.$set(t.form,"patient_balance",e)},expression:"form.patient_balance"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.dealing_with.title"),"prepend-inner-icon":"mdi-doctor mdi-dark mdi-18px",outlined:"",dense:"",readonly:"",filled:""},model:{value:t.form.doctor,callback:function(e){t.$set(t.form,"doctor",e)},expression:"form.doctor"}})],1),i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.supplies.cols.additional_info.title"),"prepend-inner-icon":"mdi-script-text mdi-dark mdi-18px",outlined:"",dense:"",readonly:t.supply},model:{value:t.form.additional_info,callback:function(e){t.$set(t.form,"additional_info",e)},expression:"form.additional_info"}})],1),"pharmacy"===this.form.bill_type?i("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"2"}},[i("v-select",{staticClass:"font-weight-bold",attrs:{color:"primary",items:t.optionShape.type_shape,label:t.$vuetify.lang.t("$vuetify.bills.cols.bill_shape.title"),placeholder:t.$vuetify.lang.t("$vuetify.bills.cols.bill_shape.title"),"prepend-inner-icon":"mdi-gender-male-female mdi-dark mdi-18px",outlined:"",dense:""},model:{value:t.form.bill_shape,callback:function(e){t.$set(t.form,"bill_shape",e)},expression:"form.bill_shape"}})],1):t._e()],1)],1),i("v-divider",{staticClass:"mx-4",staticStyle:{"margin-top":"-15px"}})],1),i("v-form",{staticStyle:{"margin-top":"15px"},attrs:{disabled:null===t.form.bills_date||null===t.form.patient||null===t.form.doctor||null===t.form.additional_info||null===t.form.bill_type||0===this.get_bills_amount,readonly:""}},[i("v-card-text",{staticStyle:{"background-color":"#eeeeee"}},[i("v-row",{attrs:{wrap:""}},[i("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"3"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.net_payable.title"),outlined:"",dense:"",value:t.get_bills_amount,readonly:"",filled:""}})],1),i("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"3"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.advance.title"),outlined:"",dense:"",type:"number",min:"0",rules:[t.numberRuleAdvances]},model:{value:t.form.advances,callback:function(e){t.$set(t.form,"advances",e)},expression:"form.advances"}})],1),i("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"3"}},[i("v-text-field",{staticClass:"font-weight-bold",attrs:{value:t.get_balance,color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.balance.title"),outlined:"",dense:"",readonly:"",min:"0",filled:""},model:{value:t.get_balance,callback:function(e){t.get_balance=e},expression:"get_balance"}})],1),i("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"15px"},attrs:{cols:"12",sm:"3"}},[i("v-select",{staticClass:"font-weight-bold",attrs:{color:"primary",items:t.optionPayment.type_Payment,label:t.$vuetify.lang.t("$vuetify.bills.cols.payment_method.title"),"prepend-inner-icon":"mdi-account-cash mdi-dark mdi-18px",outlined:"",dense:"",readonly:0===t.form.advances},model:{value:t.form.payment_method,callback:function(e){t.$set(t.form,"payment_method",e)},expression:"form.payment_method"}})],1)],1)],1),i("v-divider",{staticClass:"mx-4"})],1),i("v-card-text",{attrs:{readonly:""}},[i("v-data-table",{staticClass:"mt-5",attrs:{"footer-props":{"items-per-page-options":t.itemPerPageOptions},headers:t.headers,items:t.items,"items-per-page":t.itemPerPage,loading:t.loadingDetails.list,options:t.pagination,"server-items-length":t.meta.totalElements,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"item-key":"name"},on:{"update:options":function(e){t.pagination=e}},scopedSlots:t._u([{key:"header.product_name",fn:function(e){var a=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.product_code",fn:function(e){var a=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.quantity_served",fn:function(e){var a=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.pub",fn:function(e){var a=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.pun",fn:function(e){var a=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.delivery",fn:function(e){var a=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.amount_gross",fn:function(e){var a=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.amount_net",fn:function(e){var a=e.header;return[i("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"body",fn:function(e){var a=e.items;return[i("v-hover",[i("tbody",t._l(a,(function(e){return i("tr",{key:e.id},[e.details_stock?i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.details_stock.product.name)+" ")]):i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.medical_act.name)+" ")]),e.details_stock?i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.details_stock.product.code)+" ")]):i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.medical_act.code)+" ")]),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.quantity_served)+" ")]),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.pub)+" ")]),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.delivery)+" ")]),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.pun)+" ")]),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.amount_gross)+" ")]),i("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.amount_net)+" ")])])})),0)])]}}])}),i("delete-item",{attrs:{dialog:t.dialogDelete,messages:t.messagesDelete,urlItems:t.urlDeleteItems},on:{getItemsDetails:t.getItemsDetails}})],1)],1),i("form-cmv",{attrs:{dialog:t.dialogFormCMV,messages:t.messages}}),i("form-patient",{attrs:{dialog:t.dialogForm,messages:t.messages}}),i("form-settlement",{attrs:{dialog:t.dialogFormSet,messages:t.messages}}),i("form-pdf",{ref:"pdfForm",attrs:{dialog:t.dialogFormPdf}})],1)}),n=[],r=(i("4160"),i("b0c0"),i("3ca3"),i("159b"),i("ddb0"),i("2b3d"),i("53ca")),o=i("7cf5"),u=i("9b88"),c=i("2725"),d=i("5ed4"),m=i("6947"),f=i("8980"),h={mixins:[d["a"]],props:{form:{type:Object,default:function(){return{id:null,patient:null,doctor:null,medical_act:null,patient_name:null,patient_code:null,patient_balance:null,net_payable:null,patient_type:null,bills_date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),pub:null,pun:null,amount_gross:null,payment_method:"CASH",quantity_ordered:null,amount_net:null,total_amount:null,quantity_served:null,details_stock:null,delivery:null,balance:null,bills:null,reference_no:null,additional_info:"R.A.S",bills_amount:null,code:null,cashier:null,bill_type:"pharmacy",advances:0,bill_shape:"CLASSIC"}}}},data:function(){return{formData:{id:null,patient:null,doctor:null,medical_act:null,patient_name:null,patient_balance:null,sales_packaging:null,net_payable:null,patient_type:null,bills_date:null,pub:null,pun:null,amount_gross:null,payment_method:null,quantity_ordered:null,amount_net:null,total_amount:null,quantity_served:null,details_stock:null,delivery:null,balance:null,bills:null,reference_no:null,additional_info:null,bills_amount:null,code:null,cashier:null,bill_type:null,is_accounted:null,advances:null,bill_shape:null},maxDate:(new Date).toISOString().substr(0,10),optionPayment:{type_Payment:[]},pdfsrc:null,headers:[],headers_act:[],items:[],meta:{},sum:"",next_beneficiary:"",current_contribution:"",itemPerPage:10,itemPerPageOptions:[5,10,30],urlDeleteItems:"",sortDesc:!0,loading:{list:!1,refresh:!1,filter:!1},pagination:{},selectedItem:!1,_search:{},_sorts:{},dialogDelete:{show:!1},sortBy:["id"],e1:1,isLoadingDoctor:!1,isLoadingMedical_act:!1,isLoading:!1,searchSales_packaging:null,itemsSales_packaging:[],urlSales_packaging:"sales_packaging",isLoadingSales_packaging:!1,search:null,searchMedical_act:null,numberRuleDelivery:function(t){return!(t<0)||"Entrer un nombre positif"},numberRuleQteOrdered:function(t){return!(t<0)||"Entrer un nombre positif"},numberRuleQteServed:function(t){return!(t<0)||"Entrer un nombre positif"},numberRuleAdvances:function(t){return!(t<0)||"Entrer un nombre positif"},searchDoctor:null,menu2:!1,supply:!1,active:!1,menu3:!1,menu4:!1,menu:!1,dialogFormCMV:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogFormCash:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogFormWarning:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogFormPdf:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogFormSet:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogFormDetails:{show:!1,shows:{showFilter:!1,showInfo:!1}},optionBills:{type_bills:[]},optionShape:{type_shape:[]},optionPatient_shape:{type_Patient_shape:[]},messagesDelete:{success:"$vuetify.supplies.delete.success"},loadingBtn:!1,loadingDetails:{list:!1,refresh:!1,filter:!1},itemsDoctor:[],itemsMedical_act:[],itemsProduct:[],product_public_price:"",isLoadingPatient:!1,searchPatient:null,itemsPatient:[],urlPatient:"patients/all",urlItemsPatientSolde:"patients/solde",urlDoctor:"doctors",urlItemsCash:"cashs/isOpen",urlProduct:"details_stocks/all",urlMedical_act:"medical_act",urlItems:"bills",urlItemsDetails_bills:"details_bills"}},watch:{pagination:{handler:function(){this.getItemsDetails()},deep:!0},searchMedical_act:function(t){var e=this;if(null!==t){var i={name:t},a=this;this.isLoading=!0,this.$store.dispatch("request",{url:a.urlMedical_act,params:i}).then((function(t){a.itemsMedical_act=t.data.content})).finally((function(){return e.isLoading=!1}))}},search:function(t){var e,i,a=this;if(null!==t){var s={name:t},l=this;this.isLoading=!0,this.$store.dispatch("request",{url:null!=(null===(e=this.$auth.user())||void 0===e?void 0:e.storage_depots)?l.urlProduct+"?storage_depots="+(null===(i=this.$auth.user())||void 0===i?void 0:i.storage_depots.id):l.urlProduct+"?storage_depots=null",params:s}).then((function(t){l.itemsProduct=t.data.content,a.reset_product_detail_act()})).finally((function(){return a.isLoading=!1}))}},searchPatient:function(t){var e=this;if(null!==t){this.isLoadingPatient=!0;var i={name:t},a=this;this.$store.dispatch("request",{url:a.urlPatient,params:i}).then((function(t){a.itemsPatient=t.data.content})).finally((function(){return e.isLoadingPatient=!1}))}},searchDoctor:function(t){var e=this;if(null!==t){var i={name:t},a=this;this.isLoadingDoctor=!0,this.$store.dispatch("request",{url:a.urlDoctor,params:i}).then((function(t){a.itemsDoctor=t.data.content})).finally((function(){return e.isLoadingDoctor=!1}))}}},created:function(){this.setHeaders(),this.setHeadersAct(),this.getOptionsBill(),this.getOptionsShape(),this.getOptionsPatient_shape(),this.getOptionsPayment()},validations:function(){var t={form:{}};return t},methods:{reset_product_detail:function(){this.formData.details_stock=null,this.formData.sales_packaging=null,this.formData.quantity_served=null,this.formData.delivery=null},reset_product_detail_act:function(){this.formData.medical_act=null,this.formData.quantity_served=null,this.formData.delivery=null},resetFormPro:function(){this.formData.details_stock=null,this.formData.quantity_served=null},get_qte_stock:function(){var t,e;0===(null===(t=this.formData.details_stock)||void 0===t?void 0:t.qte_stock)||this.formData.quantity_served>(null===(e=this.formData.details_stock)||void 0===e?void 0:e.qte_stock)?this.dialogFormWarning.show=!0:this.dialogFormWarning.show=!1},editPdf:function(t){this.dialogFormPdf.show=!0,this.$refs.pdfForm.setForm(t)},getOptionsPayment:function(){var t=this;this._.each(this.$store.getters.payment,(function(e){t.optionPayment.type_Payment.push({text:t.$vuetify.lang.t(e.text),value:e.value})}))},getOptionsPatient_shape:function(){var t=this;this._.each(this.$store.getters.type_Patient_shape,(function(e){t.optionPatient_shape.type_Patient_shape.push({text:t.$vuetify.lang.t(e.text),value:e.value})}))},getOptionsBill:function(){var t=this;this._.each(this.$store.getters.type_bills,(function(e){t.optionBills.type_bills.push({text:t.$vuetify.lang.t(e.text),value:e.value})}))},getOptionsShape:function(){var t=this;this._.each(this.$store.getters.type_shape,(function(e){t.optionShape.type_shape.push({text:t.$vuetify.lang.t(e.text),value:e.value})}))},forceRefresh:function(){this.dialog.show=!1,this.items=[],this.active=!1},deleteItem:function(t){this.urlDeleteItems=this.urlItemsDetails_bills+"/"+t.id,this.dialogDelete.show=!0},setHeaders:function(){this.headers=[{text:"$vuetify.bills.cols.product_name.title",value:"product_name",align:"start",sortable:!0,width:"120",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.product_code.title",value:"product_code",align:"start",sortable:!0,width:"20",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.quantity_served.title",value:"quantity_served",align:"start",sortable:!0,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.pub.title",value:"pub",align:"start",sortable:!0,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.delivery.title",value:"delivery",align:"start",sortable:!0,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.pun.title",value:"pun",align:"start",sortable:!0,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.amount_gross.title",value:"amount_gross",align:"start",sortable:!0,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.amount_net.title",value:"amount_net",align:"start",sortable:!0,width:"60",class:"grey--text text--darken-3"}]},setHeadersAct:function(){this.headers_act=[{text:"$vuetify.medical_act.cols.name.title",value:"name",align:"start",sortable:!0,width:"120",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.product_code.title",value:"product_code",align:"start",sortable:!0,width:"20",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.quantity_served.title",value:"quantity_served",align:"start",sortable:!0,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.pub.title",value:"pub",align:"start",sortable:!0,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.delivery.title",value:"delivery",align:"start",sortable:!0,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.pun.title",value:"pun",align:"start",sortable:!0,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.amount_gross.title",value:"amount_gross",align:"start",sortable:!0,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.amount_net.title",value:"amount_net",align:"start",sortable:!0,width:"60",class:"grey--text text--darken-3"}]},createPatient:function(){this.dialogForm.show=!0,this.messages={title:"$vuetify.patient.new.title",submit:"$vuetify.patient.new.submit",success:"$vuetify.patient.new.success"}},createCash:function(){this.dialogFormCash.show=!0,this.messages={title:"$vuetify.cash_movement.title_warning_cash",submit:"$vuetify.cash.new.submit",success:"$vuetify.cash.new.success"}},createD:function(){this.dialogFormCMV.show=!0,this.messages={title:"$vuetify.cash_movement.new.title",submit:"$vuetify.cash_movement.new.submit",success:"$vuetify.cash_movement.new.success"}},createP:function(){this.dialogFormSet.show=!0,this.messages={title:"$vuetify.patients_settlements.new.title",submit:"$vuetify.patients_settlements.new.submit",success:"$vuetify.patients_settlements.new.success"},this.form={id:null,patient:null,doctor:null,patient_name:null,patient_balance:null,net_payable:null,patient_type:null,pub:null,pun:null,amount_gross:null,quantity_ordered:null,amount_net:null,total_amount:null,quantity_served:null,product:null,delivery:null,patients_settlements:null,reference_no:null,additional_info:null,patients_settlements_amount:null,code:null,cashier:null,bill_type:null,advances:null,bill_shape:null}},getDataForm:function(){var t={doctor:null===this.form.id?this.form.doctor["id"]:this.form.doctor,patient:null===this.form.id?this.form.patient["id"]:this.form.patient,cashier:this.$auth.user().id,patient_type:this.form.patient_type,createdAt:this.form.bills_date,bill_type:this.form.bill_type,bill_shape:this.form.bill_shape,additional_info:this.form.additional_info,payment_method:0===this.form.advances?"NO_PAY":this.form.payment_method,net_payable:this.get_bills_amount,advances:null===this.form.advances?0:this.form.advances,balance:this.get_balance};return t},resetDataForm:function(){if(this.form.id=null,this.formData.details_stock=null,this.form.patient=null,this.form.medical_act=null,this.form.doctor=null,this.items=[],!this.form.id){var t=this;this.$v.form.$reset(),this._.each(this.form,(function(e,i){"object"===Object(r["a"])(t.form[i])?t._.each(t.form[i],(function(e,a){"boolean"===typeof t.form[i][a]?t.form[i][a]=!1:t.form[i][a]=null})):"boolean"===typeof t.form[i]?t.form[i]=!1:t.form[i]=null})),this.form.bills_date=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),this.resetItemsDetails(),this.form.bill_type="pharmacy",this.form.bill_shape="CLASSIC",this.form.additional_info="R.A.S",this.form.payment_method="NO_PAY"}},resetFormBills:function(){if(this.form.id=null,this.formData.details_stock=null,this.formData.quantity_served=null,this.formData.delivery=null,this.form.patient=null,this.form.medical_act=null,this.form.doctor=null,this.items=[],!this.form.id){var t=this;this.$v.form.$reset(),this._.each(this.form,(function(e,i){"object"===Object(r["a"])(t.form[i])?t._.each(t.form[i],(function(e,a){"boolean"===typeof t.form[i][a]?t.form[i][a]=!1:t.form[i][a]=null})):"boolean"===typeof t.form[i]?t.form[i]=!1:t.form[i]=null})),this.form.bill_type="pharmacy",this.form.bill_shape="CLASSIC",this.form.additional_info="R.A.S",this.form.payment_method="CASH",this.form.bills_date=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)}},resetItemsDetails:function(){var t=this,e=this,i=this.pagination,a=i.page,s=i.itemsPerPage,l={page:a,size:s};return this._.isEmpty(this._search)||(this._search=this._.merge(l,this._search)),new Promise((function(i,a){t.loadingDetails.list=!0,e.$store.dispatch("request",{url:e.urlItemsDetails_bills+"?bills=reset",params:l}).then((function(t){var a=t.data;e.meta={totalElements:a.totalElements},i(t)})).catch((function(i){var s=t.$vuetify.lang.t("$vuetify.error_occured");if(i.response)if(400===i.response.status){var l=i.response.data;e.setFormErrors(l);var n=Object.keys(l)[0];n&&Array.isArray(l[n])&&(s=l[n][0])}else 403===i.response.status?s=e.$vuetify.lang.t("$vuetify.error_denied"):500===i.response.status&&(s=e.$vuetify.lang.t("$vuetify.error_server"));e.$store.dispatch("showNotification",{status:!0,text:s}),a(i)})).then((function(){e.loadingDetails.list=!1,i()}))}))},getDataFormdetails:function(){var t={quantity_served:this.formData.quantity_served,bill_type:this.form.bill_type,details_stock:void 0===this.formData.details_stock||null===this.formData.details_stock?"":this.formData.details_stock["id"],quantity_ordered:null===this.formData.quantity_ordered?0:this.formData.quantity_ordered,pub:"pharmacy"===this.form.bill_type?this.get_product_public_price:this.get_product_public_price_act,pun:"pharmacy"===this.form.bill_type?this.get_pu_net:this.get_pu_net_act,delivery:null===this.formData.delivery||""===this.formData.delivery?0:this.formData.delivery,amount_gross:"pharmacy"===this.form.bill_type?this.get_amount_gross:this.get_amount_gross_act,amount_net:"pharmacy"===this.form.bill_type?this.get_amount_net:this.get_amount_net_act,createdAt:this.form.bills_date,product:this.form.patient["id"],medical_act:void 0===this.formData.medical_act||null===this.formData.medical_act?"":this.formData.medical_act["id"]};return t},setForm:function(t){this.form.id=t.id,this.form.bills=t.id,this.form.code=t.code,this.form.doctor=t.doctor["name"],this.form.cashier=t.cash["user"]["username"],this.form.patient_name=t.patient["name"],this.form.patient_code=t.patient["code"],this.form.patient_type=t.patient["shape"],this.form.is_accounted=t.is_accounted,this.form.details_stock=t.details_stock,this.form.advances=t.advances,this.form.patient_balance=t.patient_balance,this.form.bills_date=t.createdAt+" "+t.timeAt,this.form.payment_method=t.payment_method,this.form.bill_type=t.bill_type,this.form.bill_shape=t.bill_shape,this.form.additional_info=t.additional_info,this.getItemsDetails()},getRouteDetails:function(){return this.form.id?this.urlItemsDetails_bills+"/"+this.form.id:this.urlItemsDetails_bills},getRoute:function(){return this.form.id?this.urlItems+"/"+this.form.id:this.urlItems},refreshItemsDetail:function(){var t=this;this.loadingDetails.refresh=!0,this.getItemsDetails().then((function(){})).catch((function(){})).then((function(){t.loadingDetails.refresh=!1}))},save:function(){var t=this;this.$store.dispatch("showNotification",{statut:!1});var e=this;e.$v.$touch(),e.$v.$invalid||(this.loading=!0,this.$store.dispatch("request",{url:e.getRoute(),method:e.getMethod(),data:e.getDataForm()}).then((function(){e.$store.dispatch("showNotification",{statut:!0,text:e.$vuetify.lang.t(e.messages.success)}),"PUT"===t.getMethod()?e.$emit("getItems"):(e.$emit("getItems"),e.resetDataForm())})).catch((function(i){var a="$vuetify.error_server";if(i.response&&400===i.response.status){var s=i.response.data;e.setFormErrors(s),t.$forceUpdate();var l=Object.keys(s)[0];l&&Array.isArray(s[l])&&(a=s[l][0])}e.$store.dispatch("showNotification",{statut:!0,text:a,color:"#B71C1C"})})).finally((function(){e.loading=!1})))},save_print_bills:function(){var t=this;this.$store.dispatch("showNotification",{statut:!1});var e=this;e.$v.$touch(),e.$v.$invalid||(this.loading=!0,this.$store.dispatch("request",{url:e.getRoute()+"?print=1",method:e.getMethod(),data:e.getDataForm(),responseType:"blob"}).then((function(i){e.$store.dispatch("showNotification",{statut:!0,text:e.$vuetify.lang.t(e.messages.success)});var a=new Blob([i.data],{type:i.data.type}),s=URL.createObjectURL(a);t.editPdf(s),"PUT"===t.getMethod()?e.$emit("getItems"):(e.$emit("getItems"),e.resetDataForm())})).catch((function(i){var a="$vuetify.error_server";if(i.response&&400===i.response.status){var s=i.response.data;e.setFormErrors(s),t.$forceUpdate();var l=Object.keys(s)[0];l&&Array.isArray(s[l])&&(a=s[l][0])}e.$store.dispatch("showNotification",{statut:!0,text:a,color:"#B71C1C"})})).finally((function(){e.loading=!1})))},print_bills:function(){var t=this;this.$store.dispatch("showNotification",{statut:!1});var e=this;e.$v.$touch(),e.$v.$invalid||(this.loading=!0,this.$store.dispatch("request",{url:e.getRoute()+"?just_print=1",method:e.getMethod(),data:e.getDataForm(),responseType:"blob"}).then((function(i){var a=new Blob([i.data],{type:i.data.type}),s=URL.createObjectURL(a);t.editPdf(s),"PUT"===t.getMethod()?e.$emit("getItems"):(e.$emit("getItems"),e.resetDataForm())})).catch((function(i){var a="$vuetify.error_server";if(i.response&&400===i.response.status){var s=i.response.data;e.setFormErrors(s),t.$forceUpdate();var l=Object.keys(s)[0];l&&Array.isArray(s[l])&&(a=s[l][0])}e.$store.dispatch("showNotification",{statut:!0,text:a,color:"#B71C1C"})})).finally((function(){e.loading=!1})))},getItemsDetails:function(){var t=this,e=this,i=this.pagination,a=i.page,s=i.itemsPerPage,l={page:a,size:s};return this._.isEmpty(this._search)||(this._search=this._.merge(l,this._search)),new Promise((function(i,a){t.loadingDetails.list=!0,e.$store.dispatch("request",{url:e.urlItemsDetails_bills+"?bills="+t.form.bills,params:l}).then((function(t){var a=t.data;e.items=a.content,e.meta={totalElements:a.totalElements},i(t)})).catch((function(i){var s=t.$vuetify.lang.t("$vuetify.error_occured");if(i.response)if(400===i.response.status){var l=i.response.data;e.setFormErrors(l);var n=Object.keys(l)[0];n&&Array.isArray(l[n])&&(s=l[n][0])}else 403===i.response.status?s=e.$vuetify.lang.t("$vuetify.error_denied"):500===i.response.status&&(s=e.$vuetify.lang.t("$vuetify.error_server"));e.$store.dispatch("showNotification",{status:!0,text:s}),a(i)})).then((function(){e.loadingDetails.list=!1,i()}))}))},editDetails:function(t){console.log(t.details_stock),this.formData.details_stock=t.details_stock,this.formData.quantity_served=t.quantity_served,this.formData.quantity_ordered=t.quantity_ordered,this.formData.delivery=t.delivery},resetDataFormProduct:function(){this.formData.quantity_served=0,this.formData.details_stock=null,this.formData.medical_act=null,this.formData.delivery=0},saveDetails:function(){var t=this;this.$store.dispatch("showNotification",{statut:!1});var e=this;e.$v.$touch(),e.$v.$invalid||(this.loading=!0,this.$store.dispatch("request",{url:e.getRouteDetails(),method:e.getMethod(),data:e.getDataFormdetails()}).then((function(){e.$store.dispatch("showNotification",{statut:!0,text:e.$vuetify.lang.t("$vuetify.supplies.new.successDetails")}),t.getItemsDetails(),e.resetDataFormProduct()})).catch((function(i){var a;if(i.response)if(400===i.response.status){a="$vuetify.error_occured";var s=i.response.data;e.setFormErrors(s),t.$forceUpdate()}else a="$vuetify.error_server";e.$store.dispatch("showNotification",{statut:!0,text:e.$vuetify.lang.t(a),color:"#B71C1C"})})).then((function(){e.loading=!1})))}},computed:{get_patient_code:function(){var t,e="";return e=null===this.form.patient?"":null===(t=this.form.patient)||void 0===t?void 0:t.code,e},get_patient_shape:function(){var t,e="";return e=null===this.form.patient?"":null===(t=this.form.patient)||void 0===t?void 0:t.shape,e},get_product_code:function(){var t,e,i="";i=null===this.formData.details_stock||void 0===this.formData.details_stock?"":null===(t=this.formData.details_stock)||void 0===t?void 0:t.product.code;var a="";a=null===this.formData.details_stock||void 0===this.formData.details_stock?"":null===(e=this.formData.details_stock)||void 0===e?void 0:e.qte_stock;var s="";return s=i+"  /  "+a,s},get_patient_solde:function(){return null==this.form.patient||null==this.form.patient.solde?0:this.form.patient.solde},get_act_code:function(){var t,e="";return e=null===this.formData.medical_act?"":null===(t=this.formData.medical_act)||void 0===t?void 0:t.code,e},get_product_public_price:function(){var t,e,i,a,s="";return s=null===this.formData.details_stock||void 0===this.formData.details_stock?"":null===(t=this.formData.details_stock)||void 0===t?void 0:t.qte_stock,this.formData.quantity_served>s&&this.get_qte_stock(),void 0===(null===(e=this.formData.details_stock)||void 0===e?void 0:e.product.public_price)||null===(null===(i=this.formData.details_stock)||void 0===i?void 0:i.product.public_price)?0:(this.product_public_price=null===this.formData.details_stock?"":null===(a=this.formData.details_stock)||void 0===a?void 0:a.product.public_price,this.product_public_price)},get_product_public_price_act:function(){var t,e,i,a="",s="";return s=null===this.formData.medical_act?"":(null===(t=this.formData.medical_act)||void 0===t?void 0:t.price)*(null===(e=this.formData.medical_act)||void 0===e?void 0:e[null===(i=this.form.patient)||void 0===i?void 0:i.shape.toLowerCase()]),this.reset_product_detail(),a=Math.round(100*s)/100,a},get_bills_amount:function(){var t=0;return this.items.forEach((function(e){t+=e.amount_net})),t},get_pu_net:function(){if(void 0===this.formData.delivery||null===this.formData.delivery)return this.get_product_public_price;var t="";t=this.get_product_public_price*this.formData.delivery;var e="";e=t/100;var i="";return i=this.get_product_public_price-e,i},get_pu_net_act:function(){if(void 0===this.formData.delivery||null===this.formData.delivery)return this.get_product_public_price_act;var t="";t=this.get_product_public_price_act*this.formData.delivery;var e="";e=t/100;var i="";return i=this.get_product_public_price_act-e,i},get_amount_gross:function(){if(void 0===this.formData.quantity_served||void 0===this.get_product_public_price)return 0;var t="";return t=this.formData.quantity_served*this.get_product_public_price,t},get_amount_gross_act:function(){if(void 0===this.formData.quantity_served||void 0===this.get_product_public_price_act)return 0;var t="";return t=this.formData.quantity_served*this.get_product_public_price_act,t},get_amount_net:function(){if(void 0===this.formData.quantity_served||0===this.get_pu_net)return this.get_amount_gross;var t="";return t=this.get_pu_net*this.formData.quantity_served,t},get_amount_net_act:function(){if(void 0===this.formData.quantity_served||0===this.get_pu_net_act)return this.get_amount_gross_act;var t="";return t=this.get_pu_net_act*this.formData.quantity_served,t},get_balance:function(){if(void 0===this.form.advances)return this.get_bills_amount;var t="";return t=this.get_bills_amount-this.form.advances,t},nameErrors:function(){var t=[];return this.$v.form.name.$dirty?(!this.$v.form.name.required&&t.push(this.$vuetify.lang.t("$vuetify.supplies.cols.name.required")),t):t},reference_noErrors:function(){var t=[];return this.$v.form.reference_no.$dirty?(!this.$v.form.reference_no.required&&t.push(this.$vuetify.lang.t("$vuetify.supplies.cols.reference_no.required")),t):t},total_amountErrors:function(){var t=[];return this.$v.form.total_amount.$dirty?(!this.$v.form.total_amount.required&&t.push(this.$vuetify.lang.t("$vuetify.supplies.cols.total_amount.required")),t):t}},mounted:function(){},components:{DeleteItem:m["a"],FormCmv:o["a"],FormPdf:f["a"],FormSettlement:u["a"],FormPatient:c["a"]}},p=h,_=i("2877"),v=i("6544"),y=i.n(v),g=i("8336"),b=i("b0af"),$=i("99d9"),x=i("62ad"),w=i("8fea"),D=i("169a"),k=i("ce7e"),C=i("4bd4"),F=i("ce87"),I=i("132d"),P=i("0fd9"),q=i("b974"),S=i("2fa4"),A=i("8654"),O=i("71d9"),E=Object(_["a"])(p,l,n,!1,null,null,null),V=E.exports;y()(E,{VBtn:g["a"],VCard:b["a"],VCardActions:$["a"],VCardText:$["b"],VCol:x["a"],VDataTable:w["a"],VDialog:D["a"],VDivider:k["a"],VForm:C["a"],VHover:F["a"],VIcon:I["a"],VRow:P["a"],VSelect:q["a"],VSpacer:S["a"],VTextField:A["a"],VToolbar:O["a"]});var L=i("24a2"),N={mixins:[L["a"]],data:function(){return{urlItemsCash:"cashs/isOpen",urlItems:"details_bills/bills_medical_act",sortBy:["createdAt"],menu:!1,menu6:!1,dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogFormCash:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogFormInv:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogDelete:{show:!1},isActive:!1,isInventory:!1,dialogDetail:{show:!1},dialogEnt:{show:!1},form:{id:null,patient:null,doctor:null,patient_name:null,patient_balance:null,net_payable:null,patient_type:null,pub:null,pun:null,amount_gross:null,quantity_ordered:null,amount_net:null,total_amount:null,quantity_served:null,product:null,delivery:null,bills:null,reference_no:null,additional_info:null,bills_amount:null,code:null,cashier:null,bill_type:null,advances:null,bill_shape:null,storage_depots:null},maxDateStat:(new Date).toISOString().substr(0,10),filter:{start_date:null,end_date:null},messages:{title:"",submit:"",success:""},loading:{list:!1,refresh:!1,filter:!1},messagesDelete:{success:"$vuetify.bills.delete.success"}}},computed:{getminDate:function(){var t,e="";return e=null===(t=new Date(this.filter.start_date))||void 0===t?void 0:t.toISOString().substr(0,10),e}},mounted:function(){this.getOpenCash(),this.getItems()},methods:{getOpenCash:function(){var t=this,e=this;return new Promise((function(i){e.$store.dispatch("request",{url:e.urlItemsCash}).then((function(a){var s=a.data;e.isActive=s.content.is_active,e.isInventory=s.content.is_inventory,!1===e.isActive?!1===e.isInventory?t.createCash():t.currentInventory():(e.isActive=s.content.is_active,!0===e.isInventory&&t.currentInventory()),i(a)}))}))},createCash:function(){this.dialogFormCash.show=!0,this.messages={title:"$vuetify.cash_movement.title_warning_cash",submit:"$vuetify.cash.new.submit",success:"$vuetify.cash.new.success"}},currentInventory:function(){this.dialogFormInv.show=!0},getItems:function(){var t=this,e=this,i=this.pagination,a=i.page,s=i.itemsPerPage,l={page:a,size:s};return l["medical_act"]=this.$route.params.id,null!==e.filter.start_date&&(l["start_date"]=e.filter.start_date),null!==e.filter.end_date&&(l["end_date"]=e.filter.end_date),this._.isEmpty(this._search)||(this._search=this._.merge(l,this._search)),new Promise((function(i,a){t.loading.list=!0,e.$store.dispatch("request",{url:e.urlItems,params:l}).then((function(t){var a=t.data;e.items=a.content,e.meta={totalElements:a.totalElements},i(t)})).catch((function(i){var s=t.$vuetify.lang.t("$vuetify.error_occured");if(i.response)if(400===i.response.status){var l=i.response.data;e.setFormErrors(l);var n=Object.keys(l)[0];n&&Array.isArray(l[n])&&(s=l[n][0])}else 403===i.response.status?s=e.$vuetify.lang.t("$vuetify.error_denied"):500===i.response.status&&(s=e.$vuetify.lang.t("$vuetify.error_server"));e.$store.dispatch("showNotification",{status:!0,text:s}),a(i)})).then((function(){e.loading.list=!1,i()}))}))},setHeaders:function(){this.headers=[{text:"$vuetify.bills.cols.bill_N.title",value:"bill_N",align:"start",sortable:!0,width:"15",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.date_bill.title",value:"date_bill",align:"start",sortable:!0,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.patient_name.title",value:"patient_name",align:"start",sortable:!0,width:"30",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.patient_type.title",value:"patient_type",align:"start",sortable:!0,width:"6",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.cashier.title",value:"cashier",align:"start",sortable:!0,width:"6",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.net_payable.title",value:"net_payable",align:"start",sortable:!0,width:"6",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.advance.title",value:"advance",align:"start",sortable:!0,width:"6",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.balance.title",value:"balance",align:"start",sortable:!0,width:"6",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.actions.title",value:null,align:"start",sortable:!0,width:"6"}]},create:function(){this.dialogForm.show=!0,this.messages={title:"$vuetify.bills.new.title",submit:"$vuetify.bills.new.submit",success:"$vuetify.bills.new.success"},this.form={id:null,patient:null,doctor:null,patient_name:null,patient_balance:null,net_payable:null,patient_type:null,pub:null,pun:null,amount_gross:null,quantity_ordered:null,amount_net:null,total_amount:null,quantity_served:null,product:null,delivery:null,bills:null,reference_no:null,additional_info:null,bills_amount:null,code:null,cashier:null,bill_type:null,advances:null,bill_shape:null,storage_depots:null}},editBills:function(t){this.dialogForm.show=!0,this.messages={title:"$vuetify.bills.update.title",submit:"$vuetify.bills.update.submit",success:"$vuetify.bills.update.success"},this.$refs.billsForm.setForm(t)},showFilter:function(){this.dialogForm.shows.showFilter=!0},performFilter:function(){var t=this;t.loading.list=!0;var e={};null!==t.filter.billsname&&(e["billsname"]=t.filter.billsname),null!==t.filter.role&&(e["role"]=t.filter.role),t._search=e,t.getItems().then((function(){t.$refs.filterForm.closeDialog()})).finally((function(){t.$refs.filterForm.stopLoadingBtn()}))}},components:{FormBills:V}},R=N,B=i("2e4b"),M=i("e449"),j=i("3a2f"),T=Object(_["a"])(R,a,s,!1,null,"63196e84",null);e["default"]=T.exports;y()(T,{VBtn:g["a"],VCard:b["a"],VCol:x["a"],VDataTable:w["a"],VDatePicker:B["a"],VHover:F["a"],VIcon:I["a"],VMenu:M["a"],VRow:P["a"],VSpacer:S["a"],VTextField:A["a"],VTooltip:j["a"]})}}]);
//# sourceMappingURL=chunk-2d0b5d66.84189441.js.map