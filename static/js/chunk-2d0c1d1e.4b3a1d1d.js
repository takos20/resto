(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c1d1e"],{4859:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"title mb-5 black--text lighten-5 text-center",staticStyle:{height:"30px","margin-top":"30px","background-color":"#e9eef4"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.cash_movement.list.title"))+" ")]),s("user",{attrs:{color:"black"}})],1)},n=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-card",[s("v-form",[s("v-row",{attrs:{wrap:""}},[s("v-col",{attrs:{cols:"12",sm:"3"}}),s("v-col",{attrs:{cols:"12",sm:"3"}},[s("v-menu",{attrs:{color:"primary","close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[s("v-text-field",t._g(t._b({staticClass:"font-weight-bold",attrs:{color:"primary",outlined:"",label:t.$vuetify.lang.t("$vuetify.item_movements.cols.period_of.title"),dense:"",readonly:""},model:{value:t.form.start_date,callback:function(e){t.$set(t.form,"start_date",e)},expression:"form.start_date"}},"v-text-field",n,!1),a))]}}]),model:{value:t.menu3,callback:function(e){t.menu3=e},expression:"menu3"}},[s("v-date-picker",{attrs:{max:t.maxDate,color:"primary"},on:{input:function(e){t.menu3=!1}},model:{value:t.form.start_date,callback:function(e){t.$set(t.form,"start_date",e)},expression:"form.start_date"}})],1)],1),s("v-col",{attrs:{cols:"12",sm:"3"}},[s("v-menu",{attrs:{color:"primary","close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[s("v-text-field",t._g(t._b({staticClass:"font-weight-bold",attrs:{color:"primary",outlined:"",label:t.$vuetify.lang.t("$vuetify.item_movements.cols.period_of.title2"),dense:"",readonly:""},model:{value:t.form.end_date,callback:function(e){t.$set(t.form,"end_date",e)},expression:"form.end_date"}},"v-text-field",n,!1),a))]}}]),model:{value:t.menu4,callback:function(e){t.menu4=e},expression:"menu4"}},[s("v-date-picker",{attrs:{min:t.getMinStartDate,max:t.maxDate,color:"primary"},on:{change:function(e){return t.movement_analysis()},input:function(e){t.menu4=!1}},model:{value:t.form.end_date,callback:function(e){t.$set(t.form,"end_date",e)},expression:"form.end_date"}})],1)],1),s("v-col",{attrs:{cols:"12",sm:"3"}})],1)],1)],1),s("v-card",[s("div",{staticClass:"mt-5 mx-5 ml-10"},[s("v-form",[s("v-row",{attrs:{wrap:""}},[s("v-col",{attrs:{cols:"12",sm:"4"}},[s("v-chip",{staticClass:"subtitle-1 font-weight-bold my-3",attrs:{"text-color":"teal darken-1",color:"#f1f5fc",medium:"",label:""}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.cash_movement.cols.type.ENTRIES"))+" : "+t._s(Intl.NumberFormat().format(t.get_sum_entry_movement))+" FCFA ")])],1),s("v-col",{attrs:{cols:"12",sm:"4"}},[s("v-chip",{staticClass:"subtitle-1 font-weight-bold my-3",attrs:{"text-color":"red accent-4",color:"#f1f5fc",medium:"",label:""}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.cash_movement.cols.type.EXITS"))+" : "+t._s(Intl.NumberFormat().format(t.get_sum_exit_movement))+" FCFA ")])],1),s("v-col",{attrs:{cols:"12",sm:"4"}},[s("v-chip",{staticClass:"subtitle-1 font-weight-bold my-3",attrs:{"text-color":"blue accent-4",color:"#f1f5fc",medium:"",label:""}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.cash_movement.cols.account_end.title"))+" : "+t._s(Intl.NumberFormat().format(t.get_sum_entry_movement-t.get_sum_exit_movement))+" FCFA ")])],1)],1)],1)],1)]),s("v-card",[s("v-data-table",{staticClass:"mt-5",attrs:{"footer-props":{"items-per-page-options":t.itemPerPageOptions},headers:t.headersCash_movement,items:t.itemsCash_movement,"items-per-page":t.itemPerPage,loading:t.loading.list,options:t.pagination,"server-items-length":t.meta.totalElements,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"item-key":"name"},on:{"update:options":function(e){t.pagination=e}},scopedSlots:t._u([{key:"header.code",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.type",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.name",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.motive",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.name_movement",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.amount_movement",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.create_date",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"body",fn:function(e){var a=e.items;return[s("v-hover",[s("tbody",t._l(a,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"subtitle-2"},[t._v(t._s(e.code))]),s("td",{staticClass:"subtitle-2"},[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u(["ENTRY"===e.type?{key:"activator",fn:function(a){var n=a.on;return[s("v-icon",t._g({staticClass:"pointer",staticStyle:{"font-size":"15px"},attrs:{color:"teal darken-1",dark:""}},n),[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.cash_movement.cols.type."+e.type))+" ")])]}}:{key:"activator",fn:function(a){var n=a.on;return[s("v-icon",t._g({staticClass:"pointer",staticStyle:{"font-size":"15px"},attrs:{color:"red accent-4",dark:""}},n),[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.cash_movement.cols.type."+e.type))+" ")])]}}],null,!0)})],1),e.cash?s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.cash.user.username)+" ")]):s("td",{staticClass:"subtitle-2"},[t._v("-")]),s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.motive)+" ")]),e.expenses_nature?s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.expenses_nature.name)+" ")]):s("td",{staticClass:"subtitle-2"},[t._v("-")]),s("td",{staticClass:"subtitle-2"},["ENTRY"===e.type?[s("v-chip",{staticClass:"ma-2",attrs:{color:"teal darken-1","text-color":"white",small:""}},[t._v(" "+t._s(e.amount_movement)+" FCFA ")])]:[s("v-chip",{staticClass:"ma-2",attrs:{color:"red accent-4","text-color":"white",small:""}},[t._v(" "+t._s(e.amount_movement)+" FCFA ")])]],2),s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.$moment(e.createdAt).format("YYYY-MM-DD"))+" "+t._s(e.timeAt)+" ")])])})),0)])]}}])})],1),s("div",{staticClass:"title mb-5 black--text lighten-5 text-center",staticStyle:{height:"30px","margin-top":"30px","background-color":"#e9eef4"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.patients_settlements.list.title"))+" ")]),s("v-card",[s("v-data-table",{staticClass:"mt-5",attrs:{"footer-props":{"items-per-page-options":t.itemPerPageOptionsSettlement},headers:t.headersSettlement,items:t.itemsSettlement,"items-per-page":t.itemPerPageSettlement,loading:t.loadingSettlement.list,options:t.pagination,"server-items-length":t.meta.totalElements,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"item-key":"name"},on:{"update:options":function(e){t.pagination=e}},scopedSlots:t._u([{key:"header.code",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.patient_name",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.patient_balance",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.payment_method",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.amount_received",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.amount_paid",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.new_balance",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.date",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.null",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"body",fn:function(e){var a=e.items;return[s("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var n=e.hover;return s("tbody",{},t._l(a,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"subtitle-2"},[t._v(t._s(e.code))]),s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.patient.name)+" ")]),s("td",{staticClass:"subtitle-2"},[s("v-chip",{staticClass:"ma-2",attrs:{color:"primary","text-color":"white",small:""}},[t._v(" "+t._s(e.current_balance)+" FCFA ")])],1),"CASH"===e.payment_method||"OM"===e.payment_method||"BANK_CARD"===e.payment_method||"MOMO"===e.payment_method||"NO_PAY"===e.payment_method?s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.bills.cols.payment_method."+e.payment_method))+" ")]):s("td",{staticClass:"subtitle-2"},[t._v("/")]),s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.amount_received)+" ")]),s("td",{staticClass:"subtitle-2"},[s("v-chip",{staticClass:"ma-2",attrs:{color:"teal darken-1","text-color":"white",small:""}},[t._v(" "+t._s(e.amount_paid)+" FCFA ")])],1),s("td",{staticClass:"subtitle-2"},[s("v-chip",{staticClass:"ma-2",attrs:{color:"red accent-4","text-color":"white",small:""}},[t._v(" "+t._s(e.new_balance)+" FCFA ")])],1),s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.$moment(e.createdAt).format("YYYY-MM-DD"))+" "+t._s(e.timeAt)+" ")]),s("td",{staticClass:"subtitle-2"},[[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([t._.includes(t.$auth.user().permissions,"change_patientsettlement")?{key:"activator",fn:function(a){var i=a.on;return[s("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.smAndDown||n,expression:"$vuetify.breakpoint.smAndDown || hover"}],attrs:{color:"secondary",icon:"",text:""},on:{click:function(s){return t.editPatients_settlements(e)}}},i),[s("v-icon",[t._v("mdi-update")])],1)]}}:null],null,!0)},[s("span",[t._v(t._s(t.$vuetify.lang.t("$vuetify.btn.edit")))])])]],2)])})),0)}}],null,!0)})]}}])})],1)],1)},r=[],o=(s("4de4"),s("b64b"),s("d3b7"),s("24a2")),l={mixins:[o["a"]],data:function(){return{maxDate:(new Date).toISOString().substr(0,10),menu4:!1,menu3:!1,menu2:!1,search:null,menu:!1,itemsSettlement:[],itemsCash_movement:[],headersSettlement:[],headersCash_movement:[],loadingBtn:!1,urlItems:"cashs/movements_analysis",sortBy:["id"],dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogFormCash:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogDelete:{show:!1},dialogDetail:{show:!1},dialogEnt:{show:!1},form:{start_date:null,end_date:null,product:null},filter:{code:null,role:null},messages:{title:"",submit:"",success:""},messagesDelete:{success:"$vuetify.cash_movement.delete.success"}}},computed:{getMinStartDate:function(){var t,e="";return e=null===(t=new Date(this.form.start_date))||void 0===t?void 0:t.toISOString().substr(0,10),e},get_sum_entry_settlement:function(){var t=this._.sumBy(this.itemsSettlement,(function(t){return t.amount_paid}));return t},get_sum_entry_movement:function(){var t=this._.filter(this.itemsCash_movement,(function(t){return"ENTRY"===t.type})),e=this._.sumBy(t,(function(t){return t.amount_movement})),s=this.get_sum_entry_settlement+e;return s},get_sum_exit_movement:function(){var t=this._.filter(this.itemsCash_movement,(function(t){return"EXIT"===t.type})),e=this._.sumBy(t,(function(t){return t.amount_movement}));return e}},created:function(){this.setHeadersCash_movement(),this.setHeadersSettlement()},methods:{movement_analysis:function(){var t=this;this.getMovement_analysis(),this.loading.refresh=!0,this.getMovement_analysis().then((function(){})).catch((function(){})).then((function(){t.loading.refresh=!1}))},getMovement_analysis:function(){var t=this,e=this,s=this.pagination,a=s.page,n=s.itemsPerPage,i={page:a,size:n};return this._.isEmpty(this._search)||(this._search=this._.merge(i,this._search)),new Promise((function(s,a){t.loading.list=!0,e.$store.dispatch("request",{url:e.urlItems+"?start_date="+t.form.start_date+"&end_date="+t.form.end_date,params:i}).then((function(t){var a=t.data;e.itemsCash_movement=a.content.cash_movement,e.itemsSettlement=a.content.settlement,e.meta={totalElements:a.totalElements},s(t)})).catch((function(s){var n=t.$vuetify.lang.t("$vuetify.error_occured");if(s.response)if(400===s.response.status){var i=s.response.data;e.setFormErrors(i);var r=Object.keys(i)[0];r&&Array.isArray(i[r])&&(n=i[r][0])}else 403===s.response.status?n=e.$vuetify.lang.t("$vuetify.error_denied"):500===s.response.status&&(n=e.$vuetify.lang.t("$vuetify.error_server"));e.$store.dispatch("showNotification",{status:!0,text:n}),a(s)})).then((function(){e.loading.list=!1,s()}))}))},setHeadersCash_movement:function(){this.headersCash_movement=[{text:"$vuetify.cash_movement.cols.code.title",value:"code",align:"start",sortable:!1,width:"15",class:"grey--text text--darken-3"},{text:"$vuetify.cash_movement.cols.type.title",value:"type",align:"start",sortable:!1,width:"50",class:"grey--text text--darken-3"},{text:"$vuetify.cash_movement.cols.name.title",value:"name",align:"start",sortable:!1,width:"50",class:"grey--text text--darken-3"},{text:"$vuetify.cash_movement.cols.motive.title",value:"motive",align:"start",sortable:!1,width:"20",class:"grey--text text--darken-3"},{text:"$vuetify.cash_movement.cols.expenses_nature.title",value:"name_movement",align:"start",sortable:!1,width:"30",class:"grey--text text--darken-3"},{text:"$vuetify.cash_movement.cols.amount_movement.title",value:"amount_movement",align:"start",sortable:!1,width:"30",class:"grey--text text--darken-3"},{text:"$vuetify.cash_movement.cols.created.title",value:"create_date",align:"start",sortable:!0,width:"105",class:"grey--text text--darken-3"}]},setHeadersSettlement:function(){this.headersSettlement=[{text:"$vuetify.patients_settlements.cols.code.title",value:"code",align:"start",sortable:!1,width:"15",class:"grey--text text--darken-3"},{text:"$vuetify.patients_settlements.cols.patient_name.title",value:"patient_name",align:"start",sortable:!1,width:"30",class:"grey--text text--darken-3"},{text:"$vuetify.patients_settlements.cols.current_balance.title",value:"patient_balance",align:"start",sortable:!1,width:"50",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.payment_method.title",value:"payment_method",align:"start",sortable:!1,width:"30",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.amount_received.title",value:"amount_received",align:"start",sortable:!0,width:"6",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.amount_paid.title",value:"amount_paid",align:"start",sortable:!0,width:"6",class:"grey--text text--darken-3"},{text:"$vuetify.patients_settlements.cols.new_balance.title",value:"new_balance",align:"start",sortable:!0,width:"50",class:"grey--text text--darken-3"},{text:"$vuetify.patients_settlements.cols.date.title",value:"date",align:"start",sortable:!0,width:"50",class:"grey--text text--darken-3"},{text:"$vuetify.patients_settlements.cols.actions.title",value:null,align:"start",sortable:!0,width:"140"}]},close:function(){this.dialogForm.shows.showInfo=!0,this.messages={title:"$vuetify.cash.cols.status.enabled",submit:"$vuetify.cash.update.submit",success:"$vuetify.cash.update.success"},this.$refs.closeCash.setForm(this.items[0].cash)},create:function(){this.dialogForm.show=!0,this.messages={title:"$vuetify.cash_movement.new.title",submit:"$vuetify.cash_movement.new.submit",success:"$vuetify.cash_movement.new.success"},this.form={id:null,type:null,name:null,motive:null,expenses_nature:null,code:null,is_active:!1}},createCash:function(){this.dialogFormCash.show=!0},editUser:function(t){this.dialogForm.show=!0,this.messages={title:"$vuetify.cash_movement.update.title",submit:"$vuetify.cash_movement.update.submit",success:"$vuetify.cash_movement.update.success"},this.$refs.userForm.setForm(t)},showFilter:function(){this.dialogForm.shows.showFilter=!0},performFilter:function(){var t=this;t.loading.list=!0;var e={};null!==t.filter.code&&(e["code"]=t.filter.code),null!==t.filter.role&&(e["role"]=t.filter.role),t._search=e,t.getItems().then((function(){t.$refs.filterForm.closeDialog()})).finally((function(){t.$refs.filterForm.stopLoadingBtn()}))},assignEnterprise:function(t){this.dialogEnt.show=!0,this.$refs.assignForm.setForm(t)}},components:{}},c=l,m=s("2877"),u=s("6544"),v=s.n(u),d=s("8336"),_=s("b0af"),f=s("cc20"),h=s("62ad"),y=s("8fea"),p=s("2e4b"),g=s("4bd4"),b=s("ce87"),x=s("132d"),$=s("e449"),w=s("0fd9"),k=s("8654"),C=s("3a2f"),F=Object(m["a"])(c,i,r,!1,null,"12ef1e56",null),S=F.exports;v()(F,{VBtn:d["a"],VCard:_["a"],VChip:f["a"],VCol:h["a"],VDataTable:y["a"],VDatePicker:p["a"],VForm:g["a"],VHover:b["a"],VIcon:x["a"],VMenu:$["a"],VRow:w["a"],VTextField:k["a"],VTooltip:C["a"]});var D={metaInfo:function(){return{title:this.$vuetify.lang.t("$vuetify.cash_movement.title")}},data:function(){return{}},components:{User:S}},A=D,E=Object(m["a"])(A,a,n,!1,null,null,null);e["default"]=E.exports}}]);
//# sourceMappingURL=chunk-2d0c1d1e.4b3a1d1d.js.map