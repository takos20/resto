(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf63ab78"],{a945:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"title mb-5 black--text lighten-5 text-center",staticStyle:{height:"30px","margin-top":"30px","background-color":"#e9eef4"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.storage_depots.list.title"))+" ")]),s("user",{attrs:{color:"black"}})],1)},i=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-card",{staticClass:"pb-4"},[s("div",{staticClass:"mt-5 mx-5"},[t._.includes(this.$auth.user().permissions,"add_storage_depots")?[s("v-btn",{staticClass:"mr-2 my-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.create()}}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-basket-fill")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.add"))+" ")],1)]:t._e(),s("v-btn",{staticClass:"mr-2 my-2",attrs:{loading:t.loading.refresh,depressed:"",color:"#f1f5fc"},on:{click:function(e){return t.refreshItems()}}},[s("v-icon",{attrs:{left:"",color:"primary"}},[t._v("mdi-refresh")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.refresh"))+" ")],1),s("v-spacer")],2)]),s("br"),s("v-card",{staticClass:"pb-4"},[s("v-card-title",[s("div",{staticClass:"title"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.storage_depots.filter"))+" ")])]),s("v-card-text",[s("v-row",{attrs:{wrap:""}},[s("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[s("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.storage_depots.cols.code.title"),"prepend-inner-icon":"mdi-code-array mdi-dark mdi-18px",outlined:"",dense:"",clearable:""},on:{input:t.performFilter},model:{value:t.filter.code,callback:function(e){t.$set(t.filter,"code",e)},expression:"filter.code"}})],1),s("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[s("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsUsers,loading:t.isLoading,"search-input":t.search,color:"primary","item-text":"username","item-value":"id",label:t.$vuetify.lang.t("$vuetify.storage_depots.cols.username.title"),"prepend-inner-icon":"mdi-account-outline mdi-dark mdi-18px",outlined:"",dense:"",clearable:""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},change:t.performFilter},model:{value:t.filter.username,callback:function(e){t.$set(t.filter,"username",e)},expression:"filter.username"}})],1),s("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[s("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.storage_depots.cols.name.title"),"prepend-inner-icon":"mdi-account mdi-dark mdi-18px",outlined:"",dense:"",clearable:""},on:{input:t.performFilter},model:{value:t.filter.name,callback:function(e){t.$set(t.filter,"name",e)},expression:"filter.name"}})],1)],1)],1)],1),s("v-card",[s("v-data-table",{staticClass:"mt-5",attrs:{"footer-props":{"items-per-page-options":t.itemPerPageOptions},headers:t.headers,items:t.items,"items-per-page":t.itemPerPage,loading:t.loading.list,options:t.pagination,"server-items-length":t.meta.totalElements,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"item-key":"name"},on:{"update:options":function(e){t.pagination=e}},scopedSlots:t._u([{key:"header.code",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.name",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.is_default",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.create_date",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"header.null",fn:function(e){var a=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(a.text))+" ")])]}},{key:"body",fn:function(e){var a=e.items;return[s("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.hover;return s("tbody",{},t._l(a,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"subtitle-2"},[t._v(t._s(e.code))]),s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.name)+" ")]),s("td",[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on;return[e.is_default?[s("v-icon",t._g({staticClass:"pointer",attrs:{color:"primary",dark:""}},i),[t._v(" mdi-check-circle ")])]:[s("v-icon",t._g({staticClass:"pointer",attrs:{color:"red accent-4",dark:""}},i),[t._v(" mdi-close-circle ")])]]}}],null,!0)})],1),s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.$moment(e.createdAt).format("YYYY-MM-DD"))+" "+t._s(e.timeAt)+" ")]),s("td",{staticClass:"subtitle-2"},[[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([t._.includes(t.$auth.user().permissions,"change_storage_depots")?{key:"activator",fn:function(a){var r=a.on;return[s("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.smAndDown||i,expression:"$vuetify.breakpoint.smAndDown || hover"}],attrs:{color:"secondary",icon:"",text:""},on:{click:function(s){return t.editUser(e)}}},r),[s("v-icon",[t._v("mdi-update")])],1)]}}:null],null,!0)},[s("span",[t._v(t._s(t.$vuetify.lang.t("$vuetify.btn.edit")))])]),s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([t._.includes(t.$auth.user().permissions,"view_stock_management")?{key:"activator",fn:function(a){var r=a.on;return[s("v-icon",t._g({directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.smAndDown||i,expression:"$vuetify.breakpoint.smAndDown || hover"}],attrs:{color:"secondary",dark:""},on:{click:function(s){return t.detailsStock(e)}}},r),[t._v(" mdi-clipboard-outline ")])]}}:null],null,!0)},[s("span",[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.stock_management.title"))+" ")])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([t._.includes(t.$auth.user().permissions,"delete_storage_depots")?{key:"activator",fn:function(a){var r=a.on;return[s("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.smAndDown||i,expression:"$vuetify.breakpoint.smAndDown || hover"}],attrs:{color:"red",icon:"",text:"",dark:""},on:{click:function(s){return t.deleteItem(e)}}},r),[s("v-icon",[t._v("mdi-delete-outline")])],1)]}}:null],null,!0)},[s("span",[t._v(t._s(t.$vuetify.lang.t("$vuetify.btn.remove")))])])]],2)])})),0)}}],null,!0)})]}}])}),s("form-user",{ref:"userForm",attrs:{dialog:t.dialogForm,form:t.form,messages:t.messages},on:{getItems:t.getItems}}),s("form-transfer",{ref:"transferForm",attrs:{dialog:t.dialogFormTransfer,form:t.form,messages:t.messages},on:{getItems:t.getItems}}),s("delete-item",{attrs:{dialog:t.dialogDelete,messages:t.messagesDelete,urlItems:t.urlDeleteItems},on:{getItems:t.getItems}})],1)],1)},o=[],n=(s("4de4"),s("b0c0"),s("d3b7"),s("24a2")),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{persistent:"","max-width":"780px"},model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[s("v-card",[s("v-card-title",[s("div",{staticClass:"title"},[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.title))+" ")])]),s("v-divider",{staticClass:"mx-4"}),s("v-form",{on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[s("v-card",[s("v-card-text",[s("v-container",[s("v-row",{attrs:{wrap:""}},[s("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"4"}},[s("v-text-field",{staticClass:"font-weight-bold",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.storage_depots.cols.code.title"),"prepend-inner-icon":"mdi-code-array mdi-dark mdi-18px",outlined:"",dense:"",filled:"",readonly:""},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1),s("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"-15px"},attrs:{cols:"12",sm:"5"}}),s("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"-15px"},attrs:{cols:"12",sm:"3"}},[s("v-switch",{attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.storage_depots.cols.is_default.title"),outlined:"",dense:""},model:{value:t.form.is_default,callback:function(e){t.$set(t.form,"is_default",e)},expression:"form.is_default"}})],1),s("v-col",{staticStyle:{"margin-top":"-25px"},attrs:{cols:"12"}},[s("v-card",{staticClass:"pa-4",attrs:{outlined:""}},[s("div",{staticClass:"d-flex align-center justify-space-between mb-4"},[s("div",[s("div",{staticClass:"text-h6 font-weight-bold"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.dish.language"))+" ")]),s("div",{staticClass:"grey--text text--darken-1 text-caption"},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.dish.language_description"))+" ")])]),s("v-btn",{attrs:{color:"primary",small:""},on:{click:t.addColumnLanguage}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.add"))+" ")],1)],1),s("v-divider",{staticClass:"mb-4"}),t._l(t.name_language,(function(e,a){return s("v-card",{key:a,staticClass:"mb-2 pa-2 rounded-lg",attrs:{outlined:""}},[s("v-row",{attrs:{dense:"",align:"center"}},[s("v-col",{attrs:{cols:"4"}},[s("v-select",{attrs:{items:t.optionLanguage.type_language,"item-text":"text","item-value":"value",outlined:"",dense:"","hide-details":"",label:t.$vuetify.lang.t("$vuetify.dish.cols.language.title")},model:{value:e.language,callback:function(s){t.$set(e,"language",s)},expression:"rule.language"}})],1),s("v-col",{attrs:{cols:"7"}},[s("v-text-field",{attrs:{outlined:"",dense:"","hide-details":"",label:t.$vuetify.lang.t("$vuetify.dish.cols.name.title")},model:{value:e.name,callback:function(s){t.$set(e,"name",s)},expression:"rule.name"}})],1),s("v-col",{staticClass:"d-flex justify-end",attrs:{cols:"1"}},[s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(e){return t.removeColumnLanguage(a)}}},[s("v-icon",[t._v("mdi-delete-outline")])],1)],1)],1)],1)}))],2)],1)],1)],1)],1),s("v-divider",{staticClass:"mx-4",staticStyle:{"margin-top":"-25px"}}),s("v-card-actions",[s("v-spacer"),s("v-btn",{on:{click:t.forceRefresh}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.close"))+" ")]),s("v-btn",{attrs:{color:"primary",loading:t.loading,dark:"",type:"submit"}},[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.submit))+" ")])],1)],1)],1)],1)],1)},u=[],c=(s("a434"),s("5530")),d=s("5ed4"),m={mixins:[d["a"]],props:{form:{type:Object,default:function(){return{id:null,is_default:null,code:null,name:null}}}},data:function(){return{formData:{id:null,name:null},name_language:[],optionsLanguages:{text:{language:"",name:"",saved:!1}},is_active:!0,optionLanguage:{type_language:[]},dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},urlItems:"storage_depots",urlUsers:"users",isLoading:!1,search:null,itemsUsers:[]}},watch:{search:function(t){var e=this;if(null!==t){var s={username:t,role:"RESPONSIBLE"},a=this;this.isLoading=!0,this.$store.dispatch("request",{url:a.urlUsers,params:s}).then((function(t){a.itemsUsers=t.data.content})).finally((function(){return e.isLoading=!1}))}}},created:function(){this.getOptionsLanguage()},validations:function(){var t={form:{}};return t},methods:{forceRefresh:function(){this.dialog.show=!1,this.name_language=[]},addColumnLanguage:function(){this.name_language.push(Object(c["a"])({},this.optionsLanguages.text))},removeColumnLanguage:function(t){this.name_language.splice(t,1)},getOptionsLanguage:function(){var t=this;this._.each(this.$store.getters.type_language,(function(e){t.optionLanguage.type_language.push({text:t.$vuetify.lang.t(e.text),value:e.value})}))},getDataForm:function(){var t={is_default:this.form.is_default,is_active:this.is_active,name_language:this.name_language};return t},setForm:function(t){this.form.id=t.id,this.form.code=t.code,this.form.is_default=t.is_default,this.name_language=t.name_language,this.form["oldname"]=t.name,this.is_active=t.is_active}},computed:{nameErrors:function(){var t=[];return this.$v.form.name.$dirty?(!this.$v.form.name.required&&t.push(this.$vuetify.lang.t("$vuetify.storage_depots.cols.name.required")),t):t}},components:{}},f=m,v=s("2877"),p=s("6544"),h=s.n(p),g=s("8336"),_=s("b0af"),y=s("99d9"),$=s("62ad"),b=s("a523"),x=s("169a"),w=s("ce7e"),k=s("4bd4"),C=s("132d"),D=s("0fd9"),L=s("b974"),q=s("2fa4"),V=s("b73d"),F=s("8654"),I=Object(v["a"])(f,l,u,!1,null,null,null),S=I.exports;h()(I,{VBtn:g["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:$["a"],VContainer:b["a"],VDialog:x["a"],VDivider:w["a"],VForm:k["a"],VIcon:C["a"],VRow:D["a"],VSelect:L["a"],VSpacer:q["a"],VSwitch:V["a"],VTextField:F["a"]});var E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{persistent:"","max-width":"780px"},model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[s("v-card",[s("v-card-title",[s("div",{staticClass:"title"},[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.title))+" ")])]),s("v-divider",{staticClass:"mx-4"}),s("v-form",{staticStyle:{"margin-top":"15px"}},[s("v-card-text",[s("v-row",{attrs:{wrap:""}},[s("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[s("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsDepot,loading:t.isLoadingDepot,"search-input":t.searchDepot,color:"primary","item-text":"name","item-value":"id",label:t.$vuetify.lang.t("$vuetify.bills.cols.storage_depot_transmitter.title"),"prepend-inner-icon":"mdi-archive mdi-dark mdi-18px",outlined:"",dense:"",clearable:""},on:{"update:searchInput":function(e){t.searchDepot=e},"update:search-input":function(e){t.searchDepot=e}},model:{value:t.form.storage_depot_transmitter,callback:function(e){t.$set(t.form,"storage_depot_transmitter",e)},expression:"form.storage_depot_transmitter"}})],1),s("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[s("v-autocomplete",{staticClass:"font-weight-bold",staticStyle:{"max-width":"250px"},attrs:{items:t.itemsProduct,loading:t.isLoading,"search-input":t.search,color:"primary","item-text":"product_name","item-value":"id","return-object":"",label:t.$vuetify.lang.t("$vuetify.bills.cols.product_name_transmitter.title"),outlined:"",dense:"",clearable:"",readonly:null===t.form.storage_depot_transmitter},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.form.details_stock,callback:function(e){t.$set(t.form,"details_stock",e)},expression:"form.details_stock"}})],1),s("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[s("v-text-field",{staticClass:"font-weight-bold ml-1",staticStyle:{"max-width":"180px"},attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.supplies.cols.product_code.title"),outlined:"",dense:"",value:t.get_product_code,readonly:"",filled:""}})],1),s("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[s("v-text-field",{staticClass:"font-weight-bold ml-1",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.quantity_transmitter.title"),outlined:"",dense:"",type:"number",rules:[t.numberRuleQte],min:"0"},model:{value:t.form.quantity_transmitter,callback:function(e){t.$set(t.form,"quantity_transmitter",e)},expression:"form.quantity_transmitter"}})],1)],1)],1),s("br"),s("v-divider",{staticClass:"mx-4",staticStyle:{"margin-top":"-15px"}}),s("br"),s("v-card-text",[s("v-row",{attrs:{wrap:""}},[s("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[s("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsDepot2,loading:t.isLoadingDepot2,"search-input":t.searchDepot2,color:"primary","item-text":"name","item-value":"id",label:t.$vuetify.lang.t("$vuetify.bills.cols.storage_depot_receiver.title"),"prepend-inner-icon":"mdi-archive mdi-dark mdi-18px",outlined:"",dense:"",clearable:""},on:{"update:searchInput":function(e){t.searchDepot2=e},"update:search-input":function(e){t.searchDepot2=e}},model:{value:t.form.storage_depot_receiver,callback:function(e){t.$set(t.form,"storage_depot_receiver",e)},expression:"form.storage_depot_receiver"}})],1),s("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[s("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsProduct2,loading:t.isLoading2,"search-input":t.search2,color:"primary","item-text":"product_name","item-value":"id","return-object":"",label:t.$vuetify.lang.t("$vuetify.bills.cols.product_name_receiver.title"),outlined:"",dense:"",clearable:"",readonly:t.form.storage_depot_receiver===t.form.storage_depot_transmitter},on:{"update:searchInput":function(e){t.search2=e},"update:search-input":function(e){t.search2=e}},model:{value:t.form.details_stock2,callback:function(e){t.$set(t.form,"details_stock2",e)},expression:"form.details_stock2"}})],1),s("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[s("v-text-field",{staticClass:"font-weight-bold ml-1",staticStyle:{"max-width":"180px"},attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.supplies.cols.product_code.title"),outlined:"",dense:"",value:t.get_product_code2,readonly:"",filled:""}})],1),s("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"3"}},[s("v-text-field",{staticClass:"font-weight-bold ml-1",attrs:{color:"primary",label:t.$vuetify.lang.t("$vuetify.bills.cols.quantity_receiver.title"),outlined:"",dense:"",type:"number",rules:[t.numberRuleQte2],min:"0",readonly:t.form.details_stock!==t.form.details_stock2},model:{value:t.form.quantity_receiver,callback:function(e){t.$set(t.form,"quantity_receiver",e)},expression:"form.quantity_receiver"}})],1)],1)],1),s("v-divider",{staticClass:"mx-4",staticStyle:{"margin-top":"-15px"}}),s("v-card-actions",[s("v-spacer"),s("v-btn",{on:{click:function(e){t.dialog.show=!1}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.close"))+" ")]),s("v-btn",{attrs:{color:"primary",loading:t.loading,dark:"",type:"submit"}},[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.submit))+" ")])],1)],1)],1)],1)},T=[],O=(s("b64b"),s("b5ae")),P={mixins:[d["a"]],props:{form:{type:Object,default:function(){return{id:null,details_stock:null,details_stock2:null,quantity_transmitter:null,quantity_receiver:null,storage_depot_transmitter:null,storage_depot_receiver:null}}}},data:function(){return{formData:{id:null,name:null},is_active:!0,dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},isLoadingDepot:!1,isLoadingDepot2:!1,isLoading2:!1,search2:null,searchDepot:null,searchDepot2:null,itemsDepot:[],itemsDepot2:[],itemsProduct:[],itemsProduct2:[],urlDepot:"storage_depots",product_public_price:"",urlProduct:"products/get_products",isLoading:!1,search:null,numberRuleQte:function(t){return!(t<0)||"Entrer un nombre positif"},numberRuleQte2:function(t){return!(t<0)||"Entrer un nombre positif"},itemsUsers:[]}},watch:{search:function(t){var e=this;if(null!==t){var s={name:t},a=this;this.isLoading=!0,this.$store.dispatch("request",{url:a.urlProduct+"?storage_depots="+this.form.storage_depot_transmitter,params:s}).then((function(t){a.itemsProduct=t.data.content})).finally((function(){return e.isLoading=!1}))}},search2:function(t){var e=this;if(null!==t){var s={name:t},a=this;this.isLoading2=!0,this.$store.dispatch("request",{url:a.urlProduct+"?storage_depots="+this.form.storage_depot_receiver,params:s}).then((function(t){a.itemsProduct2=t.data.content})).finally((function(){return e.isLoading2=!1}))}},searchDepot:function(t){var e=this;if(null!==t){var s={name:t},a=this;this.isLoadingDepot=!0,this.$store.dispatch("request",{url:a.urlDepot,params:s}).then((function(t){a.itemsDepot=t.data.content})).finally((function(){return e.isLoadingDepot=!1}))}},searchDepot2:function(t){var e=this;if(null!==t){var s={name:t},a=this;this.isLoadingDepot2=!0,this.$store.dispatch("request",{url:a.urlDepot,params:s}).then((function(t){a.itemsDepot2=t.data.content})).finally((function(){return e.isLoadingDepot2=!1}))}}},created:function(){},validations:function(){var t={form:{name:{required:O["required"],maxLength:Object(O["maxLength"])(255),minLength:Object(O["minLength"])(3)}}};return t},methods:{getDataForm:function(){var t={storage_depot_transmitter:this.form.storage_depot_transmitter,storage_depot_receiver:this.form.storage_depot_receiver,quantity_receiver:this.form.quantity_receiver,quantity_transmitter:this.form.quantity_transmitter,details_stock:this.form.details_stock,details_stock2:this.form.details_stock2};return t},setForm:function(t){this.form.id=t.id,this.form.code=t.code,this.form.default_depot=t.default_depot,this.form.name=t.name,this.form["oldname"]=t.name,this.form.name_responsible=t.name_responsible,this.quantity_receiver=t.quantity_receiver,this.quantity_transmitter=t.quantity_transmitter,this.form.username=t.username["id"],this.itemsUsers.push(t.username)},save:function(){var t=this;this.$store.dispatch("showNotification",{statut:!1});var e=this;e.$v.$touch(),e.$v.$invalid||(this.loading=!0,this.$store.dispatch("request",{url:e.getRoute(),method:e.getMethod(),data:e.getDataForm()}).then((function(){e.$store.dispatch("showNotification",{statut:!0,text:e.$vuetify.lang.t(e.messages.success)}),"PUT"===t.getMethod()?e.$emit("getItems"):(e.$emit("getItems"),e.resetDataForm())})).catch((function(s){var a="$vuetify.error_server";if(s.response&&400===s.response.status){var i=s.response.data;e.setFormErrors(i),t.$forceUpdate();var r=Object.keys(i)[0];r&&Array.isArray(i[r])&&(a=i[r][0])}e.$store.dispatch("showNotification",{statut:!0,text:a,color:"#B71C1C"})})).finally((function(){e.loading=!1})))}},computed:{get_product_code:function(){var t,e,s="";s=null===this.form.details_stock||void 0===this.form.details_stock?"":null===(t=this.form.details_stock)||void 0===t?void 0:t.product.code;var a="";a=null===this.form.details_stock||void 0===this.form.details_stock?"":null===(e=this.form.details_stock)||void 0===e?void 0:e.qte_stock;var i="";return i=s+"  /  "+a,i},get_product_code2:function(){var t,e,s="";s=null===this.form.details_stock2||void 0===this.form.details_stock2?"":null===(t=this.form.details_stock2)||void 0===t?void 0:t.product.code;var a="";a=null===this.form.details_stock2||void 0===this.form.details_stock2?"":null===(e=this.form.details_stock2)||void 0===e?void 0:e.qte_stock;var i="";return i=s+"  /  "+a,i},roleErrors:function(){var t=[];return this.$v.form.role.$dirty?(!this.$v.form.role.required&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.role.required")),t):t},usernameErrors:function(){var t=[];return this.$v.form.username.$dirty?(!this.$v.form.username.required&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.username.required")),!this.$v.form.username.minLength&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.username.minLength",this.$v.form.username.$params.minLength.min)),!this.$v.form.username.maxLength&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.username.maxLength",this.$v.form.username.$params.maxLength.max)),!this.$v.form.username.unique&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.username.unique")),t):t},passwordErrors:function(){var t=[];return this.$v.form.password.$dirty?(!this.$v.form.password.required&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.password.required")),t):t},rePasswordErrors:function(){var t=[];return this.$v.form.re_password.$dirty?(!this.$v.form.re_password.sameAsPassword&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.re_password.error")),t):t},firstnameErrors:function(){var t=[];return this.$v.form.code_user.$dirty?(!this.$v.form.code_user.required&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.code_user.required")),!this.$v.form.code_user.maxLength&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.code_user.maxLength",this.$v.form.code_user.$params.maxLength.max)),t):t},lastnameErrors:function(){var t=[];return this.$v.form.position_held.$dirty?(!this.$v.form.position_held.required&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.position_held.required")),!this.$v.form.position_held.maxLength&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.position_held.maxLength",this.$v.form.position_held.$params.maxLength.max)),t):t},emailErrors:function(){var t=[];return this.$v.form.email.$dirty?(!this.$v.form.email.required&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.email.required")),!this.$v.form.email.maxLength&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.email.invalid")),!this.$v.form.email.email&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.email.invalid")),!this.$v.form.email.unique&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.email.unique")),t):t},phoneErrors:function(){var t=[];return this.$v.form.phone.$dirty?(!this.$v.form.phone.phoneR&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.phone.invalid")),!this.$v.form.phone.unique&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.phone.unique")),t):t},other_phoneErrors:function(){var t=[];return this.$v.form.other_phone.$dirty?(!this.$v.form.other_phone.phoneR&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.phone.invalid")),!this.$v.form.other_phone.unique&&t.push(this.$vuetify.lang.t("$vuetify.users.cols.phone.unique")),t):t}},components:{}},j=P,U=s("c6a6"),A=Object(v["a"])(j,E,T,!1,null,null,null),R=A.exports;h()(A,{VAutocomplete:U["a"],VBtn:g["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:$["a"],VDialog:x["a"],VDivider:w["a"],VForm:k["a"],VRow:D["a"],VSpacer:q["a"],VTextField:F["a"]});var B=s("cd41"),N={mixins:[n["a"]],data:function(){return{urlItems:"/storage_depots",sortBy:["id"],dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogFormTransfer:{show:!1,shows:{showFilter:!1,showInfo:!1}},urlUsers:"users",isLoading:!1,search:null,itemsUsers:[],dialogDelete:{show:!1},dialogDetail:{show:!1},dialogEnt:{show:!1},form:{id:null,type:null,email:null,code:null,password:null,role:null,is_active:null},filter:{code:null,role:null},messages:{title:"",submit:"",success:""},messagesDelete:{success:"$vuetify.storage_depots.delete.success"}}},watch:{search:function(t){var e=this;if(null!==t){var s={username:t,role:"RESPONSIBLE"},a=this;this.isLoading=!0,this.$store.dispatch("request",{url:a.urlUsers,params:s}).then((function(t){a.itemsUsers=t.data.content})).finally((function(){return e.isLoading=!1}))}}},methods:{setHeaders:function(){this.headers=[{text:"$vuetify.storage_depots.cols.code.title",value:"code",align:"start",sortable:!0,width:"15",class:"grey--text text--darken-3"},{text:"$vuetify.storage_depots.cols.name.title",value:"name",align:"start",sortable:!0,width:"50",class:"grey--text text--darken-3"},{text:"$vuetify.storage_depots.cols.is_default.title",value:"is_default",align:"start",sortable:!0,width:"1",class:"grey--text text--darken-3"},{text:"$vuetify.storage_depots.cols.created.title",value:"create_date",align:"start",sortable:!0,width:"105",class:"grey--text text--darken-3"},{text:"$vuetify.storage_depots.cols.actions.title",value:null,align:"start",sortable:!0,width:"40"}]},create:function(){this.dialogForm.show=!0,this.messages={title:"$vuetify.storage_depots.new.title",submit:"$vuetify.storage_depots.new.submit",success:"$vuetify.storage_depots.new.success"},this.form={id:null,name:null,name_responsible:null,username:null,code:null,is_active:!1}},createTransfer:function(){this.dialogFormTransfer.show=!0,this.messages={title:"$vuetify.storage_depots.new.title",submit:"$vuetify.storage_depots.new.submit",success:"$vuetify.storage_depots.new.success"},this.form={id:null,name:null,name_responsible:null,username:null,code:null,is_active:!1}},detailsStock:function(t){this.$router.push({name:"details_stock_management",params:{id:t.id,name:t.name}})},editUser:function(t){this.dialogForm.show=!0,this.messages={title:"$vuetify.storage_depots.update.title",submit:"$vuetify.storage_depots.update.submit",success:"$vuetify.storage_depots.update.success"},this.$refs.userForm.setForm(t)},showFilter:function(){this.dialogForm.shows.showFilter=!0},performFilter:function(){var t=this;t.loading.list=!0;var e={};null!==t.filter.code&&(e["code"]=t.filter.code),null!==t.filter.name&&(e["name"]=t.filter.name),null!==t.filter.username&&(e["username"]=t.filter.username),t._search=e,t.getItems().then((function(){t.$refs.filterForm.closeDialog()})).finally((function(){t.$refs.filterForm.stopLoadingBtn()}))},assignEnterprise:function(t){this.dialogEnt.show=!0,this.$refs.assignForm.setForm(t)}},components:{FormUser:S,FormTransfer:R,DeleteItem:B["a"]}},M=N,Q=s("8fea"),Y=s("ce87"),H=s("3a2f"),J=Object(v["a"])(M,r,o,!1,null,"fad3c59a",null),z=J.exports;h()(J,{VAutocomplete:U["a"],VBtn:g["a"],VCard:_["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:$["a"],VDataTable:Q["a"],VHover:Y["a"],VIcon:C["a"],VRow:D["a"],VSpacer:q["a"],VTextField:F["a"],VTooltip:H["a"]});var G={metaInfo:function(){return{title:this.$vuetify.lang.t("$vuetify.storage_depots.title")}},data:function(){return{}},components:{User:z}},K=G,W=Object(v["a"])(K,a,i,!1,null,null,null);e["default"]=W.exports},cd41:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[s("v-card",[s("v-card-text",[s("v-divider",{staticClass:"mx-4"}),s("v-card-text",[s("div",{staticClass:"body-1 font-weight-bold"},[s("br"),s("h3",[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.delete.confirm"))+" ")])])])],1),s("v-divider",{staticClass:"mx-4",staticStyle:{"margin-top":"-30px"}}),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{disabled:t.loading},on:{click:function(e){t.dialog.show=!1}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.no"))+" ")]),s("v-btn",{attrs:{loading:t.loading,dark:"",color:"#0984e3"},on:{click:function(e){return t.deleteItem()}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.yes"))+" ")])],1)],1)],1)},i=[],r={props:{dialog:{type:Object,default:function(){return{show:!1}}},urlItems:{type:String,default:""},messages:{type:Object,default:function(){return{success:""}}}},data:function(){return{loading:!1}},methods:{deleteItem:function(){var t=this;this.loading=!0,this.$store.dispatch("request",{url:t.urlItems,method:"DELETE",data:t.urlDeleteItems}).then((function(){t.$store.dispatch("showNotification",{statut:!0,text:t.$vuetify.lang.t(t.messages.success)}),t.$emit("getItems"),t.dialog.show=!1})).catch((function(e){console.log("erreur delete",e),t.$store.dispatch("showNotification",{statut:!0,text:t.$vuetify.lang.t("$vuetify.deletedErrors")})})).then((function(){t.loading=!1}))}}},o=r,n=s("2877"),l=s("6544"),u=s.n(l),c=s("8336"),d=s("b0af"),m=s("99d9"),f=s("169a"),v=s("ce7e"),p=s("2fa4"),h=Object(n["a"])(o,a,i,!1,null,null,null);e["a"]=h.exports;u()(h,{VBtn:c["a"],VCard:d["a"],VCardActions:m["a"],VCardText:m["b"],VDialog:f["a"],VDivider:v["a"],VSpacer:p["a"]})}}]);
//# sourceMappingURL=chunk-bf63ab78.964d8dc8.js.map