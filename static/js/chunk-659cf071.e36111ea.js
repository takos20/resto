(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-659cf071"],{"40f2":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t._.includes(t.$auth.user().permissions,"view_dashboard_secretariat")?a("v-app",{style:{background:t.$vuetify.theme.themes.dark.background},attrs:{id:"inspire"}},[a("br"),a("v-card",{attrs:{height:"50px",flat:"",color:"#FAFAFA"}},[a("v-card-text",[a("v-row",{attrs:{wrap:""}},[a("v-col",{staticStyle:{"margin-top":"-10px"},attrs:{cols:"12",sm:"2"}},[a("v-btn",{staticClass:"font-weight-bold white--text",attrs:{depressed:"",color:"btn_logout"},on:{click:function(e){return t.refreshItems()}}},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-refresh")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.refresh"))+" ")],1)],1),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"-10px"},attrs:{cols:"12",sm:"5"}}),a("v-col",{staticClass:"mb-0 py-0",staticStyle:{"margin-top":"5px"},attrs:{cols:"12",sm:"5"}},[a("v-btn",{staticClass:"font-weight-bold white--text",attrs:{depressed:"",color:"btn_logout"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.statistics.employee_number"))+": "+t._s(this.employee_number)+" ")])],1)],1)],1)],1),a("br"),a("v-row",[a("v-col",{staticClass:"mb-0 py-0 mt-2",attrs:{cols:"12",sm:"4"}},[a("v-card",{attrs:{height:"",flat:"",color:"#FAFAFA"}},[a("h3",{attrs:{align:"center"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.statistics.employee_gender"))+" ")]),a("canvas",{attrs:{height:"1vh",id:"employee_gender_chart"}})])],1),a("v-col",{staticClass:"mb-0 py-0 mt-2",attrs:{cols:"12",sm:"4"}},[a("v-card",{attrs:{height:"",flat:"",color:"#FAFAFA"}},[a("h3",{attrs:{align:"center"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.statistics.employee_department"))+" ")]),a("canvas",{attrs:{height:"1vh",id:"employee_department_chart"}})])],1),a("v-col",{staticClass:"mb-0 py-0 mt-2",attrs:{cols:"12",sm:"4"}},[a("v-card",{attrs:{height:"",flat:"",color:"#FAFAFA"}},[a("h3",{attrs:{align:"center"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.statistics.employee_type_contract"))+" ")]),a("canvas",{attrs:{height:"1vh",id:"employee_type_chart"}})])],1)],1)],1):t._e()},l=[],o=(a("d3b7"),a("ddb0"),a("b85c")),r=a("24a2"),n=a("796e"),i=a("f2d9"),c=a("2b0e");c["a"].component("downloadExcel",i["a"]);var d=a("21a6"),p={mixins:[r["a"]],name:"Home",props:{form:{type:Object,default:function(){return{id:null,date_month:null}}}},data:function(){return{urlItemsStatEmployee:"/employees/statistics",urlItemsDays:"/patients/days_patients",urlItemsDaysAppointment:"/appointments/days_appointment",items:[],itemsDays:[],itemsDaysAppointment:[],json_fields:{Date:"days",CA:"turnover"},labels:[],values:[],urlItemsAppointments:"/appointments",sortBy:["id"],maxDate:(new Date).toISOString().substr(0,10),loading:{list:!1,refresh:!1,filter:!1},loadingAppointment:{list:!1,refresh:!1,filter:!1},employee_number:null,menu7:!1,menu6:!1,labelsPatient:[],valuesPatient:[],labelsShape:[],valuesShape:[],labelsDoctor:[],valuesDoctor:[],labelsDays:[],valuesDays:[]}},mounted:function(){this.getItems()},methods:{setHeadersWaiting:function(){this.headersWaiting=[{text:"$vuetify.prescription.cols.patient.title",value:"name_patient",align:"start",sortable:!0,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.patient.cols.age.title",value:"age",align:"start",sortable:!0,width:"20",class:"grey--text text--darken-3"}]},setHeaders:function(){this.headers=[{text:"$vuetify.prescription.cols.patient.title",value:"name_patient",align:"start",sortable:!0,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.patient.cols.patient_shape.title",value:"patient_shape",align:"start",sortable:!0,width:"50",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.dealing_with.title",value:"name_doctor",align:"start",sortable:!0,width:"100",class:"grey--text text--darken-3"},{text:"$vuetify.appointment.cols.appointment_status.title",value:"appointment_status",align:"start",sortable:!0,width:"30",class:"grey--text text--darken-3"},{text:"$vuetify.appointment.cols.appointment_hour.title",value:"appointment_hour",align:"start",sortable:!0,width:"130",class:"grey--text text--darken-3"}]},refreshItems:function(){this.getItems()},export_image_month_day:function(){var t=document.getElementById("day_chart").toDataURL("image/png"),e=document.createElement("a");e.download="image",e.href=t,e.click()},getMethod:function(){return this.form.id?"PUT":"POST"},export_month_day:function(){var t=this,e={type:"pdf"};this._.isEmpty(this._search)||(this._search=this._.merge(e,this._search)),t.$store.dispatch("request",{url:t.urlItemsDays,params:e,data:t.getDataForm(),method:t.getMethod(),responseType:"blob"}).then((function(t){var e="Statistiques mensuel",a=new Blob([t.data],{type:t.data.type});d.saveAs(a,e)})),this.$store.dispatch("showNotification",{statut:!1})},getDataForm:function(){var t={date_month:this.form.date_month};return t},getItems:function(){var t=this,e=this;return new Promise((function(a){e.$store.dispatch("request",{url:e.urlItemsStatEmployee,method:"GET"}).then((function(s){var l=s.data;e.items=l.content,e.employee_number=l.content.employee,t.labels=[],t.values=[];var r=n["a"].getChart("employee_gender_chart");void 0!==r&&r.destroy(),t.labelsPatient=[],t.valuesPatient=[];var i=n["a"].getChart("employee_type_chart");void 0!==i&&i.destroy(),t.labelsShape=[],t.valuesShape=[];var c=n["a"].getChart("employee_department_chart");void 0!==c&&c.destroy(),t.labelsDoctor=[],t.valuesDoctor=[];var d,p=Object(o["a"])(l.content.employee_gender);try{for(p.s();!(d=p.n()).done;){var u=d.value;t.labelsPatient.push(t.$vuetify.lang.t("$vuetify.users.cols.gender."+u.type)),t.valuesPatient.push(u.total)}}catch(g){p.e(g)}finally{p.f()}new n["a"](document.getElementById("employee_gender_chart"),{type:"pie",data:{labels:t.labelsPatient,datasets:[{label:"Total",backgroundColor:["#3a90cd","#add8e6","#848482","#b38b6d","#ffd1dc","#fc8eac","#fffe7a"],borderColor:["#E9EEF4"],data:t.valuesPatient,borderWidth:3}]},options:{plugins:{datalabels:{display:!0,align:"middle",color:"white",font:{size:15}}}}});var m,h=Object(o["a"])(l.content.employee_type_contract);try{for(h.s();!(m=h.n()).done;){var y=m.value;t.labelsShape.push(y.type),t.valuesShape.push(y.total)}}catch(g){h.e(g)}finally{h.f()}new n["a"](document.getElementById("employee_type_chart"),{type:"pie",data:{labels:t.labelsShape,datasets:[{label:"Total",backgroundColor:["#3a90cd","#add8e6","#848482","#b38b6d","#ffd1dc","#fc8eac","#fffe7a"],borderColor:["#E9EEF4"],data:t.valuesShape,borderWidth:3}]},options:{plugins:{datalabels:{display:!0,align:"middle",color:"white",font:{size:15}}}}});var v,f=Object(o["a"])(l.content.employee_service);try{for(f.s();!(v=f.n()).done;){var b=v.value;t.labelsDoctor.push(b.service_name),t.valuesDoctor.push(b.total)}}catch(g){f.e(g)}finally{f.f()}new n["a"](document.getElementById("employee_department_chart"),{type:"pie",data:{labels:t.labelsDoctor,datasets:[{label:"Total",backgroundColor:["#3a90cd","#add8e6","#848482","#b38b6d","#ffd1dc","#fc8eac","#fffe7a"],borderColor:["#E9EEF4"],data:t.valuesDoctor,borderWidth:3}]},options:{plugins:{datalabels:{display:!0,align:"middle",color:"white",font:{size:15}}}}}),a(s)}))}))}},components:{}},u=p,m=(a("9d9a"),a("2877")),h=a("6544"),y=a.n(h),v=a("7496"),f=a("8336"),b=a("b0af"),g=a("99d9"),_=a("62ad"),w=a("132d"),x=a("0fd9"),$=Object(m["a"])(u,s,l,!1,null,"27bbd2bc",null);e["default"]=$.exports;y()($,{VApp:v["a"],VBtn:f["a"],VCard:b["a"],VCardText:g["b"],VCol:_["a"],VIcon:w["a"],VRow:x["a"]})},"490ae":function(t,e,a){},"9d9a":function(t,e,a){"use strict";var s=a("490ae"),l=a.n(s);l.a}}]);
//# sourceMappingURL=chunk-659cf071.e36111ea.js.map