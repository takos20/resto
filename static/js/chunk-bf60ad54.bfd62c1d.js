(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf60ad54"],{ca4a:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"title mb-5 black--text lighten-5 text-center",staticStyle:{height:"30px","margin-top":"30px","background-color":"#e9eef4"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.patients_settlements.list.title"))+" ")]),s("user",{attrs:{color:"black"}})],1)},a=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[!1===this.isActive?s("div",{staticClass:"title mb-5 black--text red lighten-5 text-right",staticStyle:{height:"30px","margin-top":"30px"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.cash_movement.title_warning_cash"))+" ")]):t._e(),s("v-card",{staticClass:"pb-4"},[s("div",{staticClass:"mt-5 mx-5"},[[!0===this.isActive?s("v-btn",{staticClass:"mr-2 my-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.create()}}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-account-star")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.add"))+" ")],1):t._e()],s("v-btn",{staticClass:"mr-2 my-2",attrs:{loading:t.loading.refresh,depressed:"",color:"#f1f5fc"},on:{click:function(e){return t.refreshItems()}}},[s("v-icon",{attrs:{left:"",color:"primary"}},[t._v("mdi-refresh")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.refresh"))+" ")],1),s("v-btn",{staticClass:"mr-2 my-2",attrs:{color:"#f1f5fc",depressed:""},on:{click:function(e){return t.showFilter()}}},[s("v-icon",{attrs:{color:"primary",left:""}},[t._v("mdi-filter-outline")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.patients_settlements.btn.filter.title"))+" ")],1),s("v-spacer")],2)]),s("v-card",[s("v-data-table",{staticClass:"mt-5",attrs:{"footer-props":{"items-per-page-options":t.itemPerPageOptions},headers:t.headers,items:t.items,"items-per-page":t.itemPerPage,loading:t.loading.list,options:t.pagination,"server-items-length":t.meta.totalElements,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"item-key":"name"},on:{"update:options":function(e){t.pagination=e}},scopedSlots:t._u([{key:"header.code",fn:function(e){var n=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(n.text))+" ")])]}},{key:"header.date",fn:function(e){var n=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(n.text))+" ")])]}},{key:"header.code_patient",fn:function(e){var n=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(n.text))+" ")])]}},{key:"header.patient_name",fn:function(e){var n=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(n.text))+" ")])]}},{key:"header.amount_received",fn:function(e){var n=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(n.text))+" ")])]}},{key:"header.amount_paid",fn:function(e){var n=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(n.text))+" ")])]}},{key:"header.payment_method",fn:function(e){var n=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(n.text))+" ")])]}},{key:"header.null",fn:function(e){var n=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(n.text))+" ")])]}},{key:"body",fn:function(e){var n=e.items;return[s("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.hover;return s("tbody",{},t._l(n,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"subtitle-2"},[t._v(t._s(e.code))]),s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.$moment(e.date).format("YYYY-MM-DD HH:mm:ss"))+" ")]),s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.patient.code)+" ")]),s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.patient.name)+" ")]),s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.amount_received)+" ")]),s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.amount_paid)+" ")]),s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.payment_method)+" ")]),s("td",{staticClass:"subtitle-2"},[[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([t._.includes(t.$auth.user().permissions,"edit_patient_settlement")?{key:"activator",fn:function(n){var i=n.on;return[s("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.smAndDown||a,expression:"$vuetify.breakpoint.smAndDown || hover"}],attrs:{color:"secondary",icon:"",text:""},on:{click:function(s){return t.editPatients_settlements(e)}}},i),[s("v-icon",[t._v("mdi-update")])],1)]}}:null],null,!0)},[s("span",[t._v(t._s(t.$vuetify.lang.t("$vuetify.btn.edit")))])])]],2)])})),0)}}],null,!0)})]}}])}),s("form-settlements",{ref:"patients_settlementsForm",attrs:{dialog:t.dialogForm,form:t.form,messages:t.messages},on:{getItems:t.getItems}}),s("delete-item",{attrs:{dialog:t.dialogDelete,messages:t.messagesDelete,urlItems:t.urlDeleteItems},on:{getItems:t.getItems}})],1)],1)},l=[],r=(s("4de4"),s("b64b"),s("d3b7"),s("24a2")),o=s("9b88"),u=s("cd41"),c={mixins:[r["a"]],data:function(){return{urlItems:"patients_settlements",sortBy:["id"],dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},isActive:!1,dialogDelete:{show:!1},dialogDetail:{show:!1},dialogEnt:{show:!1},form:{id:null,patient:null,doctor:null,patient_name:null,patient_balance:null,net_payable:null,patient_type:null,pub:null,pun:null,amount_gross:null,quantity_ordered:null,amount_net:null,total_amount:null,quantity_served:null,product:null,delivery:null,patients_settlements:null,reference_no:null,additional_info:null,patients_settlements_amount:null,code:null,cashier:null,bill_type:null,advances:null,bill_shape:null,storage_depots:null},filter:{name:null,role:null},messages:{title:"",submit:"",success:""},messagesDelete:{success:"$vuetify.patients_settlements.delete.success"}}},mounted:function(){this.getItems()},methods:{getItems:function(){var t=this,e=this,s=this.pagination,n=s.page,a=s.itemsPerPage,i={page:n,size:a};return this._.isEmpty(this._search)||(this._search=this._.merge(i,this._search)),new Promise((function(s,n){t.loading.list=!0,e.$store.dispatch("request",{url:e.urlItems,params:i}).then((function(n){var a=n.data;e.items=a.content,0!==e.items.length?t.isActive=!0:t.isActive=!1,e.meta={totalElements:a.totalElements},s(n)})).catch((function(s){var a=t.$vuetify.lang.t("$vuetify.error_occured");if(s.response)if(400===s.response.status){var i=s.response.data;e.setFormErrors(i);var l=Object.keys(i)[0];l&&Array.isArray(i[l])&&(a=i[l][0])}else 403===s.response.status?a=e.$vuetify.lang.t("$vuetify.error_denied"):500===s.response.status&&(a=e.$vuetify.lang.t("$vuetify.error_server"));e.$store.dispatch("showNotification",{status:!0,text:a}),n(s)})).then((function(){e.loading.list=!1,s()}))}))},setHeaders:function(){this.headers=[{text:"$vuetify.patients_settlements.cols.code.title",value:"code",align:"start",sortable:!0,width:"15",class:"grey--text text--darken-3"},{text:"$vuetify.patients_settlements.cols.date.title",value:"date",align:"start",sortable:!0,width:"50",class:"grey--text text--darken-3"},{text:"$vuetify.patients_settlements.cols.code_patient.title",value:"code_patient",align:"start",sortable:!0,width:"50",class:"grey--text text--darken-3"},{text:"$vuetify.patients_settlements.cols.patient_name.title",value:"patient_name",align:"start",sortable:!0,width:"30",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.amount_received.title",value:"amount_received",align:"start",sortable:!0,width:"6",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.amount_paid.title",value:"amount_paid",align:"start",sortable:!0,width:"6",class:"grey--text text--darken-3"},{text:"$vuetify.bills.cols.payment_method.title",value:"payment_method",align:"start",sortable:!0,width:"6",class:"grey--text text--darken-3"},{text:"$vuetify.patients_settlements.cols.actions.title",value:null,align:"start",sortable:!0,width:"140"}]},create:function(){this.dialogForm.show=!0,this.messages={title:"$vuetify.patients_settlements.new.title",submit:"$vuetify.patients_settlements.new.submit",success:"$vuetify.patients_settlements.new.success"},this.form={id:null,patient:null,doctor:null,patient_name:null,patient_balance:null,net_payable:null,patient_type:null,pub:null,pun:null,amount_gross:null,quantity_ordered:null,amount_net:null,total_amount:null,quantity_served:null,product:null,delivery:null,patients_settlements:null,reference_no:null,additional_info:null,patients_settlements_amount:null,code:null,cashier:null,bill_type:null,advances:null,bill_shape:null,storage_depots:null}},editPatients_settlements:function(t){this.dialogForm.show=!0,this.messages={title:"$vuetify.patients_settlements.update.title",submit:"$vuetify.patients_settlements.update.submit",success:"$vuetify.patients_settlements.update.success"},this.$refs.patients_settlementsForm.setForm(t)},showFilter:function(){this.dialogForm.shows.showFilter=!0},performFilter:function(){var t=this;t.loading.list=!0;var e={};null!==t.filter.patients_settlementsname&&(e["patients_settlementsname"]=t.filter.patients_settlementsname),null!==t.filter.role&&(e["role"]=t.filter.role),t._search=e,t.getItems().then((function(){t.$refs.filterForm.closeDialog()})).finally((function(){t.$refs.filterForm.stopLoadingBtn()}))}},components:{FormSettlements:o["a"],DeleteItem:u["a"]}},d=c,m=s("2877"),f=s("6544"),v=s.n(f),_=s("8336"),p=s("b0af"),h=s("8fea"),g=s("ce87"),y=s("132d"),b=s("2fa4"),$=s("3a2f"),x=Object(m["a"])(d,i,l,!1,null,"49d7dae5",null),w=x.exports;v()(x,{VBtn:_["a"],VCard:p["a"],VDataTable:h["a"],VHover:g["a"],VIcon:y["a"],VSpacer:b["a"],VTooltip:$["a"]});var k={metaInfo:function(){return{title:this.$vuetify.lang.t("$vuetify.patients_settlements.title")}},data:function(){return{}},components:{User:w}},C=k,I=Object(m["a"])(C,n,a,!1,null,null,null);e["default"]=I.exports},cd41:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[s("v-card",[s("v-card-text",[s("v-divider",{staticClass:"mx-4"}),s("v-card-text",[s("div",{staticClass:"body-1 font-weight-bold"},[s("br"),s("h3",[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.delete.confirm"))+" ")])])])],1),s("v-divider",{staticClass:"mx-4",staticStyle:{"margin-top":"-30px"}}),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{disabled:t.loading},on:{click:function(e){t.dialog.show=!1}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.no"))+" ")]),s("v-btn",{attrs:{loading:t.loading,dark:"",color:"#0984e3"},on:{click:function(e){return t.deleteItem()}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.yes"))+" ")])],1)],1)],1)},a=[],i={props:{dialog:{type:Object,default:function(){return{show:!1}}},urlItems:{type:String,default:""},messages:{type:Object,default:function(){return{success:""}}}},data:function(){return{loading:!1}},methods:{deleteItem:function(){var t=this;this.loading=!0,this.$store.dispatch("request",{url:t.urlItems,method:"DELETE",data:t.urlDeleteItems}).then((function(){t.$store.dispatch("showNotification",{statut:!0,text:t.$vuetify.lang.t(t.messages.success)}),t.$emit("getItems"),t.dialog.show=!1})).catch((function(e){console.log("erreur delete",e),t.$store.dispatch("showNotification",{statut:!0,text:t.$vuetify.lang.t("$vuetify.deletedErrors")})})).then((function(){t.loading=!1}))}}},l=i,r=s("2877"),o=s("6544"),u=s.n(o),c=s("8336"),d=s("b0af"),m=s("99d9"),f=s("169a"),v=s("ce7e"),_=s("2fa4"),p=Object(r["a"])(l,n,a,!1,null,null,null);e["a"]=p.exports;u()(p,{VBtn:c["a"],VCard:d["a"],VCardActions:m["a"],VCardText:m["b"],VDialog:f["a"],VDivider:v["a"],VSpacer:_["a"]})}}]);
//# sourceMappingURL=chunk-bf60ad54.bfd62c1d.js.map