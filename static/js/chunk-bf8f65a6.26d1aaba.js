(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf8f65a6"],{1641:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"title mb-5 white--text lighten-5 text-center",staticStyle:{height:"30px","margin-top":"30px","background-color":"#224b8d"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.meeting.list.is_here"))+" ")]),s("user",{attrs:{color:"black"}})],1)},a=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-card",{staticClass:"pb-4"},[s("div",{staticClass:"mt-5 mx-5"},[s("v-btn",{staticClass:"mr-2 my-2",attrs:{loading:t.loading.refresh,depressed:"",color:"#f1f5fc"},on:{click:function(e){return t.refreshItems()}}},[s("v-icon",{attrs:{left:"",color:"primary"}},[t._v("mdi-refresh")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.refresh"))+" ")],1),s("v-spacer")],1)]),s("v-card",[s("v-data-table",{staticClass:"mt-5",attrs:{"footer-props":{"items-per-page-options":t.itemPerPageOptions},headers:t.headers,items:t.items,"items-per-page":t.itemPerPage,loading:t.loading.list,options:t.pagination,"server-items-length":t.meta.totalElements,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"item-key":"name"},on:{"update:options":function(e){t.pagination=e}},scopedSlots:t._u([{key:"header.guests",fn:function(e){var i=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.is_present",fn:function(e){var i=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"header.create_date",fn:function(e){var i=e.header;return[s("tr",[t._v(" "+t._s(t.$vuetify.lang.t(i.text))+" ")])]}},{key:"body",fn:function(e){var i=e.items;return[s("v-hover",[s("tbody",t._l(i,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(e.user.profile.name)+" ")]),s("td",[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on;return[e.is_present?[s("v-icon",t._g({staticClass:"pointer",attrs:{color:"#49c5b6",dark:""},on:{click:function(s){return t.enabled(e)}}},a),[t._v(" mdi-check-circle ")])]:[s("v-icon",t._g({staticClass:"pointer",attrs:{color:"red accent-4",dark:""},on:{click:function(s){return t.enabled(e)}}},a),[t._v(" mdi-close-circle ")])]]}}],null,!0)},[e.is_present?s("span",[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.meeting.cols.is_present.absent"))+" ")]):s("span",[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.meeting.cols.is_present.present"))+" ")])])],1),s("td",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.$moment(e.meeting.createdAt).format("YYYY-MM-DD HH:mm:ss"))+" ")])])})),0)])]}}])}),s("form-component",{ref:"actionForm",attrs:{dialog:t.dialogForm,form:t.form,messages:t.messages},on:{getItems:t.getItems}}),s("delete-item",{attrs:{dialog:t.dialogDelete,messages:t.messagesDelete,urlItems:t.urlDeleteItems},on:{getItems:t.getItems}}),s("is-present",{ref:"isPresent",attrs:{dialog:t.dialogForm,messages:t.messages},on:{getItems:t.getItems}})],1)],1)},r=[],o=(s("4de4"),s("b64b"),s("d3b7"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{"max-width":"300"},model:{value:t.dialog.shows.showInfo,callback:function(e){t.$set(t.dialog.shows,"showInfo",e)},expression:"dialog.shows.showInfo"}},[s("v-card",[s("v-card-text",[s("div",{staticClass:"body-1 font-weight-bold"},[s("br"),s("h3",[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.title))+" ")])])]),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{on:{click:function(e){t.dialog.shows.showInfo=!1}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.close"))+" ")]),s("v-btn",{attrs:{color:"#0984e3",loading:t.loading,dark:"",type:"submit"},on:{click:t.send}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.yes"))+" ")])],1)],1)],1)}),l=[],u=s("5ed4"),c={mixins:[u["a"]],name:"Infos",props:{dialog:{type:Object,default:function(){return{shows:{showInfo:!1}}}},form:{type:Object,default:function(){return{id:null,is_present:!1}}}},data:function(){return{loading:!1,urlItems:"/meetings/present/is_present"}},methods:{setForm:function(t){this.form.id=t.id,this.form.is_present=!t.is_present},getRoute:function(){return this.form.id?this.urlItems+"/"+this.form.id:this.urlItems},send:function(){this.$store.dispatch("setNotification",{status:!1});var t=this;this.loading=!0,this.$store.dispatch("request",{url:t.getRoute(),method:"PATCH",data:t.getDataForm()}).then((function(){t.$store.dispatch("setNotification",{status:!0,message:t.$vuetify.lang.t(t.messages.success)}),t.dialog.shows.showInfo=!1,t.$emit("getItems")})).catch((function(e){console.log("error",e);var s="$vuetify.error_occured";t.$store.dispatch("setNotification",{status:!0,message:t.$vuetify.lang.t(s)})})).then((function(){t.loading=!1}))}}},d=c,m=s("2877"),f=s("6544"),g=s.n(f),v=s("8336"),h=s("b0af"),p=s("99d9"),y=s("169a"),b=s("ce7e"),$=s("2fa4"),_=Object(m["a"])(d,o,l,!1,null,null,null),w=_.exports;g()(_,{VBtn:v["a"],VCard:h["a"],VCardActions:p["a"],VCardText:p["b"],VDialog:y["a"],VDivider:b["a"],VSpacer:$["a"]});var x=s("24a2"),I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{persistent:"","max-width":"870px"},model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[s("v-card",{staticStyle:{"background-color":"#eceff1"}},[s("v-card-title",[s("div",{staticClass:"title"},[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.title))+" ")])]),s("v-form",{on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[s("v-card",{staticClass:"ml-6",attrs:{"max-width":"820px"}},[s("v-card-text",[s("v-container",[s("v-row",{attrs:{wrap:""}},[s("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",sm:"12"}},[s("v-autocomplete",{staticClass:"font-weight-bold",attrs:{items:t.itemsGuests,loading:t.isLoadingGuests,"search-input":t.searchGuests,color:"primary","item-text":"name","item-value":"id",label:t.$vuetify.lang.t("$vuetify.meeting.cols.guests.title"),"prepend-inner-icon":"mdi-account-multiple-plus mdi-dark mdi-18px","error-messages":t.guestsErrors,outlined:"",dense:"",multiple:"",chips:"",clearable:""},on:{"update:searchInput":function(e){t.searchGuests=e},"update:search-input":function(e){t.searchGuests=e},blur:function(e){return t.$v.form.guests.$touch()},input:function(e){return t.$v.form.guests.$touch()}},scopedSlots:t._u([{key:"selection",fn:function(e){return[t._v(" "+t._s(e.item.profile.name)+" ")]}},{key:"item",fn:function(e){return[t._v(" "+t._s(e.item.profile.name)+" ")]}}]),model:{value:t.form.guests,callback:function(e){t.$set(t.form,"guests",e)},expression:"form.guests"}})],1)],1)],1)],1),s("v-divider",{staticClass:"mx-4",staticStyle:{"margin-top":"-25px"}}),s("v-card-actions",[s("v-spacer"),s("v-btn",{on:{click:function(e){t.dialog.show=!1}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.btn.close"))+" ")]),s("v-btn",{attrs:{color:"primary",loading:t.loading,dark:"",type:"submit"}},[t._v(" "+t._s(t.$vuetify.lang.t(t.messages.submit))+" ")])],1)],1)],1),s("v-card-text")],1)],1)},k=[],V=(s("4160"),s("159b"),s("b5ae")),C={mixins:[u["a"]],props:{form:{type:Object,default:function(){return{id:null,guests:null,committee:null}}}},data:function(){return{is_active:!0,dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},isLoadingGuests:!1,searchGuests:null,itemsGuests:[],urlGuests:"users",urlItems:"meetings"}},watch:{searchGuests:function(t){var e=this;if(null!==t){var s={name:t},i=this;this.isLoadingGuests=!0,this.$store.dispatch("request",{url:i.urlGuests,params:s}).then((function(t){i.itemsGuests=t.data.content})).finally((function(){return e.isLoadingGuests=!1}))}}},created:function(){},validations:function(){var t={form:{guests:{required:V["required"]}}};return t},methods:{getDataForm:function(){var t={guests:this.form.guests,committee:this.$route.params.id};return t},setItemsGuests:function(t){var e=this;e.form.guests=[],t.forEach((function(t){e.itemsGuests.push(t),e.form.guests.push(t.id)}))},setForm:function(t){this.form.id=t.id,this.form.guests=t.guests,this.setItemsGuests(t.guests)}},computed:{guestsErrors:function(){var t=[];return this.$v.form.guests.$dirty?(!this.$v.form.guests.required&&t.push(this.$vuetify.lang.t("$vuetify.meeting.cols.guests.required")),t):t}},components:{}},D=C,F=s("c6a6"),E=s("62ad"),G=s("a523"),O=s("4bd4"),S=s("0fd9"),j=Object(m["a"])(D,I,k,!1,null,null,null),P=j.exports;g()(j,{VAutocomplete:F["a"],VBtn:v["a"],VCard:h["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VCol:E["a"],VContainer:G["a"],VDialog:y["a"],VDivider:b["a"],VForm:O["a"],VRow:S["a"],VSpacer:$["a"]});var q=s("cd41"),A={mixins:[x["a"]],data:function(){return{urlItems:"/meetings/present",sortBy:["id"],dialogForm:{show:!1,shows:{showFilter:!1,showInfo:!1}},dialogDelete:{show:!1},dialogDetail:{show:!1},dialogEnt:{show:!1},form:{id:null,code:null,medical_areas:null,name:null,billable:null,is_active:null},filter:{name:null,billable:null},messages:{title:"",submit:"",success:""},messagesDelete:{success:"$vuetify.meeting.delete.success"}}},created:function(){this.getItems()},methods:{getItems:function(){var t=this,e=this,s=this.pagination,i=s.page,a=s.itemsPerPage,n={page:i,size:a};return this._.isEmpty(this._search)||(this._search=this._.merge(n,this._search)),new Promise((function(s,i){t.loading.list=!0,e.$store.dispatch("request",{url:e.urlItems+"?id="+t.$route.params.id,params:n}).then((function(t){var i=t.data;e.items=i.content,e.meta={totalElements:i.totalElements},s(t)})).catch((function(s){var a=t.$vuetify.lang.t("$vuetify.error_occured");if(s.response)if(400===s.response.status){var n=s.response.data;e.setFormErrors(n);var r=Object.keys(n)[0];r&&Array.isArray(n[r])&&(a=n[r][0])}else 403===s.response.status?a=e.$vuetify.lang.t("$vuetify.error_denied"):500===s.response.status&&(a=e.$vuetify.lang.t("$vuetify.error_server"));e.$store.dispatch("showNotification",{status:!0,text:a}),i(s)})).then((function(){e.loading.list=!1,s()}))}))},setHeaders:function(){this.headers=[{text:"$vuetify.meeting.cols.guests.title",value:"guests",align:"start",sortable:!1,width:"15",class:"grey--text text--darken-3"},{text:"$vuetify.meeting.cols.is_present.title",value:"is_present",align:"start",sortable:!1,width:"15",class:"grey--text text--darken-3"},{text:"$vuetify.meeting.cols.created.title",value:"create_date",align:"start",sortable:!1,width:"105",class:"grey--text text--darken-3"}]},create:function(){this.dialogForm.show=!0,this.messages={title:"$vuetify.meeting.new.title",submit:"$vuetify.meeting.new.submit",success:"$vuetify.meeting.new.success"},this.form={id:null,code:null,name:null,billable:null,is_active:!1}},editmeeting:function(t){this.dialogForm.show=!0,this.messages={title:"$vuetify.meeting.update.title",submit:"$vuetify.meeting.update.submit",success:"$vuetify.meeting.update.success"},this.$refs.actionForm.setForm(t)},enabled:function(t){this.$refs.isPresent.setForm(t),this.dialogForm.shows.showInfo=!0,this.messages={title:"$vuetify.meeting.update.submit",submit:"$vuetify.meeting.update.submit",success:"$vuetify.meeting.update.success"}},performFilter:function(){var t=this;t.loading.list=!0;var e={};null!==t.filter.code&&(e["code"]=t.filter.code),t._search=e,t.getItems().then((function(){})).finally((function(){}))}},components:{FormComponent:P,IsPresent:w,DeleteItem:q["a"]},computed:{}},T=A,B=s("8fea"),N=s("ce87"),H=s("132d"),L=s("3a2f"),Y=Object(m["a"])(T,n,r,!1,null,"194ba68e",null),R=Y.exports;g()(Y,{VBtn:v["a"],VCard:h["a"],VDataTable:B["a"],VHover:N["a"],VIcon:H["a"],VSpacer:$["a"],VTooltip:L["a"]});var J={metaInfo:function(){return{title:this.$vuetify.lang.t("$vuetify.meeting.title")}},data:function(){return{}},components:{User:R}},M=J,z=Object(m["a"])(M,i,a,!1,null,null,null);e["default"]=z.exports},cd41:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[s("v-card",[s("v-card-text",[s("v-divider",{staticClass:"mx-4"}),s("v-card-text",[s("div",{staticClass:"body-1 font-weight-bold"},[s("br"),s("h3",[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.delete.confirm"))+" ")])])])],1),s("v-divider",{staticClass:"mx-4",staticStyle:{"margin-top":"-30px"}}),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{disabled:t.loading},on:{click:function(e){t.dialog.show=!1}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.no"))+" ")]),s("v-btn",{attrs:{loading:t.loading,dark:"",color:"#0984e3"},on:{click:function(e){return t.deleteItem()}}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.yes"))+" ")])],1)],1)],1)},a=[],n={props:{dialog:{type:Object,default:function(){return{show:!1}}},urlItems:{type:String,default:""},messages:{type:Object,default:function(){return{success:""}}}},data:function(){return{loading:!1}},methods:{deleteItem:function(){var t=this;this.loading=!0,this.$store.dispatch("request",{url:t.urlItems,method:"DELETE",data:t.urlDeleteItems}).then((function(){t.$store.dispatch("showNotification",{statut:!0,text:t.$vuetify.lang.t(t.messages.success)}),t.$emit("getItems"),t.dialog.show=!1})).catch((function(e){console.log("erreur delete",e),t.$store.dispatch("showNotification",{statut:!0,text:t.$vuetify.lang.t("$vuetify.deletedErrors")})})).then((function(){t.loading=!1}))}}},r=n,o=s("2877"),l=s("6544"),u=s.n(l),c=s("8336"),d=s("b0af"),m=s("99d9"),f=s("169a"),g=s("ce7e"),v=s("2fa4"),h=Object(o["a"])(r,i,a,!1,null,null,null);e["a"]=h.exports;u()(h,{VBtn:c["a"],VCard:d["a"],VCardActions:m["a"],VCardText:m["b"],VDialog:f["a"],VDivider:g["a"],VSpacer:v["a"]})}}]);
//# sourceMappingURL=chunk-bf8f65a6.26d1aaba.js.map